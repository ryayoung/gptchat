import{A as he,s as P,f as T,g as M,h as p,d as f,j as c,i as I,O as J,D as st,y as z,P as ie,o as it,t as Ye,p as ae,Q as A,R,x as C,r as me,a as N,c as S,u as ge,v as ve,w as pe,S as ke,T as ce,l as re,m as se,n as oe,U as ue,k as le,V as we,W as de,e as Q,X as _e,z as te}from"./scheduler.afda2bc1.js";import{t as $,a as k,S as W,i as G,b as U,d as O,m as j,g as q,c as Y,e as K}from"./index.3b22678c.js";function x(s){return(s==null?void 0:s.length)!==void 0?s:Array.from(s)}function ot(s,e){$(s,1,1,()=>{e.delete(s.key)})}function at(s,e,l,n,t,i,r,o,a,u,_,V){let b=s.length,g=i.length,m=b;const d={};for(;m--;)d[s[m].key]=m;const h=[],y=new Map,v=new Map,L=[];for(m=g;m--;){const w=V(t,i,m),H=l(w);let F=r.get(H);F?n&&L.push(()=>F.p(w,e)):(F=u(H,w),F.c()),y.set(H,h[m]=F),H in d&&v.set(H,Math.abs(m-d[H]))}const D=new Set,B=new Set;function E(w){k(w,1),w.m(o,_),r.set(w.key,w),_=w.first,g--}for(;b&&g;){const w=h[g-1],H=s[b-1],F=w.key,X=H.key;w===H?(_=w.first,b--,g--):y.has(X)?!r.has(F)||D.has(F)?E(w):B.has(X)?b--:v.get(F)>v.get(X)?(B.add(F),E(w)):(D.add(X),b--):(a(H,r),b--)}for(;b--;){const w=s[b];y.has(w.key)||a(w,r)}for(;g;)E(h[g-1]);return he(L),h}function ct(s){let e,l,n;return{c(){e=T("textarea"),this.h()},l(t){e=M(t,"TEXTAREA",{autocorrect:!0,autocomplete:!0,autocapitalize:!0,spellcheck:!0,placeholder:!0,style:!0,rows:!0,class:!0}),p(e).forEach(f),this.h()},h(){c(e,"autocorrect","off"),c(e,"autocomplete","off"),c(e,"autocapitalize","off"),c(e,"spellcheck","false"),e.value=s[0],c(e,"placeholder",s[1]),c(e,"style",s[4]),c(e,"rows","1"),c(e,"class","svelte-rm3h0e")},m(t,i){I(t,e,i),s[12](e),l||(n=[J(e,"focus",function(){st(s[3])&&s[3].apply(this,arguments)}),J(e,"keydown",s[5]),J(e,"input",s[6])],l=!0)},p(t,[i]){s=t,i&1&&(e.value=s[0]),i&2&&c(e,"placeholder",s[1]),i&16&&c(e,"style",s[4])},i:z,o:z,d(t){t&&f(e),s[12](null),l=!1,he(n)}}}function ut(s,e,l){let n,t;const i=ie();let{value:r}=e,{style:o}=e,{placeholder:a=""}=e,{submitKeyMode:u="enter"}=e,{maxHeight:_=0}=e,V;function b(v){V(v)&&(v.preventDefault(),i("submit"),Ye().then(g))}let g;it(()=>g());function m(){g(),i("customchange",h.value)}function d(){h==null||h.focus()}let h;function y(v){ae[v?"unshift":"push"](()=>{h=v,l(2,h),l(9,_)})}return s.$$set=v=>{"value"in v&&l(0,r=v.value),"style"in v&&l(7,o=v.style),"placeholder"in v&&l(1,a=v.placeholder),"submitKeyMode"in v&&l(8,u=v.submitKeyMode),"maxHeight"in v&&l(9,_=v.maxHeight)},s.$$.update=()=>{s.$$.dirty&512&&l(11,n=_?`max-height: ${_}px;`:""),s.$$.dirty&2176&&l(4,t=`${n} ${o}`),s.$$.dirty&256&&(u==="enter"?V=v=>v.key==="Enter"&&!v.shiftKey:V=v=>v.key==="Enter"&&(v.metaKey||v.ctrlKey)),s.$$.dirty&516&&(_?l(3,g=()=>{h&&(h.scrollHeight>_?(l(2,h.style.overflowY="scroll",h),l(2,h.style.height=_+"px",h)):(l(2,h.style.overflowY="hidden",h),l(2,h.style.height="auto",h),l(2,h.style.height=h.scrollHeight+"px",h)))}):l(3,g=()=>{h&&(l(2,h.style.overflowY="hidden",h),l(2,h.style.height="auto",h),l(2,h.style.height=h.scrollHeight+"px",h))}))},[r,a,h,g,t,b,m,o,u,_,d,n,y]}class We extends W{constructor(e){super(),G(this,e,ut,ct,P,{value:0,style:7,placeholder:1,submitKeyMode:8,maxHeight:9,focus:10})}get focus(){return this.$$.ctx[10]}}function ft(s){let e,l;return{c(){e=A("svg"),l=A("path"),this.h()},l(n){e=R(n,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var t=p(e);l=R(t,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0});var i=p(l);i.forEach(f),t.forEach(f),this.h()},h(){c(l,"d","M7 11L12 6L17 11M12 18V7"),c(l,"stroke","currentColor"),c(l,"stroke-width","2"),c(l,"stroke-linecap","round"),c(l,"stroke-linejoin","round"),c(e,"width","24"),c(e,"height","24"),c(e,"viewBox","0 0 24 24"),c(e,"fill","none"),c(e,"xmlns","http://www.w3.org/2000/svg")},m(n,t){I(n,e,t),C(e,l)},p:z,i:z,o:z,d(n){n&&f(e)}}}class ht extends W{constructor(e){super(),G(this,e,null,ft,P,{})}}function dt(s){let e,l;return{c(){e=A("svg"),l=A("path"),this.h()},l(n){e=R(n,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var t=p(e);l=R(t,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),p(l).forEach(f),t.forEach(f),this.h()},h(){c(l,"fill-rule","evenodd"),c(l,"clip-rule","evenodd"),c(l,"d","M9 7C9 4.23858 11.2386 2 14 2C16.7614 2 19 4.23858 19 7V15C19 18.866 15.866 22 12 22C8.13401 22 5 18.866 5 15V9C5 8.44772 5.44772 8 6 8C6.55228 8 7 8.44772 7 9V15C7 17.7614 9.23858 20 12 20C14.7614 20 17 17.7614 17 15V7C17 5.34315 15.6569 4 14 4C12.3431 4 11 5.34315 11 7V15C11 15.5523 11.4477 16 12 16C12.5523 16 13 15.5523 13 15V9C13 8.44772 13.4477 8 14 8C14.5523 8 15 8.44772 15 9V15C15 16.6569 13.6569 18 12 18C10.3431 18 9 16.6569 9 15V7Z"),c(l,"fill","currentColor"),c(e,"width","24"),c(e,"height","24"),c(e,"viewBox","0 0 24 24"),c(e,"fill","none"),c(e,"xmlns","http://www.w3.org/2000/svg")},m(n,t){I(n,e,t),C(e,l)},p:z,i:z,o:z,d(n){n&&f(e)}}}class _t extends W{constructor(e){super(),G(this,e,null,dt,P,{})}}function mt(s){let e,l,n,t,i;return l=new ht({}),{c(){e=T("button"),U(l.$$.fragment),this.h()},l(r){e=M(r,"BUTTON",{class:!0});var o=p(e);O(l.$$.fragment,o),o.forEach(f),this.h()},h(){c(e,"class","send-btn flex-center bottom-right svelte-r8dvr1"),ke(e,"dimmed",s[0]==="")},m(r,o){I(r,e,o),j(l,e,null),n=!0,t||(i=J(e,"click",s[11]),t=!0)},p(r,o){(!n||o&1)&&ke(e,"dimmed",r[0]==="")},i(r){n||(k(l.$$.fragment,r),n=!0)},o(r){$(l.$$.fragment,r),n=!1},d(r){r&&f(e),K(l),t=!1,i()}}}function gt(s){let e,l='<div class="square svelte-r8dvr1"></div>',n,t;return{c(){e=T("button"),e.innerHTML=l,this.h()},l(i){e=M(i,"BUTTON",{class:!0,"data-svelte-h":!0}),ce(e)!=="svelte-4bw2km"&&(e.innerHTML=l),this.h()},h(){c(e,"class","stop-btn bottom-right rounded svelte-r8dvr1")},m(i,r){I(i,e,r),n||(t=J(e,"click",s[10]),n=!0)},p:z,i:z,o:z,d(i){i&&f(e),n=!1,t()}}}function vt(s){let e,l,n,t,i,r,o,a,u,_,V,b,g;const m=s[5].default,d=me(m,s,s[4],null);let h={value:s[0],placeholder:"Send a message...",maxHeight:200,style:"height: 3.25rem; padding: .875rem 3rem .875rem 3rem;"};t=new We({props:h}),s[6](t),t.$on("customchange",s[7]),t.$on("submit",s[8]),o=new _t({});const y=[gt,mt],v=[];function L(D,B){return D[1]?0:1}return u=L(s),_=v[u]=y[u](s),{c(){e=T("div"),l=T("form"),d&&d.c(),n=N(),U(t.$$.fragment),i=N(),r=T("button"),U(o.$$.fragment),a=N(),_.c(),this.h()},l(D){e=M(D,"DIV",{class:!0});var B=p(e);l=M(B,"FORM",{class:!0});var E=p(l);d&&d.l(E),n=S(E),O(t.$$.fragment,E),i=S(E),r=M(E,"BUTTON",{class:!0});var w=p(r);O(o.$$.fragment,w),w.forEach(f),a=S(E),_.l(E),E.forEach(f),B.forEach(f),this.h()},h(){c(r,"class","upload-btn bottom-left svelte-r8dvr1"),c(l,"class","prompt flex-col relative w-full svelte-r8dvr1"),c(e,"class","prompt-container flex justify-center w-full")},m(D,B){I(D,e,B),C(e,l),d&&d.m(l,null),C(l,n),j(t,l,null),C(l,i),C(l,r),j(o,r,null),C(l,a),v[u].m(l,null),V=!0,b||(g=J(r,"click",s[9]),b=!0)},p(D,[B]){d&&d.p&&(!V||B&16)&&ge(d,m,D,D[4],V?pe(m,D[4],B,null):ve(D[4]),null);const E={};B&1&&(E.value=D[0]),t.$set(E);let w=u;u=L(D),u===w?v[u].p(D,B):(q(),$(v[w],1,1,()=>{v[w]=null}),Y(),_=v[u],_?_.p(D,B):(_=v[u]=y[u](D),_.c()),k(_,1),_.m(l,null))},i(D){V||(k(d,D),k(t.$$.fragment,D),k(o.$$.fragment,D),k(_),V=!0)},o(D){$(d,D),$(t.$$.fragment,D),$(o.$$.fragment,D),$(_),V=!1},d(D){D&&f(e),d&&d.d(D),s[6](null),K(t),K(o),v[u].d(),b=!1,g()}}}function pt(s,e,l){let{$$slots:n={},$$scope:t}=e;const i=ie();let{text:r}=e,{generating:o}=e;setTimeout(()=>a==null?void 0:a.focus(),50);let a;function u(d){ae[d?"unshift":"push"](()=>{a=d,l(2,a)})}const _=d=>i("customchange",d.detail),V=()=>i("submit"),b=()=>i("upload"),g=()=>i("stop"),m=()=>i("submit");return s.$$set=d=>{"text"in d&&l(0,r=d.text),"generating"in d&&l(1,o=d.generating),"$$scope"in d&&l(4,t=d.$$scope)},[r,o,a,i,t,n,u,_,V,b,g,m]}class bt extends W{constructor(e){super(),G(this,e,pt,vt,P,{text:0,generating:1})}}function kt(s){let e,l;return{c(){e=A("svg"),l=A("path"),this.h()},l(n){e=R(n,"svg",{class:!0,width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var t=p(e);l=R(t,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),p(l).forEach(f),t.forEach(f),this.h()},h(){c(l,"fill-rule","evenodd"),c(l,"clip-rule","evenodd"),c(l,"d","M13.2929 4.29291C15.0641 2.52167 17.9359 2.52167 19.7071 4.2929C21.4783 6.06414 21.4783 8.93588 19.7071 10.7071L18.7073 11.7069L11.1603 19.2539C10.7182 19.696 10.1489 19.989 9.53219 20.0918L4.1644 20.9864C3.84584 21.0395 3.52125 20.9355 3.29289 20.7071C3.06453 20.4788 2.96051 20.1542 3.0136 19.8356L3.90824 14.4678C4.01103 13.8511 4.30396 13.2818 4.7461 12.8397L13.2929 4.29291ZM13 7.41422L6.16031 14.2539C6.01293 14.4013 5.91529 14.591 5.88102 14.7966L5.21655 18.7835L9.20339 18.119C9.40898 18.0847 9.59872 17.9871 9.7461 17.8397L16.5858 11L13 7.41422ZM18 9.5858L14.4142 6.00001L14.7071 5.70712C15.6973 4.71693 17.3027 4.71693 18.2929 5.70712C19.2831 6.69731 19.2831 8.30272 18.2929 9.29291L18 9.5858Z"),c(l,"fill","currentColor"),c(e,"class","icon-md"),c(e,"width","24"),c(e,"height","24"),c(e,"viewBox","0 0 24 24"),c(e,"fill","none"),c(e,"xmlns","http://www.w3.org/2000/svg")},m(n,t){I(n,e,t),C(e,l)},p:z,i:z,o:z,d(n){n&&f(e)}}}class wt extends W{constructor(e){super(),G(this,e,null,kt,P,{})}}function Ct(s){let e,l;return{c(){e=A("svg"),l=A("path"),this.h()},l(n){e=R(n,"svg",{style:!0,class:!0,viewBox:!0,xmlns:!0,fill:!0});var t=p(e);l=R(t,"path",{"fill-rule":!0,"clip-rule":!0,d:!0}),p(l).forEach(f),t.forEach(f),this.h()},h(){c(l,"fill-rule","evenodd"),c(l,"clip-rule","evenodd"),c(l,"d","M8 8.707l3.646 3.647.708-.707L8.707 8l3.647-3.646-.707-.708L8 7.293 4.354 3.646l-.707.708L7.293 8l-3.646 3.646.707.708L8 8.707z"),c(e,"style",s[0]),c(e,"class","codicon-svg"),c(e,"viewBox","0 0 16 16"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"fill","currentColor")},m(n,t){I(n,e,t),C(e,l)},p(n,[t]){t&1&&c(e,"style",n[0])},i:z,o:z,d(n){n&&f(e)}}}function yt(s,e,l){let{style:n=""}=e;return s.$$set=t=>{"style"in t&&l(0,n=t.style)},[n]}class be extends W{constructor(e){super(),G(this,e,yt,Ct,P,{style:0})}}function Et(s){let e,l;return{c(){e=A("svg"),l=A("path"),this.h()},l(n){e=R(n,"svg",{style:!0,class:!0,viewBox:!0,xmlns:!0,fill:!0});var t=p(e);l=R(t,"path",{"fill-rule":!0,"clip-rule":!0,d:!0}),p(l).forEach(f),t.forEach(f),this.h()},h(){c(l,"fill-rule","evenodd"),c(l,"clip-rule","evenodd"),c(l,"d","M13.71 4.29l-3-3L10 1H4L3 2v12l1 1h9l1-1V5l-.29-.71zM13 14H4V2h5v4h4v8zm-3-9V2l3 3h-3z"),c(e,"style",s[0]),c(e,"class","codicon-svg"),c(e,"viewBox","0 0 16 16"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"fill","currentColor")},m(n,t){I(n,e,t),C(e,l)},p(n,[t]){t&1&&c(e,"style",n[0])},i:z,o:z,d(n){n&&f(e)}}}function Vt(s,e,l){let{style:n=""}=e;return s.$$set=t=>{"style"in t&&l(0,n=t.style)},[n]}class $t extends W{constructor(e){super(),G(this,e,Vt,Et,P,{style:0})}}function Ce(s){let e,l,n,t,i;return l=new be({}),{c(){e=T("button"),U(l.$$.fragment),this.h()},l(r){e=M(r,"BUTTON",{class:!0});var o=p(e);O(l.$$.fragment,o),o.forEach(f),this.h()},h(){c(e,"class","svelte-eflf79")},m(r,o){I(r,e,o),j(l,e,null),n=!0,t||(i=J(e,"click",s[4]),t=!0)},p:z,i(r){n||(k(l.$$.fragment,r),n=!0)},o(r){$(l.$$.fragment,r),n=!1},d(r){r&&f(e),K(l),t=!1,i()}}}function Tt(s){let e,l,n,t,i,r,o,a;n=new $t({});let u=s[1]&&Ce(s);return{c(){e=T("div"),l=T("div"),U(n.$$.fragment),t=N(),i=T("span"),r=re(s[0]),o=N(),u&&u.c(),this.h()},l(_){e=M(_,"DIV",{class:!0,style:!0});var V=p(e);l=M(V,"DIV",{class:!0});var b=p(l);O(n.$$.fragment,b),b.forEach(f),t=S(V),i=M(V,"SPAN",{class:!0});var g=p(i);r=se(g,s[0]),g.forEach(f),o=S(V),u&&u.l(V),V.forEach(f),this.h()},h(){c(l,"class","icon svelte-eflf79"),c(i,"class","svelte-eflf79"),c(e,"class","file-item inline-flex items-center gap.5 relative set-visibility-on-hover text-sm svelte-eflf79"),c(e,"style",s[2])},m(_,V){I(_,e,V),C(e,l),j(n,l,null),C(e,t),C(e,i),C(i,r),C(e,o),u&&u.m(e,null),a=!0},p(_,[V]){(!a||V&1)&&oe(r,_[0]),_[1]?u?(u.p(_,V),V&2&&k(u,1)):(u=Ce(_),u.c(),k(u,1),u.m(e,null)):u&&(q(),$(u,1,1,()=>{u=null}),Y()),(!a||V&4)&&c(e,"style",_[2])},i(_){a||(k(n.$$.fragment,_),k(u),a=!0)},o(_){$(n.$$.fragment,_),$(u),a=!1},d(_){_&&f(e),K(n),u&&u.d()}}}function Mt(s,e,l){const n=ie();let{name:t}=e,{removable:i=!1}=e,{style:r=""}=e;const o=()=>n("remove");return s.$$set=a=>{"name"in a&&l(0,t=a.name),"removable"in a&&l(1,i=a.removable),"style"in a&&l(2,r=a.style)},[t,i,r,n,o]}class Ge extends W{constructor(e){super(),G(this,e,Mt,Tt,P,{name:0,removable:1,style:2})}}function ye(s,e,l){const n=s.slice();return n[13]=e[l],n}function Dt(s){let e,l;return e=new Ge({props:{name:s[13].name,style:"margin: .5rem 0 1rem 0;"}}),{c(){U(e.$$.fragment)},l(n){O(e.$$.fragment,n)},m(n,t){j(e,n,t),l=!0},p(n,t){const i={};t&2&&(i.name=n[13].name),e.$set(i)},i(n){l||(k(e.$$.fragment,n),l=!0)},o(n){$(e.$$.fragment,n),l=!1},d(n){K(e,n)}}}function It(s){let e,l;return{c(){e=T("img"),this.h()},l(n){e=M(n,"IMG",{style:!0,src:!0,alt:!0,loading:!0,decoding:!0}),this.h()},h(){le(e,"max-height","12rem"),le(e,"width","auto"),le(e,"height","auto"),we(e.src,l=s[13].image_url.url)||c(e,"src",l),c(e,"alt","Uploaded"),c(e,"loading","lazy"),c(e,"decoding","async")},m(n,t){I(n,e,t)},p(n,t){t&2&&!we(e.src,l=n[13].image_url.url)&&c(e,"src",l)},i:z,o:z,d(n){n&&f(e)}}}function Ee(s){let e,l,n,t;const i=[It,Dt],r=[];function o(a,u){return a[13].type==="image_url"?0:a[13].type==="binary"?1:-1}return~(l=o(s))&&(n=r[l]=i[l](s)),{c(){e=T("div"),n&&n.c()},l(a){e=M(a,"DIV",{});var u=p(e);n&&n.l(u),u.forEach(f)},m(a,u){I(a,e,u),~l&&r[l].m(e,null),t=!0},p(a,u){let _=l;l=o(a),l===_?~l&&r[l].p(a,u):(n&&(q(),$(r[_],1,1,()=>{r[_]=null}),Y()),~l?(n=r[l],n?n.p(a,u):(n=r[l]=i[l](a),n.c()),k(n,1),n.m(e,null)):n=null)},i(a){t||(k(n),t=!0)},o(a){$(n),t=!1},d(a){a&&f(e),~l&&r[l].d()}}}function Lt(s){let e,l,n,t,i,r="Save & Submit",o,a,u='<div class="flex-center">Cancel</div>',_,V,b,g={value:s[4],style:"min-height: 1.25rem; word-wrap: break-word; white-space: pre-wrap;",submitKeyMode:"ctrl-enter"};return e=new We({props:g}),s[10](e),e.$on("customchange",s[11]),e.$on("submit",s[8]),{c(){U(e.$$.fragment),l=N(),n=T("div"),t=T("button"),i=T("div"),i.textContent=r,o=N(),a=T("button"),a.innerHTML=u,this.h()},l(m){O(e.$$.fragment,m),l=S(m),n=M(m,"DIV",{class:!0});var d=p(n);t=M(d,"BUTTON",{class:!0});var h=p(t);i=M(h,"DIV",{class:!0,"data-svelte-h":!0}),ce(i)!=="svelte-q813n"&&(i.textContent=r),h.forEach(f),o=S(d),a=M(d,"BUTTON",{class:!0,"data-svelte-h":!0}),ce(a)!=="svelte-1bk14se"&&(a.innerHTML=u),d.forEach(f),this.h()},h(){c(i,"class","flex-center"),c(t,"class","btn btn-primary"),t.disabled=s[2],c(a,"class","btn btn-neutral"),c(n,"class","editing-controls flex justify-center gap.5 svelte-rek7v7")},m(m,d){j(e,m,d),I(m,l,d),I(m,n,d),C(n,t),C(t,i),C(n,o),C(n,a),_=!0,V||(b=[J(t,"click",s[8]),J(a,"click",s[7])],V=!0)},p(m,d){const h={};d&16&&(h.value=m[4]),e.$set(h),(!_||d&4)&&(t.disabled=m[2])},i(m){_||(k(e.$$.fragment,m),_=!0)},o(m){$(e.$$.fragment,m),_=!1},d(m){m&&(f(l),f(n)),s[10](null),K(e,m),V=!1,he(b)}}}function Bt(s){let e,l;return{c(){e=T("div"),l=re(s[0]),this.h()},l(n){e=M(n,"DIV",{class:!0});var t=p(e);l=se(t,s[0]),t.forEach(f),this.h()},h(){c(e,"class","user-text flex-col items-start gap.75 selectable-text-deep svelte-rek7v7")},m(n,t){I(n,e,t),C(e,l)},p(n,t){t&1&&oe(l,n[0])},i:z,o:z,d(n){n&&f(e)}}}function Ve(s){let e,l,n,t,i,r,o,a;return i=new wt({}),{c(){e=T("div"),l=T("div"),n=T("button"),t=T("div"),U(i.$$.fragment),this.h()},l(u){e=M(u,"DIV",{class:!0});var _=p(e);l=M(_,"DIV",{class:!0});var V=p(l);n=M(V,"BUTTON",{class:!0});var b=p(n);t=M(b,"DIV",{class:!0});var g=p(t);O(i.$$.fragment,g),g.forEach(f),b.forEach(f),V.forEach(f),_.forEach(f),this.h()},h(){c(t,"class","icon-wrapper flex items-center gap.375 text-xs"),c(n,"class","svelte-rek7v7"),c(l,"class","buttons-container flex gap.25 svelte-rek7v7"),c(e,"class","controls flex gap.75 svelte-rek7v7")},m(u,_){I(u,e,_),C(e,l),C(l,n),C(n,t),j(i,t,null),r=!0,o||(a=J(n,"click",s[6]),o=!0)},p:z,i(u){r||(k(i.$$.fragment,u),r=!0)},o(u){$(i.$$.fragment,u),r=!1},d(u){u&&f(e),K(i),o=!1,a()}}}function Ht(s){let e,l,n,t,i,r,o,a=x(s[1]),u=[];for(let d=0;d<a.length;d+=1)u[d]=Ee(ye(s,a,d));const _=d=>$(u[d],1,1,()=>{u[d]=null}),V=[Bt,Lt],b=[];function g(d,h){return d[3]?1:0}t=g(s),i=b[t]=V[t](s);let m=!s[3]&&Ve(s);return{c(){e=T("div"),l=T("div");for(let d=0;d<u.length;d+=1)u[d].c();n=N(),i.c(),r=N(),m&&m.c(),this.h()},l(d){e=M(d,"DIV",{class:!0});var h=p(e);l=M(h,"DIV",{class:!0});var y=p(l);for(let v=0;v<u.length;v+=1)u[v].l(y);n=S(y),i.l(y),y.forEach(f),r=S(h),m&&m.l(h),h.forEach(f),this.h()},h(){c(l,"class","content-container flex-col svelte-rek7v7"),c(e,"class","sections-container")},m(d,h){I(d,e,h),C(e,l);for(let y=0;y<u.length;y+=1)u[y]&&u[y].m(l,null);C(l,n),b[t].m(l,null),C(e,r),m&&m.m(e,null),o=!0},p(d,[h]){if(h&2){a=x(d[1]);let v;for(v=0;v<a.length;v+=1){const L=ye(d,a,v);u[v]?(u[v].p(L,h),k(u[v],1)):(u[v]=Ee(L),u[v].c(),k(u[v],1),u[v].m(l,n))}for(q(),v=a.length;v<u.length;v+=1)_(v);Y()}let y=t;t=g(d),t===y?b[t].p(d,h):(q(),$(b[y],1,1,()=>{b[y]=null}),Y(),i=b[t],i?i.p(d,h):(i=b[t]=V[t](d),i.c()),k(i,1),i.m(l,null)),d[3]?m&&(q(),$(m,1,1,()=>{m=null}),Y()):m?(m.p(d,h),h&8&&k(m,1)):(m=Ve(d),m.c(),k(m,1),m.m(e,null))},i(d){if(!o){for(let h=0;h<a.length;h+=1)k(u[h]);k(i),k(m),o=!0}},o(d){u=u.filter(Boolean);for(let h=0;h<u.length;h+=1)$(u[h]);$(i),$(m),o=!1},d(d){d&&f(e),ue(u,d),b[t].d(),m&&m.d()}}}function zt(s,e,l){const n=ie();let{id:t}=e,{contentText:i}=e,{contentFiles:r}=e,{generating:o}=e,a=!1,u="";function _(){l(4,u=i),l(3,a=!0),Ye().then(()=>{g==null||g.focus()})}function V(){l(4,u=""),l(3,a=!1)}function b(){n("submit",{text:u,id:t}),V()}let g=null;function m(h){ae[h?"unshift":"push"](()=>{g=h,l(5,g)})}const d=h=>l(4,u=h.detail);return s.$$set=h=>{"id"in h&&l(9,t=h.id),"contentText"in h&&l(0,i=h.contentText),"contentFiles"in h&&l(1,r=h.contentFiles),"generating"in h&&l(2,o=h.generating)},[i,r,o,a,u,g,_,V,b,t,m,d]}class Ft extends W{constructor(e){super(),G(this,e,zt,Ht,P,{id:9,contentText:0,contentFiles:1,generating:2})}}function Zt(s){let e,l;return{c(){e=A("svg"),l=A("path"),this.h()},l(n){e=R(n,"svg",{class:!0,width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var t=p(e);l=R(t,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),p(l).forEach(f),t.forEach(f),this.h()},h(){c(l,"fill-rule","evenodd"),c(l,"clip-rule","evenodd"),c(l,"d","M4.5 2.5C5.05228 2.5 5.5 2.94772 5.5 3.5V5.07196C7.19872 3.47759 9.48483 2.5 12 2.5C17.2467 2.5 21.5 6.75329 21.5 12C21.5 17.2467 17.2467 21.5 12 21.5C7.1307 21.5 3.11828 17.8375 2.565 13.1164C2.50071 12.5679 2.89327 12.0711 3.4418 12.0068C3.99033 11.9425 4.48712 12.3351 4.5514 12.8836C4.98798 16.6089 8.15708 19.5 12 19.5C16.1421 19.5 19.5 16.1421 19.5 12C19.5 7.85786 16.1421 4.5 12 4.5C9.7796 4.5 7.7836 5.46469 6.40954 7H9C9.55228 7 10 7.44772 10 8C10 8.55228 9.55228 9 9 9H4.5C3.96064 9 3.52101 8.57299 3.50073 8.03859C3.49983 8.01771 3.49958 7.99677 3.5 7.9758V3.5C3.5 2.94772 3.94771 2.5 4.5 2.5Z"),c(l,"fill","currentColor"),c(e,"class","icon-md"),c(e,"width","24"),c(e,"height","24"),c(e,"viewBox","0 0 24 24"),c(e,"fill","none"),c(e,"xmlns","http://www.w3.org/2000/svg")},m(n,t){I(n,e,t),C(e,l)},p:z,i:z,o:z,d(n){n&&f(e)}}}class Nt extends W{constructor(e){super(),G(this,e,null,Zt,P,{})}}function St(s){let e,l,n,t,i,r,o,a,u,_,V;const b=s[2].default,g=me(b,s,s[1],null);return a=new Nt({}),{c(){e=T("div"),l=T("div"),g&&g.c(),n=N(),t=T("div"),i=T("div"),r=T("button"),o=T("div"),U(a.$$.fragment),this.h()},l(m){e=M(m,"DIV",{class:!0});var d=p(e);l=M(d,"DIV",{class:!0});var h=p(l);g&&g.l(h),h.forEach(f),n=S(d),t=M(d,"DIV",{class:!0});var y=p(t);i=M(y,"DIV",{class:!0});var v=p(i);r=M(v,"BUTTON",{class:!0});var L=p(r);o=M(L,"DIV",{class:!0});var D=p(o);O(a.$$.fragment,D),D.forEach(f),L.forEach(f),v.forEach(f),y.forEach(f),d.forEach(f),this.h()},h(){c(l,"class","content-container flex-col svelte-icez2j"),c(o,"class","icon-wrapper flex items-center gap.375 text-xs"),c(r,"class","svelte-icez2j"),c(i,"class","buttons-container"),c(t,"class","controls flex gap.25 svelte-icez2j"),c(e,"class","sections-container")},m(m,d){I(m,e,d),C(e,l),g&&g.m(l,null),C(e,n),C(e,t),C(t,i),C(i,r),C(r,o),j(a,o,null),u=!0,_||(V=J(r,"click",s[3]),_=!0)},p(m,[d]){g&&g.p&&(!u||d&2)&&ge(g,b,m,m[1],u?pe(b,m[1],d,null):ve(m[1]),null)},i(m){u||(k(g,m),k(a.$$.fragment,m),u=!0)},o(m){$(g,m),$(a.$$.fragment,m),u=!1},d(m){m&&f(e),g&&g.d(m),K(a),_=!1,V()}}}function At(s,e,l){let{$$slots:n={},$$scope:t}=e;const i=ie(),r=()=>i("regenerate");return s.$$set=o=>{"$$scope"in o&&l(1,t=o.$$scope)},[i,t,n,r]}class Rt extends W{constructor(e){super(),G(this,e,At,St,P,{})}}function Ut(s){let e,l;return{c(){e=A("svg"),l=A("path"),this.h()},l(n){e=R(n,"svg",{viewBox:!0,width:!0,height:!0,fill:!0,xmlns:!0});var t=p(e);l=R(t,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),p(l).forEach(f),t.forEach(f),this.h()},h(){c(l,"fill-rule","evenodd"),c(l,"clip-rule","evenodd"),c(l,"d","M7.66607 0.376042C8.01072 0.605806 8.10385 1.07146 7.87408 1.4161L3.54075 7.9161C3.40573 8.11863 3.18083 8.24304 2.93752 8.24979C2.69421 8.25654 2.46275 8.1448 2.31671 7.95008L0.150044 5.06119C-0.098484 4.72982 -0.0313267 4.25972 0.300044 4.01119C0.631415 3.76266 1.10152 3.82982 1.35004 4.16119L2.88068 6.20204L6.62601 0.584055C6.85577 0.239408 7.32142 0.146278 7.66607 0.376042Z"),c(l,"fill","currentColor"),c(e,"viewBox","0 0 8 9"),c(e,"width","8"),c(e,"height","9"),c(e,"fill","none"),c(e,"xmlns","http://www.w3.org/2000/svg")},m(n,t){I(n,e,t),C(e,l)},p:z,i:z,o:z,d(n){n&&f(e)}}}class Ot extends W{constructor(e){super(),G(this,e,null,Ut,P,{})}}function jt(s){let e,l,n,t,i;return{c(){e=A("svg"),l=A("mask"),n=A("path"),t=A("path"),i=A("path"),this.h()},l(r){e=R(r,"svg",{viewBox:!0,width:!0,height:!0,fill:!0,xmlns:!0});var o=p(e);l=R(o,"mask",{id:!0,fill:!0});var a=p(l);n=R(a,"path",{"fill-rule":!0,"clip-rule":!0,d:!0}),p(n).forEach(f),a.forEach(f),t=R(o,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),p(t).forEach(f),i=R(o,"path",{d:!0,fill:!0,mask:!0}),p(i).forEach(f),o.forEach(f),this.h()},h(){c(n,"fill-rule","evenodd"),c(n,"clip-rule","evenodd"),c(n,"d","M1 6.5C1 7.05228 1.44772 7.5 2 7.5C2.55228 7.5 3 7.05228 3 6.5V1.5C3 0.947715 2.55228 0.5 2 0.5C1.44772 0.5 1 0.947715 1 1.5L1 6.5ZM0.75 10.25C0.75 10.9404 1.30964 11.5 2 11.5C2.69036 11.5 3.25 10.9404 3.25 10.25C3.25 9.55964 2.69036 9 2 9C1.30964 9 0.75 9.55964 0.75 10.25Z"),c(l,"id","path-1-inside-1_1975_4008"),c(l,"fill","currentColor"),c(t,"fill-rule","evenodd"),c(t,"clip-rule","evenodd"),c(t,"d","M1 6.5C1 7.05228 1.44772 7.5 2 7.5C2.55228 7.5 3 7.05228 3 6.5V1.5C3 0.947715 2.55228 0.5 2 0.5C1.44772 0.5 1 0.947715 1 1.5L1 6.5ZM0.75 10.25C0.75 10.9404 1.30964 11.5 2 11.5C2.69036 11.5 3.25 10.9404 3.25 10.25C3.25 9.55964 2.69036 9 2 9C1.30964 9 0.75 9.55964 0.75 10.25Z"),c(t,"fill","currentColor"),c(i,"d","M1 6.5H-0.25H1ZM1 1.5L-0.25 1.5L-0.25 1.5L1 1.5ZM2 6.25C2.13807 6.25 2.25 6.36193 2.25 6.5H-0.25C-0.25 7.74264 0.757359 8.75 2 8.75V6.25ZM1.75 6.5C1.75 6.36193 1.86193 6.25 2 6.25V8.75C3.24264 8.75 4.25 7.74264 4.25 6.5H1.75ZM1.75 1.5V6.5H4.25V1.5H1.75ZM2 1.75C1.86193 1.75 1.75 1.63807 1.75 1.5H4.25C4.25 0.257359 3.24264 -0.75 2 -0.75V1.75ZM2.25 1.5C2.25 1.63807 2.13807 1.75 2 1.75V-0.75C0.757359 -0.75 -0.25 0.257359 -0.25 1.5L2.25 1.5ZM2.25 6.5L2.25 1.5L-0.25 1.5L-0.25 6.5L2.25 6.5ZM2 10.25H-0.5C-0.5 11.6307 0.619288 12.75 2 12.75V10.25ZM2 10.25V12.75C3.38071 12.75 4.5 11.6307 4.5 10.25H2ZM2 10.25H2H4.5C4.5 8.86929 3.38071 7.75 2 7.75V10.25ZM2 10.25H2V7.75C0.619288 7.75 -0.5 8.86929 -0.5 10.25H2Z"),c(i,"fill","currentColor"),c(i,"mask","url(#path-1-inside-1_1975_4008)"),c(e,"viewBox","0 0 4 12"),c(e,"width","4"),c(e,"height","12"),c(e,"fill","none"),c(e,"xmlns","http://www.w3.org/2000/svg")},m(r,o){I(r,e,o),C(e,l),C(l,n),C(e,t),C(e,i)},p:z,i:z,o:z,d(r){r&&f(e)}}}class Kt extends W{constructor(e){super(),G(this,e,null,jt,P,{})}}function Pt(s){let e,l,n;return{c(){e=A("svg"),l=A("path"),this.h()},l(t){e=R(t,"svg",{style:!0,width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var i=p(e);l=R(i,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0}),p(l).forEach(f),i.forEach(f),this.h()},h(){c(l,"d","M11.3346 7.83203L8.00131 11.1654L4.66797 7.83203"),c(l,"stroke","currentColor"),c(l,"stroke-width","2"),c(l,"stroke-linecap","round"),c(l,"stroke-linejoin","round"),c(e,"style",n=s[0]?"":"transform: rotate(270deg)"),c(e,"width","16"),c(e,"height","17"),c(e,"viewBox","0 0 16 17"),c(e,"fill","none"),c(e,"xmlns","http://www.w3.org/2000/svg")},m(t,i){I(t,e,i),C(e,l)},p(t,[i]){i&1&&n!==(n=t[0]?"":"transform: rotate(270deg)")&&c(e,"style",n)},i:z,o:z,d(t){t&&f(e)}}}function qt(s,e,l){let{open:n=!1}=e;return s.$$set=t=>{"open"in t&&l(0,n=t.open)},[n]}class Yt extends W{constructor(e){super(),G(this,e,qt,Pt,P,{open:0})}}function Wt(s){let e,l;return{c(){e=A("svg"),l=A("path"),this.h()},l(n){e=R(n,"svg",{style:!0,class:!0,viewBox:!0,xmlns:!0,fill:!0});var t=p(e);l=R(t,"path",{"fill-rule":!0,"clip-rule":!0,d:!0}),p(l).forEach(f),t.forEach(f),this.h()},h(){c(l,"fill-rule","evenodd"),c(l,"clip-rule","evenodd"),c(l,"d","M13.917 7A6.002 6.002 0 0 0 2.083 7H1.071a7.002 7.002 0 0 1 13.858 0h-1.012z"),c(e,"style",s[0]),c(e,"class","codicon-svg loading"),c(e,"viewBox","0 0 16 16"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"fill","currentColor")},m(n,t){I(n,e,t),C(e,l)},p(n,[t]){t&1&&c(e,"style",n[0])},i:z,o:z,d(n){n&&f(e)}}}function Gt(s,e,l){let{style:n=""}=e;return s.$$set=t=>{"style"in t&&l(0,n=t.style)},[n]}class Xe extends W{constructor(e){super(),G(this,e,Gt,Wt,P,{style:0})}}function Xt(s){let e,l;return e=new Ot({}),{c(){U(e.$$.fragment)},l(n){O(e.$$.fragment,n)},m(n,t){j(e,n,t),l=!0},i(n){l||(k(e.$$.fragment,n),l=!0)},o(n){$(e.$$.fragment,n),l=!1},d(n){K(e,n)}}}function Qt(s){let e,l;return e=new Xe({props:{style:"height: 1.25rem; width: 1.25rem;"}}),{c(){U(e.$$.fragment)},l(n){O(e.$$.fragment,n)},m(n,t){j(e,n,t),l=!0},i(n){l||(k(e.$$.fragment,n),l=!0)},o(n){$(e.$$.fragment,n),l=!1},d(n){K(e,n)}}}function Jt(s){let e,l;return e=new Kt({}),{c(){U(e.$$.fragment)},l(n){O(e.$$.fragment,n)},m(n,t){j(e,n,t),l=!0},i(n){l||(k(e.$$.fragment,n),l=!0)},o(n){$(e.$$.fragment,n),l=!1},d(n){K(e,n)}}}function $e(s){let e,l,n=s[2]&&Te(s),t=s[3]&&Me(s);return{c(){e=T("div"),n&&n.c(),l=N(),t&&t.c(),this.h()},l(i){e=M(i,"DIV",{class:!0});var r=p(e);n&&n.l(r),l=S(r),t&&t.l(r),r.forEach(f),this.h()},h(){c(e,"class","content overflow-hidden svelte-10v395l")},m(i,r){I(i,e,r),n&&n.m(e,null),C(e,l),t&&t.m(e,null)},p(i,r){i[2]?n?n.p(i,r):(n=Te(i),n.c(),n.m(e,l)):n&&(n.d(1),n=null),i[3]?t?t.p(i,r):(t=Me(i),t.c(),t.m(e,null)):t&&(t.d(1),t=null)},d(i){i&&f(e),n&&n.d(),t&&t.d()}}}function Te(s){let e,l="Arguments",n,t,i;return{c(){e=T("div"),e.textContent=l,n=N(),t=T("div"),i=new de(!1),this.h()},l(r){e=M(r,"DIV",{class:!0,"data-svelte-h":!0}),ce(e)!=="svelte-16rse8r"&&(e.textContent=l),n=S(r),t=M(r,"DIV",{class:!0});var o=p(t);i=_e(o,!1),o.forEach(f),this.h()},h(){c(e,"class","header text-xs svelte-10v395l"),i.a=null,c(t,"class","markdown-body arguments selectable-text-deep svelte-10v395l")},m(r,o){I(r,e,o),I(r,n,o),I(r,t,o),i.m(s[2],t)},p(r,o){o&4&&i.p(r[2])},d(r){r&&(f(e),f(n),f(t))}}}function Me(s){let e,l,n="Result",t;function i(a,u){if(a[4]==="text")return el;if(a[4]==="markdown")return xt}let r=i(s),o=r&&r(s);return{c(){e=T("div"),l=T("div"),l.textContent=n,t=N(),o&&o.c(),this.h()},l(a){e=M(a,"DIV",{class:!0});var u=p(e);l=M(u,"DIV",{class:!0,"data-svelte-h":!0}),ce(l)!=="svelte-14n08bv"&&(l.textContent=n),t=S(u),o&&o.l(u),u.forEach(f),this.h()},h(){c(l,"class","title text-xs svelte-10v395l"),c(e,"class","footer svelte-10v395l")},m(a,u){I(a,e,u),C(e,l),C(e,t),o&&o.m(e,null)},p(a,u){r===(r=i(a))&&o?o.p(a,u):(o&&o.d(1),o=r&&r(a),o&&(o.c(),o.m(e,null)))},d(a){a&&f(e),o&&o.d()}}}function xt(s){let e,l,n=s[5](s[3])+"";return{c(){e=T("div"),l=new de(!1),this.h()},l(t){e=M(t,"DIV",{class:!0});var i=p(e);l=_e(i,!1),i.forEach(f),this.h()},h(){l.a=null,c(e,"class","markdown-body selectable-text-deep")},m(t,i){I(t,e,i),l.m(n,e)},p(t,i){i&40&&n!==(n=t[5](t[3])+"")&&l.p(n)},d(t){t&&f(e)}}}function el(s){let e,l;return{c(){e=T("pre"),l=re(s[3]),this.h()},l(n){e=M(n,"PRE",{class:!0});var t=p(e);l=se(t,s[3]),t.forEach(f),this.h()},h(){c(e,"class","result selectable-text")},m(n,t){I(n,e,t),C(e,l)},p(n,t){t&8&&oe(l,n[3])},d(n){n&&f(e)}}}function tl(s){let e,l,n,t,i,r,o,a,u,_,V,b,g,m,d,h,y,v;const L=[Jt,Qt,Xt],D=[];function B(w,H){return w[0]==="error"?0:w[0]==="progress"?1:2}t=B(s),i=D[t]=L[t](s),g=new Yt({props:{open:s[6]}});let E=s[6]&&$e(s);return{c(){e=T("div"),l=T("div"),n=T("div"),i.c(),o=N(),a=T("div"),u=T("button"),_=T("div"),V=new de(!1),b=N(),U(g.$$.fragment),m=N(),E&&E.c(),d=Q(),this.h()},l(w){e=M(w,"DIV",{class:!0});var H=p(e);l=M(H,"DIV",{class:!0});var F=p(l);n=M(F,"DIV",{class:!0});var X=p(n);i.l(X),X.forEach(f),F.forEach(f),o=S(H),a=M(H,"DIV",{class:!0});var ne=p(a);u=M(ne,"BUTTON",{class:!0});var ee=p(u);_=M(ee,"DIV",{class:!0});var fe=p(_);V=_e(fe,!1),fe.forEach(f),b=S(ee),O(g.$$.fragment,ee),ee.forEach(f),ne.forEach(f),H.forEach(f),m=S(w),E&&E.l(w),d=Q(),this.h()},h(){c(n,"class",r="indicator "+s[0]+" flex-center full rounded svelte-10v395l"),c(l,"class","indicator-container relative svelte-10v395l"),V.a=null,c(_,"class","markdown-body function-status selectable-text-deep svelte-10v395l"),c(u,"class","label flex items-center gap.25 svelte-10v395l"),c(a,"class","label-container relative w-full svelte-10v395l"),c(e,"class","tab flex items-center gap.625 svelte-10v395l")},m(w,H){I(w,e,H),C(e,l),C(l,n),D[t].m(n,null),C(e,o),C(e,a),C(a,u),C(u,_),V.m(s[1],_),C(u,b),j(g,u,null),I(w,m,H),E&&E.m(w,H),I(w,d,H),h=!0,y||(v=J(u,"click",s[8]),y=!0)},p(w,[H]){let F=t;t=B(w),t!==F&&(q(),$(D[F],1,1,()=>{D[F]=null}),Y(),i=D[t],i||(i=D[t]=L[t](w),i.c()),k(i,1),i.m(n,null)),(!h||H&1&&r!==(r="indicator "+w[0]+" flex-center full rounded svelte-10v395l"))&&c(n,"class",r),(!h||H&2)&&V.p(w[1]);const X={};H&64&&(X.open=w[6]),g.$set(X),w[6]?E?E.p(w,H):(E=$e(w),E.c(),E.m(d.parentNode,d)):E&&(E.d(1),E=null)},i(w){h||(k(i),k(g.$$.fragment,w),h=!0)},o(w){$(i),$(g.$$.fragment,w),h=!1},d(w){w&&(f(e),f(m),f(d)),D[t].d(),K(g),E&&E.d(w),y=!1,v()}}}function ll(s,e,l){let{progressMode:n}=e,{title:t}=e,{args:i}=e,{result:r}=e,{generating:o}=e,{resultType:a}=e,{markdownRenderer:u}=e,_=!0;const V=()=>l(6,_=!_);return s.$$set=b=>{"progressMode"in b&&l(0,n=b.progressMode),"title"in b&&l(1,t=b.title),"args"in b&&l(2,i=b.args),"result"in b&&l(3,r=b.result),"generating"in b&&l(7,o=b.generating),"resultType"in b&&l(4,a=b.resultType),"markdownRenderer"in b&&l(5,u=b.markdownRenderer)},[n,t,i,r,a,u,_,o,V]}class nl extends W{constructor(e){super(),G(this,e,ll,tl,P,{progressMode:0,title:1,args:2,result:3,generating:7,resultType:4,markdownRenderer:5})}}function rl(s){let e,l,n,t,i,r,o,a=s[0]==="user"?"You":"Assistant",u,_,V,b,g,m;const d=s[2].default,h=me(d,s,s[1],null);return{c(){e=T("div"),l=T("div"),n=T("div"),i=N(),r=T("div"),o=T("div"),u=re(a),_=N(),V=T("div"),h&&h.c(),b=N(),g=T("div"),this.h()},l(y){e=M(y,"DIV",{class:!0});var v=p(e);l=M(v,"DIV",{class:!0});var L=p(l);n=M(L,"DIV",{class:!0}),p(n).forEach(f),i=S(L),r=M(L,"DIV",{class:!0});var D=p(r);o=M(D,"DIV",{class:!0});var B=p(o);u=se(B,a),B.forEach(f),_=S(D),V=M(D,"DIV",{class:!0});var E=p(V);h&&h.l(E),E.forEach(f),D.forEach(f),b=S(L),g=M(L,"DIV",{class:!0}),p(g).forEach(f),L.forEach(f),v.forEach(f),this.h()},h(){c(n,"class",t="avatar "+s[0]+" flex-center rounded overflow-hidden svelte-ht9z45"),c(o,"class","name svelte-ht9z45"),c(V,"class","sections-container"),c(r,"class","message-container flex-col relative w-full svelte-ht9z45"),c(g,"class","right-spacer svelte-ht9z45"),c(l,"class","chat flex gap.75 mx-auto svelte-ht9z45"),c(e,"class","chat-container w-full svelte-ht9z45")},m(y,v){I(y,e,v),C(e,l),C(l,n),C(l,i),C(l,r),C(r,o),C(o,u),C(r,_),C(r,V),h&&h.m(V,null),C(l,b),C(l,g),m=!0},p(y,[v]){(!m||v&1&&t!==(t="avatar "+y[0]+" flex-center rounded overflow-hidden svelte-ht9z45"))&&c(n,"class",t),(!m||v&1)&&a!==(a=y[0]==="user"?"You":"Assistant")&&oe(u,a),h&&h.p&&(!m||v&2)&&ge(h,d,y,y[1],m?pe(d,y[1],v,null):ve(y[1]),null)},i(y){m||(k(h,y),m=!0)},o(y){$(h,y),m=!1},d(y){y&&f(e),h&&h.d(y)}}}function sl(s,e,l){let{$$slots:n={},$$scope:t}=e,{type:i}=e;return s.$$set=r=>{"type"in r&&l(0,i=r.type),"$$scope"in r&&l(1,t=r.$$scope)},[i,t,n]}class il extends W{constructor(e){super(),G(this,e,sl,rl,P,{type:0})}}function ol(s){let e,l,n,t,i,r,o,a,u,_,V,b,g,m,d;return t=new be({}),{c(){e=T("div"),l=T("div"),n=T("button"),U(t.$$.fragment),i=N(),r=T("div"),o=T("div"),a=re(s[0]),u=re(" Error"),_=N(),V=T("div"),b=re(s[1]),this.h()},l(h){e=M(h,"DIV",{class:!0});var y=p(e);l=M(y,"DIV",{class:!0});var v=p(l);n=M(v,"BUTTON",{class:!0});var L=p(n);O(t.$$.fragment,L),L.forEach(f),i=S(v),r=M(v,"DIV",{class:!0});var D=p(r);o=M(D,"DIV",{class:!0});var B=p(o);a=se(B,s[0]),u=se(B," Error"),B.forEach(f),_=S(D),V=M(D,"DIV",{class:!0});var E=p(V);b=se(E,s[1]),E.forEach(f),D.forEach(f),v.forEach(f),y.forEach(f),this.h()},h(){c(n,"class","svelte-q5o2cs"),c(o,"class","header svelte-q5o2cs"),c(V,"class","text selectable-text svelte-q5o2cs"),c(r,"class","content flex-col gap.25"),c(l,"class","server-error flex items-start svelte-q5o2cs"),c(e,"class","background svelte-q5o2cs")},m(h,y){I(h,e,y),C(e,l),C(l,n),j(t,n,null),C(l,i),C(l,r),C(r,o),C(o,a),C(o,u),C(r,_),C(r,V),C(V,b),g=!0,m||(d=J(n,"click",s[3]),m=!0)},p(h,[y]){(!g||y&1)&&oe(a,h[0]),(!g||y&2)&&oe(b,h[1])},i(h){g||(k(t.$$.fragment,h),g=!0)},o(h){$(t.$$.fragment,h),g=!1},d(h){h&&f(e),K(t),m=!1,d()}}}function al(s,e,l){const n=ie();let{type:t}=e,{text:i}=e;const r=()=>n("remove");return s.$$set=o=>{"type"in o&&l(0,t=o.type),"text"in o&&l(1,i=o.text)},[t,i,n,r]}class cl extends W{constructor(e){super(),G(this,e,al,ol,P,{type:0,text:1})}}function De(s){let e,l,n,t,i;return l=new be({}),{c(){e=T("button"),U(l.$$.fragment),this.h()},l(r){e=M(r,"BUTTON",{class:!0});var o=p(e);O(l.$$.fragment,o),o.forEach(f),this.h()},h(){c(e,"class","remove rounded svelte-1kzkvmr")},m(r,o){I(r,e,o),j(l,e,null),n=!0,t||(i=J(e,"click",s[3]),t=!0)},p:z,i(r){n||(k(l.$$.fragment,r),n=!0)},o(r){$(l.$$.fragment,r),n=!1},d(r){r&&f(e),K(l),t=!1,i()}}}function ul(s){let e,l,n,t,i=s[1]&&De(s);return{c(){e=T("div"),l=T("span"),n=N(),i&&i.c(),this.h()},l(r){e=M(r,"DIV",{class:!0});var o=p(e);l=M(o,"SPAN",{class:!0,style:!0}),p(l).forEach(f),n=S(o),i&&i.l(o),o.forEach(f),this.h()},h(){c(l,"class","image flex-center full svelte-1kzkvmr"),le(l,"background-image","url("+s[0]+")"),c(e,"class","image-item relative overflow-hidden set-visibility-on-hover svelte-1kzkvmr")},m(r,o){I(r,e,o),C(e,l),C(e,n),i&&i.m(e,null),t=!0},p(r,[o]){(!t||o&1)&&le(l,"background-image","url("+r[0]+")"),r[1]?i?(i.p(r,o),o&2&&k(i,1)):(i=De(r),i.c(),k(i,1),i.m(e,null)):i&&(q(),$(i,1,1,()=>{i=null}),Y())},i(r){t||(k(i),t=!0)},o(r){$(i),t=!1},d(r){r&&f(e),i&&i.d()}}}function fl(s,e,l){const n=ie();let{image_url:t}=e,{removable:i}=e;const r=()=>n("remove");return s.$$set=o=>{"image_url"in o&&l(0,t=o.image_url),"removable"in o&&l(1,i=o.removable)},[t,i,n,r]}class hl extends W{constructor(e){super(),G(this,e,fl,ul,P,{image_url:0,removable:1})}}function dl(s){let e,l;return{c(){e=A("svg"),l=A("path"),this.h()},l(n){e=R(n,"svg",{class:!0,width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var t=p(e);l=R(t,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),p(l).forEach(f),t.forEach(f),this.h()},h(){c(l,"fill-rule","evenodd"),c(l,"clip-rule","evenodd"),c(l,"d","M16.7929 2.79289C18.0118 1.57394 19.9882 1.57394 21.2071 2.79289C22.4261 4.01184 22.4261 5.98815 21.2071 7.20711L12.7071 15.7071C12.5196 15.8946 12.2652 16 12 16H9C8.44772 16 8 15.5523 8 15V12C8 11.7348 8.10536 11.4804 8.29289 11.2929L16.7929 2.79289ZM19.7929 4.20711C19.355 3.7692 18.645 3.7692 18.2071 4.2071L10 12.4142V14H11.5858L19.7929 5.79289C20.2308 5.35499 20.2308 4.64501 19.7929 4.20711ZM6 5C5.44772 5 5 5.44771 5 6V18C5 18.5523 5.44772 19 6 19H18C18.5523 19 19 18.5523 19 18V14C19 13.4477 19.4477 13 20 13C20.5523 13 21 13.4477 21 14V18C21 19.6569 19.6569 21 18 21H6C4.34315 21 3 19.6569 3 18V6C3 4.34314 4.34315 3 6 3H10C10.5523 3 11 3.44771 11 4C11 4.55228 10.5523 5 10 5H6Z"),c(l,"fill","currentColor"),c(e,"class","icon-md"),c(e,"width","24"),c(e,"height","24"),c(e,"viewBox","0 0 24 24"),c(e,"fill","none"),c(e,"xmlns","http://www.w3.org/2000/svg")},m(n,t){I(n,e,t),C(e,l)},p:z,i:z,o:z,d(n){n&&f(e)}}}class _l extends W{constructor(e){super(),G(this,e,null,dl,P,{})}}function Ie(s,e,l){const n=s.slice();return n[35]=e[l].type,n[36]=e[l].text,n}function Le(s,e,l){const n=s.slice();return n[39]=e[l],n[41]=l,n}function Be(s,e,l){const n=s.slice();return n[42]=e[l],n[41]=l,n}function He(s,e,l){const n=s.slice();return n[44]=e[l],n[46]=l,n}function ze(s,e,l){const n=s.slice();return n[47]=e[l],n}function Fe(s){let e,l;return e=new Xe({props:{style:"width: 1.5rem; height: 1.5rem;"}}),{c(){U(e.$$.fragment)},l(n){O(e.$$.fragment,n)},m(n,t){j(e,n,t),l=!0},i(n){l||(k(e.$$.fragment,n),l=!0)},o(n){$(e.$$.fragment,n),l=!1},d(n){K(e,n)}}}function ml(s){let e,l;function n(){return s[24](s[46])}return e=new Rt({props:{$$slots:{default:[bl]},$$scope:{ctx:s}}}),e.$on("regenerate",n),{c(){U(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,i){j(e,t,i),l=!0},p(t,i){s=t;const r={};i[0]&57|i[1]&524288&&(r.$$scope={dirty:i,ctx:s}),e.$set(r)},i(t){l||(k(e.$$.fragment,t),l=!0)},o(t){$(e.$$.fragment,t),l=!1},d(t){K(e,t)}}}function gl(s){let e,l;return e=new Ft({props:{id:s[44].id,contentText:s[0].userContentToText(s[44].content),contentFiles:s[0].userContentToFiles(s[44].content),generating:s[4]}}),e.$on("submit",s[11]),{c(){U(e.$$.fragment)},l(n){O(e.$$.fragment,n)},m(n,t){j(e,n,t),l=!0},p(n,t){const i={};t[0]&8&&(i.id=n[44].id),t[0]&9&&(i.contentText=n[0].userContentToText(n[44].content)),t[0]&9&&(i.contentFiles=n[0].userContentToFiles(n[44].content)),t[0]&16&&(i.generating=n[4]),e.$set(i)},i(n){l||(k(e.$$.fragment,n),l=!0)},o(n){$(e.$$.fragment,n),l=!1},d(n){K(e,n)}}}function vl(s){let e,l;return e=new nl({props:{progressMode:s[0].getFunctionCallStatus(s[47].result,s[4]),title:s[0].renderFunctionTitle(s[47].name,s[5].functions),args:s[0].renderFunctionCallArgs(s[47].arguments),result:s[47].result,generating:s[4],resultType:s[0].getFunctionResultType(s[47].name,s[5].functions),markdownRenderer:s[0].renderFunctionCallMarkdown}}),{c(){U(e.$$.fragment)},l(n){O(e.$$.fragment,n)},m(n,t){j(e,n,t),l=!0},p(n,t){const i={};t[0]&25&&(i.progressMode=n[0].getFunctionCallStatus(n[47].result,n[4])),t[0]&41&&(i.title=n[0].renderFunctionTitle(n[47].name,n[5].functions)),t[0]&9&&(i.args=n[0].renderFunctionCallArgs(n[47].arguments)),t[0]&8&&(i.result=n[47].result),t[0]&16&&(i.generating=n[4]),t[0]&41&&(i.resultType=n[0].getFunctionResultType(n[47].name,n[5].functions)),t[0]&1&&(i.markdownRenderer=n[0].renderFunctionCallMarkdown),e.$set(i)},i(n){l||(k(e.$$.fragment,n),l=!0)},o(n){$(e.$$.fragment,n),l=!1},d(n){K(e,n)}}}function pl(s){let e,l,n=s[0].renderAssistantMarkdown(s[47].content)+"";return{c(){e=T("div"),l=new de(!1),this.h()},l(t){e=M(t,"DIV",{class:!0});var i=p(e);l=_e(i,!1),i.forEach(f),this.h()},h(){l.a=null,c(e,"class","markdown-body selectable-text-deep")},m(t,i){I(t,e,i),l.m(n,e)},p(t,i){i[0]&9&&n!==(n=t[0].renderAssistantMarkdown(t[47].content)+"")&&l.p(n)},i:z,o:z,d(t){t&&f(e)}}}function Ze(s){let e,l,n,t;const i=[pl,vl],r=[];function o(a,u){return a[47].type==="content"?0:1}return e=o(s),l=r[e]=i[e](s),{c(){l.c(),n=Q()},l(a){l.l(a),n=Q()},m(a,u){r[e].m(a,u),I(a,n,u),t=!0},p(a,u){let _=e;e=o(a),e===_?r[e].p(a,u):(q(),$(r[_],1,1,()=>{r[_]=null}),Y(),l=r[e],l?l.p(a,u):(l=r[e]=i[e](a),l.c()),k(l,1),l.m(n.parentNode,n))},i(a){t||(k(l),t=!0)},o(a){$(l),t=!1},d(a){a&&f(n),r[e].d(a)}}}function bl(s){let e,l,n=x(s[44].parts),t=[];for(let r=0;r<n.length;r+=1)t[r]=Ze(ze(s,n,r));const i=r=>$(t[r],1,1,()=>{t[r]=null});return{c(){for(let r=0;r<t.length;r+=1)t[r].c();e=Q()},l(r){for(let o=0;o<t.length;o+=1)t[o].l(r);e=Q()},m(r,o){for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(r,o);I(r,e,o),l=!0},p(r,o){if(o[0]&57){n=x(r[44].parts);let a;for(a=0;a<n.length;a+=1){const u=ze(r,n,a);t[a]?(t[a].p(u,o),k(t[a],1)):(t[a]=Ze(u),t[a].c(),k(t[a],1),t[a].m(e.parentNode,e))}for(q(),a=n.length;a<t.length;a+=1)i(a);Y()}},i(r){if(!l){for(let o=0;o<n.length;o+=1)k(t[o]);l=!0}},o(r){t=t.filter(Boolean);for(let o=0;o<t.length;o+=1)$(t[o]);l=!1},d(r){r&&f(e),ue(t,r)}}}function kl(s){let e,l,n,t;const i=[gl,ml],r=[];function o(a,u){return a[44].type==="user"?0:1}return e=o(s),l=r[e]=i[e](s),{c(){l.c(),n=Q()},l(a){l.l(a),n=Q()},m(a,u){r[e].m(a,u),I(a,n,u),t=!0},p(a,u){let _=e;e=o(a),e===_?r[e].p(a,u):(q(),$(r[_],1,1,()=>{r[_]=null}),Y(),l=r[e],l?l.p(a,u):(l=r[e]=i[e](a),l.c()),k(l,1),l.m(n.parentNode,n))},i(a){t||(k(l),t=!0)},o(a){$(l),t=!1},d(a){a&&f(n),r[e].d(a)}}}function Ne(s){let e,l;return e=new il({props:{type:s[44].type,$$slots:{default:[kl]},$$scope:{ctx:s}}}),{c(){U(e.$$.fragment)},l(n){O(e.$$.fragment,n)},m(n,t){j(e,n,t),l=!0},p(n,t){const i={};t[0]&8&&(i.type=n[44].type),t[0]&57|t[1]&524288&&(i.$$scope={dirty:t,ctx:n}),e.$set(i)},i(n){l||(k(e.$$.fragment,n),l=!0)},o(n){$(e.$$.fragment,n),l=!1},d(n){K(e,n)}}}function Se(s){let e,l=s[8].length,n,t=Re(s);return{c(){e=T("div"),t.c(),this.h()},l(i){e=M(i,"DIV",{class:!0});var r=p(e);t.l(r),r.forEach(f),this.h()},h(){c(e,"class","file-uploads flex flex-wrap gap.5 text-sm svelte-x7yfiz")},m(i,r){I(i,e,r),t.m(e,null),n=!0},p(i,r){r[0]&256&&P(l,l=i[8].length)?(q(),$(t,1,1,z),Y(),t=Re(i),t.c(),k(t,1),t.m(e,null)):t.p(i,r)},i(i){n||(k(t),n=!0)},o(i){$(t),n=!1},d(i){i&&f(e),t.d(i)}}}function Ae(s){let e,l;function n(){return s[27](s[41])}return e=new hl({props:{image_url:s[42].image_url.url,removable:!0}}),e.$on("remove",n),{c(){U(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,i){j(e,t,i),l=!0},p(t,i){s=t;const r={};i[0]&256&&(r.image_url=s[42].image_url.url),e.$set(r)},i(t){l||(k(e.$$.fragment,t),l=!0)},o(t){$(e.$$.fragment,t),l=!1},d(t){K(e,t)}}}function Re(s){let e,l,n=x(s[8]),t=[];for(let r=0;r<n.length;r+=1)t[r]=Ae(Be(s,n,r));const i=r=>$(t[r],1,1,()=>{t[r]=null});return{c(){for(let r=0;r<t.length;r+=1)t[r].c();e=Q()},l(r){for(let o=0;o<t.length;o+=1)t[o].l(r);e=Q()},m(r,o){for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(r,o);I(r,e,o),l=!0},p(r,o){if(o[0]&257){n=x(r[8]);let a;for(a=0;a<n.length;a+=1){const u=Be(r,n,a);t[a]?(t[a].p(u,o),k(t[a],1)):(t[a]=Ae(u),t[a].c(),k(t[a],1),t[a].m(e.parentNode,e))}for(q(),a=n.length;a<t.length;a+=1)i(a);Y()}},i(r){if(!l){for(let o=0;o<n.length;o+=1)k(t[o]);l=!0}},o(r){t=t.filter(Boolean);for(let o=0;o<t.length;o+=1)$(t[o]);l=!1},d(r){r&&f(e),ue(t,r)}}}function Ue(s){let e,l=s[9].length,n,t=je(s);return{c(){e=T("div"),t.c(),this.h()},l(i){e=M(i,"DIV",{class:!0});var r=p(e);t.l(r),r.forEach(f),this.h()},h(){c(e,"class","file-uploads flex flex-wrap gap.5 text-sm svelte-x7yfiz")},m(i,r){I(i,e,r),t.m(e,null),n=!0},p(i,r){r[0]&512&&P(l,l=i[9].length)?(q(),$(t,1,1,z),Y(),t=je(i),t.c(),k(t,1),t.m(e,null)):t.p(i,r)},i(i){n||(k(t),n=!0)},o(i){$(t),n=!1},d(i){i&&f(e),t.d(i)}}}function Oe(s){let e,l;function n(){return s[28](s[41])}return e=new Ge({props:{name:s[39].name,removable:!0}}),e.$on("remove",n),{c(){U(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,i){j(e,t,i),l=!0},p(t,i){s=t;const r={};i[0]&512&&(r.name=s[39].name),e.$set(r)},i(t){l||(k(e.$$.fragment,t),l=!0)},o(t){$(e.$$.fragment,t),l=!1},d(t){K(e,t)}}}function je(s){let e,l,n=x(s[9]),t=[];for(let r=0;r<n.length;r+=1)t[r]=Oe(Le(s,n,r));const i=r=>$(t[r],1,1,()=>{t[r]=null});return{c(){for(let r=0;r<t.length;r+=1)t[r].c();e=Q()},l(r){for(let o=0;o<t.length;o+=1)t[o].l(r);e=Q()},m(r,o){for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(r,o);I(r,e,o),l=!0},p(r,o){if(o[0]&513){n=x(r[9]);let a;for(a=0;a<n.length;a+=1){const u=Le(r,n,a);t[a]?(t[a].p(u,o),k(t[a],1)):(t[a]=Oe(u),t[a].c(),k(t[a],1),t[a].m(e.parentNode,e))}for(q(),a=n.length;a<t.length;a+=1)i(a);Y()}},i(r){if(!l){for(let o=0;o<n.length;o+=1)k(t[o]);l=!0}},o(r){t=t.filter(Boolean);for(let o=0;o<t.length;o+=1)$(t[o]);l=!1},d(r){r&&f(e),ue(t,r)}}}function wl(s){let e,l,n,t=s[8].length>0&&Se(s),i=s[9].length>0&&Ue(s);return{c(){t&&t.c(),e=N(),i&&i.c(),l=Q()},l(r){t&&t.l(r),e=S(r),i&&i.l(r),l=Q()},m(r,o){t&&t.m(r,o),I(r,e,o),i&&i.m(r,o),I(r,l,o),n=!0},p(r,o){r[8].length>0?t?(t.p(r,o),o[0]&256&&k(t,1)):(t=Se(r),t.c(),k(t,1),t.m(e.parentNode,e)):t&&(q(),$(t,1,1,()=>{t=null}),Y()),r[9].length>0?i?(i.p(r,o),o[0]&512&&k(i,1)):(i=Ue(r),i.c(),k(i,1),i.m(l.parentNode,l)):i&&(q(),$(i,1,1,()=>{i=null}),Y())},i(r){n||(k(t),k(i),n=!0)},o(r){$(t),$(i),n=!1},d(r){r&&(f(e),f(l)),t&&t.d(r),i&&i.d(r)}}}function Ke(s){let e,l=[],n=new Map,t,i=x(s[10]);const r=o=>o[36];for(let o=0;o<i.length;o+=1){let a=Ie(s,i,o),u=r(a);n.set(u,l[o]=qe(u,a))}return{c(){e=T("div");for(let o=0;o<l.length;o+=1)l[o].c();this.h()},l(o){e=M(o,"DIV",{class:!0});var a=p(e);for(let u=0;u<l.length;u+=1)l[u].l(a);a.forEach(f),this.h()},h(){c(e,"class","errors-container flex-col gap.5 svelte-x7yfiz")},m(o,a){I(o,e,a);for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(e,null);t=!0},p(o,a){a[0]&66560&&(i=x(o[10]),q(),l=at(l,a,r,1,o,i,n,e,ot,qe,null,Ie),Y())},i(o){if(!t){for(let a=0;a<i.length;a+=1)k(l[a]);t=!0}},o(o){for(let a=0;a<l.length;a+=1)$(l[a]);t=!1},d(o){o&&f(e);for(let a=0;a<l.length;a+=1)l[a].d()}}}function Pe(s){let e,l;function n(){return s[33](s[36])}return e=new cl({props:{type:s[35],text:s[36]}}),e.$on("remove",n),{c(){U(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,i){j(e,t,i),l=!0},p(t,i){s=t;const r={};i[0]&1024&&(r.type=s[35]),i[0]&1024&&(r.text=s[36]),e.$set(r)},i(t){l||(k(e.$$.fragment,t),l=!0)},o(t){$(e.$$.fragment,t),l=!1},d(t){K(e,t)}}}function qe(s,e){let l,n=e[16].showType(e[35]),t,i,r=n&&Pe(e);return{key:s,first:null,c(){l=Q(),r&&r.c(),t=Q(),this.h()},l(o){l=Q(),r&&r.l(o),t=Q(),this.h()},h(){this.first=l},m(o,a){I(o,l,a),r&&r.m(o,a),I(o,t,a),i=!0},p(o,a){e=o,a[0]&1024&&(n=e[16].showType(e[35])),n?r?(r.p(e,a),a[0]&1024&&k(r,1)):(r=Pe(e),r.c(),k(r,1),r.m(t.parentNode,t)):r&&(q(),$(r,1,1,()=>{r=null}),Y())},i(o){i||(k(r),i=!0)},o(o){$(r),i=!1},d(o){o&&(f(l),f(t)),r&&r.d(o)}}}function Cl(s){let e,l,n,t,i,r,o,a,u,_,V,b,g,m,d,h;r=new _l({});let y=!s[2]&&Fe(),v=x(s[3]),L=[];for(let E=0;E<v.length;E+=1)L[E]=Ne(He(s,v,E));const D=E=>$(L[E],1,1,()=>{L[E]=null});b=new bt({props:{text:s[7],generating:s[4],$$slots:{default:[wl]},$$scope:{ctx:s}}}),b.$on("customchange",s[29]),b.$on("upload",s[30]),b.$on("submit",s[31]),b.$on("stop",s[32]);let B=s[10].length>0&&Ke(s);return{c(){e=T("div"),l=T("div"),n=T("div"),t=T("div"),i=T("button"),U(r.$$.fragment),o=N(),y&&y.c(),a=N();for(let E=0;E<L.length;E+=1)L[E].c();u=N(),_=T("div"),V=N(),U(b.$$.fragment),g=N(),B&&B.c(),this.h()},l(E){e=M(E,"DIV",{class:!0});var w=p(e);l=M(w,"DIV",{class:!0});var H=p(l);n=M(H,"DIV",{class:!0});var F=p(n);t=M(F,"DIV",{class:!0});var X=p(t);i=M(X,"BUTTON",{class:!0});var ne=p(i);O(r.$$.fragment,ne),ne.forEach(f),X.forEach(f),o=S(F),y&&y.l(F),F.forEach(f),a=S(H);for(let ee=0;ee<L.length;ee+=1)L[ee].l(H);u=S(H),_=M(H,"DIV",{style:!0}),p(_).forEach(f),H.forEach(f),V=S(w),O(b.$$.fragment,w),g=S(w),B&&B.l(w),w.forEach(f),this.h()},h(){c(i,"class","new btn btn-neutral svelte-x7yfiz"),c(t,"class","flex items-center gap.5"),c(n,"class","header flex justify-between items-center svelte-x7yfiz"),le(_,"width","100%"),le(_,"height","0px"),le(_,"visibility","hidden"),c(l,"class","chats flex-col relative full scroll-y svelte-x7yfiz"),c(e,"class","container flex-col svelte-x7yfiz")},m(E,w){I(E,e,w),C(e,l),C(l,n),C(n,t),C(t,i),j(r,i,null),C(n,o),y&&y.m(n,null),C(l,a);for(let H=0;H<L.length;H+=1)L[H]&&L[H].m(l,null);C(l,u),C(l,_),s[25](_),s[26](l),C(e,V),j(b,e,null),C(e,g),B&&B.m(e,null),m=!0,d||(h=[J(i,"click",s[23]),J(l,"scroll",s[22])],d=!0)},p(E,w){if(E[2]?y&&(q(),$(y,1,1,()=>{y=null}),Y()):y?w[0]&4&&k(y,1):(y=Fe(),y.c(),k(y,1),y.m(n,null)),w[0]&2105){v=x(E[3]);let F;for(F=0;F<v.length;F+=1){const X=He(E,v,F);L[F]?(L[F].p(X,w),k(L[F],1)):(L[F]=Ne(X),L[F].c(),k(L[F],1),L[F].m(l,u))}for(q(),F=v.length;F<L.length;F+=1)D(F);Y()}const H={};w[0]&128&&(H.text=E[7]),w[0]&16&&(H.generating=E[4]),w[0]&769|w[1]&524288&&(H.$$scope={dirty:w,ctx:E}),b.$set(H),E[10].length>0?B?(B.p(E,w),w[0]&1024&&k(B,1)):(B=Ke(E),B.c(),k(B,1),B.m(e,null)):B&&(q(),$(B,1,1,()=>{B=null}),Y())},i(E){if(!m){k(r.$$.fragment,E),k(y);for(let w=0;w<v.length;w+=1)k(L[w]);k(b.$$.fragment,E),k(B),m=!0}},o(E){$(r.$$.fragment,E),$(y),L=L.filter(Boolean);for(let w=0;w<L.length;w+=1)$(L[w]);$(b.$$.fragment,E),$(B),m=!1},d(E){E&&f(e),K(r),y&&y.d(),ue(L,E),s[25](null),s[26](null),K(b),B&&B.d(),d=!1,he(h)}}}function yl(s,e,l){let n,t,i,r,o,a,u,_,V,b,{chat:g}=e;function m(Z){g.changeUserMessageAndSubmit(Z.detail.id,Z.detail.text)}const{text:d,files:h,images:y}=g.prompt;te(s,d,Z=>l(7,u=Z)),te(s,h,Z=>l(9,V=Z)),te(s,y,Z=>l(8,_=Z));const{connected:v,scroll:L,errors:D,rendered:B,generating:E,config:w}=g;te(s,v,Z=>l(2,t=Z)),te(s,D,Z=>l(10,b=Z)),te(s,B,Z=>l(3,i=Z)),te(s,E,Z=>l(4,r=Z)),te(s,w,Z=>l(5,o=Z));const{containerDiv:H,ghostDiv:F,handleUserScrollDebounced:X}=L;te(s,H,Z=>l(1,n=Z)),te(s,F,Z=>l(6,a=Z)),setTimeout(()=>L.scroll("force"));const ne=()=>g.reset(),ee=Z=>g.regenerateOnAgentResponse(Z);function fe(Z){ae[Z?"unshift":"push"](()=>{a=Z,F.set(a)})}function Qe(Z){ae[Z?"unshift":"push"](()=>{n=Z,H.set(n)})}const Je=Z=>g.prompt.removeImage(Z),xe=Z=>g.prompt.removeFile(Z),et=Z=>d.set(Z.detail),tt=()=>g.upload(),lt=()=>g.sendMessage(),nt=()=>g.stopGenerating(),rt=Z=>D.remove(Z);return s.$$set=Z=>{"chat"in Z&&l(0,g=Z.chat)},[g,n,t,i,r,o,a,u,_,V,b,m,d,h,y,v,D,B,E,w,H,F,X,ne,ee,fe,Qe,Je,xe,et,tt,lt,nt,rt]}class $l extends W{constructor(e){super(),G(this,e,yl,Cl,P,{chat:0},null,[-1,-1])}}export{$l as default};
