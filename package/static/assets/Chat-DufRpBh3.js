import{h as vt,r as _e,d as ye,a as le,i as Ye,E as Fe,t as Je,p as st,S as Ke,c as We,b as Me,l as Ne,g as qe,s as Ge,m as ot,e as dt,f as Te,j as ke,k as Oe,n as ut,o as ct,q as Ce,u as ft,v as gt,w as ze,x as _t,y as ht,z as mt,A as wt,B as ne,C as W,D as Xe,F as He,G as Re,H as Qe,I as y,J as xt,K as I,L as Z,M as te,N as b,O as re,P as S,Q as Ct,R as Be,T as L,U as q,V as Ie,W as A,X as g,Y as pt,Z as h,_ as we,$ as ue,a0 as Le,a1 as ee,a2 as me,a3 as E,a4 as $e,a5 as ie,a6 as B,a7 as T,a8 as yt,a9 as $,aa as bt,ab as P,ac as Mt,ad as Lt,ae as kt,af as Ht,ag as Ue,ah as Ze,ai as Vt}from"./index-vV0AxcPn.js";import"https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/es/highlight.min.js";import"https://cdn.socket.io/4.7.2/socket.io.esm.min.js";const Ae=-1,pe=99999999,et=-2;function Et(){}function tt(t,e,l,a,o,f,m){const d=(l&Ce)!==0,v=ct(l,t);let C=null;vt(t,d);let x,u=null,i=null;v.r=r=>{const w=C,c=w.s;c.add(r),r.f(()=>{c.delete(r),c.size===0&&w.e!==null&&(w.d!==null&&(_e(w.d),w.d=null),ye(w.e),w.e=null)})};const _=()=>{const r={d:null,e:null,s:new Set,p:C},w=le(()=>{const c=v.d;c!==null&&(_e(c),v.d=null);let p=v.a;(v.f&Ce)!==0&&(p=ft(),v.a.appendChild(p)),f(p),r.d=v.d,v.d=null},v,!0);r.e=w,C=r},n=r=>{const w=r.f,c=(w&Ce)!==0,p=r.a;m(x,r,p,c,o,w,!0,u)},s=le(()=>{const r=e();x=Ye(r)?r:r==null?[]:Array.from(r),a!==null?u=x.map(a):l&Fe||x.map(Et);const w=x.length;if(f!==null){if(w===0){if(v.v.length!==0||i===null){n(v),_();return}}else if(v.v.length===0&&C!==null){const c=C,p=c.s;p.size===0?c.d!==null&&(_e(c.d),c.d=null):Je(p,"out")}}i!==null&&gt(i)},v,!1);i=le(n,v,!0),st(s,()=>{const r=v.f,w=v.a,c=(r&Ce)!==0;let p=C;for(;p!==null;){const k=p.d;k!==null&&_e(k);const M=p.e;M!==null&&ye(M),p=p.p}m([],v,w,c,o,r,!1,u),ye(i)}),v.e=s}function Tt(t,e,l,a,o,f){tt(t,e,l,a,o,f,Bt)}function se(t,e,l,a,o){tt(t,e,l,null,a,o,Zt)}function Zt(t,e,l,a,o,f,m){var d=Ke in t&&t[Ke].i,v=e.v,C=e.s;d&&(f&=~ke);var x=v.length,u=t.length,i=Math.max(x,u),_=0,n,s;if(C.length!==0&&lt(C),u===0)for(n=[],a&&x!==0&&We(l);_<i;)s=v[_++],de(s,C,m,a);else{var r;if(n=Array(u),Me!==null)for(var w=Me[0];_<i;_++){r=d?Ne(t,_):t[_];var c=qe(w);Ge(c),w=c.at(-1).nextSibling.nextSibling,s=oe(r,null,_,o,f),n[_]=s}else for(;_<i;_++)_>=x?(r=d?Ne(t,_):t[_],s=oe(r,null,_,o,f),n[_]=s,be(s,l,a,null)):_>=u?(s=v[_],de(s,C,m)):(r=t[_],s=v[_],n[_]=s,he(s,r,_,f))}e.v=n}function Bt(t,e,l,a,o,f,m,d){var v=e.v;const C=d!==null;var x=e.s,u=v.length,i=t.length,_,n;if(x.length!==0&&lt(x),i===0)for(_=[],a&&u!==0&&We(l);u>0;)n=v[--u],de(n,x,m,a);else{var s=u-1,r=i-1,w,c,p;if(_=Array(i),Me!==null)for(var k,M=Me[0];i>0;)p=r- --i,c=t[p],w=C?d[p]:c,k=qe(M),Ge(k),M=(k.at(-1)||M).nextSibling.nextSibling,n=oe(c,w,p,o,f),_[p]=n;else if(u===0)for(;i>0;)p=r- --i,c=t[p],w=C?d[p]:c,n=oe(c,w,p,o,f),_[p]=n,be(n,l,a,null);else{var G=(f&(ke|ze))!==0,H=0,O=null;c=t[r],w=C?d[r]:c;e:for(;;){for(;v[s].k===w;){if(n=v[s--],c=t[r],G&&he(n,c,r,f),O=De(n),_[r]=n,H>--r||H>s)break e;w=C?d[r]:c}for(c=t[H],w=C?d[H]:c;H<=s&&H<=r&&v[H].k===w;)c=t[H],n=v[H],G&&he(n,c,H,f),_[H]=n,++H,w=C?d[H]:t[H];break}if(H>s)for(;r>=H;)c=t[r],w=C?d[r]:c,n=oe(c,w,r,o,f),_[r--]=n,O=be(n,l,a,O);else if(H>r){i=H;do(n=v[i++])!==null&&de(n,x,m);while(i<=s)}else{var F=0,V=r-H+1,z=new Int32Array(V),j=new Map;for(i=0;i<V;++i)u=i+H,z[i]=Ae,c=t[u],w=C?d[u]:c,ot(j,w,u);for(i=H;i<=s;++i)u=dt(j,v[i].k),n=v[i],u!==void 0?(F=F<u?u:pe,z[u-H]=i,_[u]=n):n!==null&&de(n,x,m);F===pe&&At(z);var U=(f&_t)!==0,X;if(U)for(var K=V;K-- >0;)r=K+H,u=z[K],F===pe&&(n=_[r],c=t[r],he(n,c,r,f));for(var R,D;V-- >0;)r=V+H,u=z[V],X=u===-1,c=t[r],X?(w=C?d[r]:c,n=oe(c,w,r,o,f)):(n=_[r],!U&&G&&he(n,c,r,f)),(X||F===pe&&u!==et)&&(D=R===void 0?O:De(R),O=be(n,l,a,D)),_[r]=n,R=n}}}e.v=_}function At(t){for(var e=t.length,l=new Int32Array(e),a=new Int32Array(e),o=0,f=0,m,d,v,C;t[f]===Ae;++f);for(a[0]=f++;f<e;++f)if(d=t[f],d!==Ae)if(m=a[o],t[m]<d)l[f]=m,a[++o]=f;else{for(v=0,C=o;v<C;)m=v+C>>1,t[a[m]]<d?v=m+1:C=m;d<t[a[v]]&&(v>0&&(l[f]=a[v-1]),a[v]=f)}for(m=a[o];o-->=0;)t[m]=et,m=l[m]}function be(t,e,l,a){var o=t.d;return a===null?l?Te(o,e,null):Te(o,e.parentNode,e):Te(o,null,a)}function De(t){var e=t.d;return Ye(e)?e[0]:e}function lt(t){var e=t.length;if(e>0){for(var l=0,a,o;l<e;l++)a=t[l],o=a.r,o!==null&&(a.r=null,de(a,null,!1));t.length=0}}function he(t,e,l,a){a&ke?Oe(t.v,e):ut(t.v)&&(t.v.o[t.v.p]=e);const o=t.s,f=(a&ze)!==0,m=t.a;o!==null&&a&Fe&&m!==null&&m(t,o,l,f),f?Oe(t.i,l):t.i=l}function de(t,e,l,a=!1){const o=t.s;if(l&&o!==null){for(let m of o)m.r==="key"&&o.delete(m);if(o.size===0)t.s=null;else{Je(o,"out"),e!==null&&e.push(t);return}}const f=t.d;!a&&f!==null&&_e(f),ye(t.e)}function oe(t,e,l,a,o){const m=(o&ke)===0?t:o&mt?ne(t):wt(t),d=o&ze?ne(l):l,v=ht(m,d,e),C=le(x=>{a(null,x.v,x.i)},v,!0);return v.e=C,v}function zt(t,e,l,a,o){Z(e)(t)&&(t.preventDefault(),l.onsubmit(),a().then(Z(o)))}var It=L('<textarea autocorrect="off" autocomplete="off" autocapitalize="off" spellcheck="false" rows="1" class="svelte-rm3h0e"></textarea>');function rt(t,e){S(e,!0);let l=W(e,"style",3,""),a=W(e,"placeholder",3,""),o=W(e,"submitKeyMode",3,"enter"),f=W(e,"maxHeight",3,0),m=te(()=>f()?`max-height: ${f()}px;`:""),d=te(()=>`${Z(m)} ${l()}`),v=te(()=>o()==="enter"?M=>M.key==="Enter"&&!M.shiftKey:M=>M.key==="Enter"&&(M.metaKey||M.ctrlKey));function C(M){s&&(s.scrollHeight>M?(s.style.overflowY="scroll",s.style.height=M+"px"):(s.style.overflowY="hidden",s.style.height="auto",s.style.height=s.scrollHeight+"px"))}function x(){s&&(s.style.overflowY="hidden",s.style.height="auto",s.style.height=s.scrollHeight+"px")}let u=te(()=>f()?()=>C(f()):x);Xe(()=>Z(u)());function i(){Z(u)(),e.onchange(s.value)}function _(){Z(u)()}function n(){s==null||s.focus()}let s;var r=b(t,!0,It);He(r,M=>s=M,s),Ct(r);var w,c,p;le(()=>{w!==(w=e.value)&&(r.value=w),c!==(c=a())&&Be(r,"placeholder",c),p!==(p=Z(d))&&Be(r,"style",p)}),Re("focus",r,_,!1),r.__keydown=[zt,v,e,Qe,u],Re("input",r,i,!1),y(t,r),xt(e,"focus",n);var k={get focus(){return n}};return I(k),k}re(["keydown"]);var St=q('<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M7 11L12 6L17 11M12 18V7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>');function Pt(t,e){S(e,!1);var l=b(t,!0,St);y(t,l),I()}var jt=q('<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 7C9 4.23858 11.2386 2 14 2C16.7614 2 19 4.23858 19 7V15C19 18.866 15.866 22 12 22C8.13401 22 5 18.866 5 15V9C5 8.44772 5.44772 8 6 8C6.55228 8 7 8.44772 7 9V15C7 17.7614 9.23858 20 12 20C14.7614 20 17 17.7614 17 15V7C17 5.34315 15.6569 4 14 4C12.3431 4 11 5.34315 11 7V15C11 15.5523 11.4477 16 12 16C12.5523 16 13 15.5523 13 15V9C13 8.44772 13.4477 8 14 8C14.5523 8 15 8.44772 15 9V15C15 16.6569 13.6569 18 12 18C10.3431 18 9 16.6569 9 15V7Z" fill="currentColor"></path></svg>');function Kt(t,e){S(e,!1);var l=b(t,!0,jt);y(t,l),I()}var Nt=L('<button class="upload-btn bottom-left svelte-1gfedl3" type="button"><!></button>'),Ot=L('<button class="stop-btn bottom-right rounded svelte-1gfedl3" type="button"><div class="square svelte-1gfedl3"></div></button>'),Rt=L('<button class="send-btn flex-center bottom-right svelte-1gfedl3" type="button"><!></button>'),Ut=L('<div class="prompt-container flex justify-center w-full"><form class="prompt flex-col relative w-full svelte-1gfedl3"><!> <!> <!> <!></form></div>');function Dt(t,e){S(e,!0),setTimeout(()=>l==null?void 0:l.focus(),50);let l;var a=b(t,!0,Ut),o=h(a),f=h(o);Ie(()=>e.children,f);var m=g(g(f)),d=te(()=>`height: 3.25rem; padding: .875rem 3rem .875rem ${we(e.allowUpload?"3rem":".875rem")};`),v=g(g(m)),C=g(g(v));He(rt(m,{get value(){return e.text},get onchange(){return e.onchange},get onsubmit(){return e.onsubmit},get placeholder(){return e.placeholder},maxHeight:200,get style(){return Z(d)}}),x=>l=x,l),A(v,()=>e.allowUpload,x=>{var u=b(x,!0,Nt),i=h(u);u.__click=function(..._){const n=e.onupload;return n==null?void 0:n.apply(this,_)},Kt(i,{}),y(x,u)},null),A(C,()=>e.generating,x=>{var u=b(x,!0,Ot);u.__click=function(...i){const _=e.onstop;return _==null?void 0:_.apply(this,i)},y(x,u)},x=>{var u=b(x,!0,Rt),i=h(u);pt(u,"dimmed",()=>e.text===""),u.__click=function(..._){const n=e.onsubmit;return n==null?void 0:n.apply(this,_)},Pt(i,{}),y(x,u)}),y(t,a),I()}re(["click"]);var Yt=q('<svg class="icon-md" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M13.2929 4.29291C15.0641 2.52167 17.9359 2.52167 19.7071 4.2929C21.4783 6.06414 21.4783 8.93588 19.7071 10.7071L18.7073 11.7069L11.1603 19.2539C10.7182 19.696 10.1489 19.989 9.53219 20.0918L4.1644 20.9864C3.84584 21.0395 3.52125 20.9355 3.29289 20.7071C3.06453 20.4788 2.96051 20.1542 3.0136 19.8356L3.90824 14.4678C4.01103 13.8511 4.30396 13.2818 4.7461 12.8397L13.2929 4.29291ZM13 7.41422L6.16031 14.2539C6.01293 14.4013 5.91529 14.591 5.88102 14.7966L5.21655 18.7835L9.20339 18.119C9.40898 18.0847 9.59872 17.9871 9.7461 17.8397L16.5858 11L13 7.41422ZM18 9.5858L14.4142 6.00001L14.7071 5.70712C15.6973 4.71693 17.3027 4.71693 18.2929 5.70712C19.2831 6.69731 19.2831 8.30272 18.2929 9.29291L18 9.5858Z" fill="currentColor"></path></svg>');function Ft(t,e){S(e,!1);var l=b(t,!0,Yt);y(t,l),I()}var Jt=q('<svg class="codicon-svg" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path fill-rule="evenodd" clip-rule="evenodd" d="M8 8.707l3.646 3.647.708-.707L8.707 8l3.647-3.646-.707-.708L8 7.293 4.354 3.646l-.707.708L7.293 8l-3.646 3.646.707.708L8 8.707z"></path></svg>');function Se(t,e){S(e,!0);let l=W(e,"style",3,"");var a=b(t,!0,Jt);ue(a,"style",l),y(t,a),I()}var Wt=q('<svg class="codicon-svg" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path fill-rule="evenodd" clip-rule="evenodd" d="M13.71 4.29l-3-3L10 1H4L3 2v12l1 1h9l1-1V5l-.29-.71zM13 14H4V2h5v4h4v8zm-3-9V2l3 3h-3z"></path></svg>');function qt(t,e){S(e,!0);let l=W(e,"style",3,"");var a=b(t,!0,Wt);ue(a,"style",l),y(t,a),I()}var Gt=L('<button class="svelte-eflf79"><!></button>'),Xt=L('<div class="file-item inline-flex items-center gap.5 relative set-visibility-on-hover text-sm svelte-eflf79"><div class="icon svelte-eflf79"><!></div> <span class="svelte-eflf79"> </span> <!></div>');function at(t,e){S(e,!0);let l=W(e,"onremove",3,null),a=W(e,"style",3,"");var o=b(t,!0,Xt),f=h(o),m=h(f),d=g(g(f)),v=h(d),C=g(g(d)),x;le(()=>{x!==(x=a())&&Be(o,"style",x),Le(v,e.name)}),qt(m,{}),A(C,()=>l()!==null,u=>{var i=b(u,!0,Gt),_=h(i);i.__click=function(...n){const s=l();return s==null?void 0:s.apply(this,n)},Se(_,{}),y(u,i)},null),y(t,o),I()}re(["click"]);var Qt=L('<div class="image-item overflow-hidden svelte-o1pd6t"><img style="max-height: 12rem; width: auto; height: auto;" alt="Uploaded" loading="lazy" decoding="async"></div>'),$t=L('<div class="images-container flex flex-wrap gap.5 svelte-o1pd6t"></div>'),el=L("<div><!></div>"),tl=L('<div class="binaries-container flex flex-wrap gap.5 svelte-o1pd6t"></div>'),ll=L('<div class="user-text flex-col items-start gap.75 selectable-text-deep svelte-o1pd6t"> </div>'),rl=L('<!> <div class="editing-controls flex justify-center gap.5 svelte-o1pd6t"><button class="btn btn-primary"><div class="flex-center">Save & Submit</div></button> <button class="btn btn-neutral"><div class="flex-center">Cancel</div></button></div>',!0),al=L('<div class="controls flex gap.75 svelte-o1pd6t"><div class="buttons-container flex gap.25 svelte-o1pd6t"><button class="svelte-o1pd6t"><div class="icon-wrapper flex items-center gap.375 text-xs"><!></div></button></div></div>'),nl=L('<div class="content-container flex-col svelte-o1pd6t"><!> <!> <!></div> <!>',!0);function il(t,e){S(e,!0);let l=ne(!1),a=ne("");function o(){ee(a,me(e.contentText)),ee(l,!0),Qe().then(()=>{d==null||d.focus()})}function f(){ee(a,""),ee(l,!1)}function m(){e.onsubmit(Z(a)),f()}let d=null;var v=ie(t,!0,nl),C=T(v),x=h(C),u=g(g(x)),i=g(g(u)),_=g(g(C));A(x,()=>e.contentImages.length>0,n=>{var s=b(n,!0,$t);se(s,()=>e.contentImages,73,(r,w,c)=>{let p=()=>B(B(w)).image_url.url;var k=b(r,!0,Qt),M=h(k);ue(M,"src",p),y(r,k)},null),y(n,s)},null),A(u,()=>e.contentBinaries.length>0,n=>{var s=b(n,!0,tl);se(s,()=>e.contentBinaries,73,(r,w,c)=>{let p=()=>B(B(w)).name;var k=b(r,!0,el),M=h(k);at(M,{get name(){return p()}}),y(r,k)},null),y(n,s)},null),A(i,()=>!Z(l),n=>{var s=b(n,!0,ll),r=h(s);$e(r,()=>e.contentText),y(n,s)},n=>{var s=ie(n,!0,rl),r=T(s),w=g(g(r)),c=h(w),p=g(g(c)),k;le(()=>{k!==(k=e.generating)&&(c.disabled=k)}),He(rt(r,{get value(){return Z(a)},onchange:M=>ee(a,me(M)),style:"min-height: 1.25rem; word-wrap: break-word; white-space: pre-wrap; width: 100%;",onsubmit:m,submitKeyMode:"ctrl-enter"}),M=>d=M,d),c.__click=m,p.__click=f,E(n,s)}),A(_,()=>!Z(l),n=>{var s=b(n,!0,al),r=h(s),w=h(r),c=h(w),p=h(c);w.__click=o,Ft(p,{}),y(n,s)},null),E(t,v),I()}re(["click"]);var vl=q('<svg class="icon-md" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.5 2.5C5.05228 2.5 5.5 2.94772 5.5 3.5V5.07196C7.19872 3.47759 9.48483 2.5 12 2.5C17.2467 2.5 21.5 6.75329 21.5 12C21.5 17.2467 17.2467 21.5 12 21.5C7.1307 21.5 3.11828 17.8375 2.565 13.1164C2.50071 12.5679 2.89327 12.0711 3.4418 12.0068C3.99033 11.9425 4.48712 12.3351 4.5514 12.8836C4.98798 16.6089 8.15708 19.5 12 19.5C16.1421 19.5 19.5 16.1421 19.5 12C19.5 7.85786 16.1421 4.5 12 4.5C9.7796 4.5 7.7836 5.46469 6.40954 7H9C9.55228 7 10 7.44772 10 8C10 8.55228 9.55228 9 9 9H4.5C3.96064 9 3.52101 8.57299 3.50073 8.03859C3.49983 8.01771 3.49958 7.99677 3.5 7.9758V3.5C3.5 2.94772 3.94771 2.5 4.5 2.5Z" fill="currentColor"></path></svg>');function sl(t,e){S(e,!1);var l=b(t,!0,vl);y(t,l),I()}var ol=L('<div class="sections-container"><div class="content-container flex-col svelte-1nno5e5"><!></div> <div class="controls flex gap.25 svelte-1nno5e5"><div class="buttons-container"><button class="svelte-1nno5e5"><div class="icon-wrapper flex items-center gap.375 text-xs"><!></div></button></div></div></div>');function dl(t,e){S(e,!0);var l=b(t,!0,ol),a=h(l),o=h(a);Ie(()=>e.children,o);var f=g(g(a)),m=h(f),d=h(m),v=h(d),C=h(v);d.__click=function(...x){const u=e.regenerate;return u==null?void 0:u.apply(this,x)},sl(C,{}),y(t,l),I()}re(["click"]);var ul=q('<svg viewBox="0 0 8 9" width="8" height="9" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M7.66607 0.376042C8.01072 0.605806 8.10385 1.07146 7.87408 1.4161L3.54075 7.9161C3.40573 8.11863 3.18083 8.24304 2.93752 8.24979C2.69421 8.25654 2.46275 8.1448 2.31671 7.95008L0.150044 5.06119C-0.098484 4.72982 -0.0313267 4.25972 0.300044 4.01119C0.631415 3.76266 1.10152 3.82982 1.35004 4.16119L2.88068 6.20204L6.62601 0.584055C6.85577 0.239408 7.32142 0.146278 7.66607 0.376042Z" fill="currentColor"></path></svg>');function cl(t,e){S(e,!1);var l=b(t,!0,ul);y(t,l),I()}var fl=q('<svg viewBox="0 0 4 12" width="4" height="12" fill="none" xmlns="http://www.w3.org/2000/svg"><mask id="path-1-inside-1_1975_4008" fill="currentColor"><path fill-rule="evenodd" clip-rule="evenodd" d="M1 6.5C1 7.05228 1.44772 7.5 2 7.5C2.55228 7.5 3 7.05228 3 6.5V1.5C3 0.947715 2.55228 0.5 2 0.5C1.44772 0.5 1 0.947715 1 1.5L1 6.5ZM0.75 10.25C0.75 10.9404 1.30964 11.5 2 11.5C2.69036 11.5 3.25 10.9404 3.25 10.25C3.25 9.55964 2.69036 9 2 9C1.30964 9 0.75 9.55964 0.75 10.25Z"></path></mask><path fill-rule="evenodd" clip-rule="evenodd" d="M1 6.5C1 7.05228 1.44772 7.5 2 7.5C2.55228 7.5 3 7.05228 3 6.5V1.5C3 0.947715 2.55228 0.5 2 0.5C1.44772 0.5 1 0.947715 1 1.5L1 6.5ZM0.75 10.25C0.75 10.9404 1.30964 11.5 2 11.5C2.69036 11.5 3.25 10.9404 3.25 10.25C3.25 9.55964 2.69036 9 2 9C1.30964 9 0.75 9.55964 0.75 10.25Z" fill="currentColor"></path><path d="M1 6.5H-0.25H1ZM1 1.5L-0.25 1.5L-0.25 1.5L1 1.5ZM2 6.25C2.13807 6.25 2.25 6.36193 2.25 6.5H-0.25C-0.25 7.74264 0.757359 8.75 2 8.75V6.25ZM1.75 6.5C1.75 6.36193 1.86193 6.25 2 6.25V8.75C3.24264 8.75 4.25 7.74264 4.25 6.5H1.75ZM1.75 1.5V6.5H4.25V1.5H1.75ZM2 1.75C1.86193 1.75 1.75 1.63807 1.75 1.5H4.25C4.25 0.257359 3.24264 -0.75 2 -0.75V1.75ZM2.25 1.5C2.25 1.63807 2.13807 1.75 2 1.75V-0.75C0.757359 -0.75 -0.25 0.257359 -0.25 1.5L2.25 1.5ZM2.25 6.5L2.25 1.5L-0.25 1.5L-0.25 6.5L2.25 6.5ZM2 10.25H-0.5C-0.5 11.6307 0.619288 12.75 2 12.75V10.25ZM2 10.25V12.75C3.38071 12.75 4.5 11.6307 4.5 10.25H2ZM2 10.25H2H4.5C4.5 8.86929 3.38071 7.75 2 7.75V10.25ZM2 10.25H2V7.75C0.619288 7.75 -0.5 8.86929 -0.5 10.25H2Z" fill="currentColor" mask="url(#path-1-inside-1_1975_4008)"></path></svg>');function gl(t,e){S(e,!1);var l=b(t,!0,fl);y(t,l),I()}var _l=q('<svg width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M11.3346 7.83203L8.00131 11.1654L4.66797 7.83203" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>');function hl(t,e){S(e,!0);let l=W(e,"open",3,!1);var a=b(t,!0,_l);ue(a,"style",()=>l()?"":"transform: rotate(270deg)"),y(t,a),I()}var ml=q('<svg class="codicon-svg loading" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path fill-rule="evenodd" clip-rule="evenodd" d="M13.917 7A6.002 6.002 0 0 0 2.083 7H1.071a7.002 7.002 0 0 1 13.858 0h-1.012z"></path></svg>');function nt(t,e){S(e,!0);let l=W(e,"style",3,"");var a=b(t,!0,ml);ue(a,"style",l),y(t,a),I()}var wl=L("<div><div></div></div>");function xl(t,e){S(e,!0);const l="https://cdn.plot.ly/plotly-2.27.0.min.js";function a(i){try{return JSON.parse(i)}catch{return null}}async function o(){return new Promise((i,_)=>{if(window.Plotly)i(window.Plotly);else{const n=document.createElement("script");n.src=l,n.onload=()=>i(window.Plotly),document.head.appendChild(n)}})}function f(i){return i?(i.layout=i.layout??{},i.layout.modebar=i.layout.modebar??{},i.config=i.config??{},i.layout.height=400,i.layout.plot_bgcolor="transparent",i.layout.paper_bgcolor="transparent",i.layout.modebar.color="$a9a9a9",i.layout.modebar.activecolor="$007bff",i.layout.modebar.bgcolor="transparent",i.config.displaylogo=!1,i.config.modeBarButtonsToRemove=["zoomIn2d","zoomOut2d","resetScale2d","lasso2d"],i.config.responsive=!0,i):null}let m=ne(null),d=ne(null),v=te(()=>f(a(e.chart_json))),C=ne(!1);setTimeout(async()=>{ee(m,me(await o()))}),Xe(()=>{Z(m)&&Z(d)&&Z(v)&&(Z(m).newPlot(Z(d),Z(v)),Z(C)||ee(C,!0))});var x=b(t,!0,wl),u=h(x);He(u,i=>ee(d,me(i)),d),yt(x,"visibility",()=>Z(C)?"":"invisible"),y(t,x),I()}var Cl=(t,e)=>ee(e,!Z(e)),pl=L('<div class="header flex items-center gap.625 svelte-1ws0rln"><div class="indicator-container relative svelte-1ws0rln"><div><!></div></div> <div class="label-container relative w-full svelte-1ws0rln"><button class="label flex items-center gap.25 svelte-1ws0rln"><div class="markdown-body function-status selectable-text-deep svelte-1ws0rln"><!></div> <!></button></div></div>'),yl=L('<div class="title args text-xs svelte-1ws0rln"><!></div> <div class="horizontal-divider svelte-1ws0rln"></div> <div class="markdown-body args selectable-text-deep"><!></div>',!0),bl=L('<div class="text-result-wrapper svelte-1ws0rln"><div class="title text-result text-xs svelte-1ws0rln"><!></div> <pre class="result selectable-text"> </pre></div>'),Ml=L('<div class="html-result selectable-text-deep svelte-1ws0rln"><!></div>'),Ll=L('<div class="plotly-result selectable-text-deep"><!></div>'),kl=L('<div class="markdown-body markdown-result selectable-text-deep svelte-1ws0rln"><!></div>'),Hl=L('<div class="title block-result text-xs svelte-1ws0rln"><!></div> <div class="horizontal-divider svelte-1ws0rln"></div> <!>',!0),Vl=L('<div class="horizontal-divider svelte-1ws0rln"></div> <!>',!0),El=L('<div class="content overflow-hidden svelte-1ws0rln"><!> <!></div>'),Tl=L("<!> <!>",!0);function Zl(t,e){S(e,!0);let l=ne(me((e.generating,!0)));var a=ie(t,!0,Tl),o=T(a),f=g(g(o));A(o,()=>e.header!==null,m=>{var d=b(m,!0,pl),v=h(d),C=h(v),x=h(C),u=g(g(v)),i=h(u),_=h(i),n=h(_);$(n,()=>e.header,!1);var s=g(g(_));bt(C,()=>`indicator ${we(e.progressMode)}  flex-center full rounded svelte-1ws0rln`),A(x,()=>e.progressMode==="error",r=>{var w=P(r),c=T(w);gl(c,{}),E(r,w)},r=>{var w=P(r),c=T(w);A(c,()=>e.progressMode==="progress",p=>{var k=P(p),M=T(k);nt(M,{style:"height: 1.25rem; width: 1.25rem;"}),E(p,k)},p=>{var k=P(p),M=T(k);cl(M,{}),E(p,k)}),E(r,w)}),i.__click=[Cl,l],hl(s,{get open(){return Z(l)}}),y(m,d)},null),A(f,()=>Z(l)||e.header===null,m=>{var d=b(m,!0,El),v=h(d),C=g(g(v));A(v,()=>e.args,x=>{var u=ie(x,!0,yl),i=T(u),_=h(i);$(_,()=>e.argsTitle,!1);var n=g(g(i)),s=g(g(n)),r=h(s);$(r,()=>e.args,!1),E(x,u)},null),A(C,()=>e.result!==null,x=>{var u=ie(x,!0,Vl),i=T(u),_=g(g(i));A(_,()=>e.resultType==="text",n=>{var s=b(n,!0,bl),r=h(s),w=h(r);$(w,()=>e.resultTitle,!1);var c=g(g(r)),p=h(c);$e(p,()=>e.result),y(n,s)},n=>{var s=ie(n,!0,Hl),r=T(s),w=h(r);$(w,()=>e.resultTitle,!1);var c=g(g(r)),p=g(g(c));A(p,()=>e.resultType==="html",k=>{var M=b(k,!0,Ml),G=h(M);$(G,()=>e.result,!1),y(k,M)},k=>{var M=P(k),G=T(M);A(G,()=>e.resultType==="plotly",H=>{var O=b(H,!0,Ll),F=h(O);xl(F,{get chart_json(){return e.result}}),y(H,O)},H=>{var O=b(H,!0,kl),F=h(O);$(F,()=>e.result,!1),y(H,O)}),E(k,M)}),E(n,s)}),E(x,u)},null),y(m,d)},null),E(t,a),I()}re(["click"]);var Bl=L('<div class="chat-container w-full svelte-533ena"><div class="chat flex gap.75 mx-auto svelte-533ena"><div></div> <div class="message-container flex-col svelte-533ena"><div class="name svelte-533ena"> </div> <div class="sections-container"><!></div></div> <div class="right-spacer svelte-533ena"></div></div></div>');function Al(t,e){S(e,!0);var l=b(t,!0,Bl),a=h(l),o=h(a),f=g(g(o)),m=h(f),d=h(m),v=g(g(m)),C=h(v);Ie(()=>e.children,C),le(()=>{Mt(o,`avatar ${we(e.type)}  flex-center rounded overflow-hidden svelte-533ena`),Le(d,e.type==="user"?"You":e.agentName)}),y(t,l),I()}var zl=L('<div class="background svelte-5i1np0"><div class="error flex items-start svelte-5i1np0"><button class="svelte-5i1np0"><!></button> <div class="content flex-col gap.25"><div class="header svelte-5i1np0"> </div> <div class="text selectable-text svelte-5i1np0"> </div></div></div></div>');function Il(t,e){S(e,!0);var l=b(t,!0,zl),a=h(l),o=h(a),f=h(o),m=g(g(o)),d=h(m),v=h(d),C=g(g(d)),x=h(C);le(()=>{Le(v,`${we(e.type)} Error`),Le(x,e.text)}),o.__click=function(...u){const i=e.onremove;return i==null?void 0:i.apply(this,u)},Se(f,{}),y(t,l),I()}re(["click"]);var Sl=L('<button class="remove rounded svelte-1kzkvmr"><!></button>'),Pl=L('<div class="image-item relative overflow-hidden set-visibility-on-hover svelte-1kzkvmr"><span class="image flex-center full svelte-1kzkvmr"></span> <!></div>');function jl(t,e){S(e,!0);let l=W(e,"onremove",3,null);var a=b(t,!0,Pl),o=h(a),f=g(g(o));ue(o,"style",()=>`background-image: url(${we(e.image_url)});`),A(f,()=>l()!==null,m=>{var d=b(m,!0,Sl),v=h(d);d.__click=function(...C){const x=l();return x==null?void 0:x.apply(this,C)},Se(v,{}),y(m,d)},null),y(t,a),I()}re(["click"]);var Kl=q('<svg class="icon-md" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M16.7929 2.79289C18.0118 1.57394 19.9882 1.57394 21.2071 2.79289C22.4261 4.01184 22.4261 5.98815 21.2071 7.20711L12.7071 15.7071C12.5196 15.8946 12.2652 16 12 16H9C8.44772 16 8 15.5523 8 15V12C8 11.7348 8.10536 11.4804 8.29289 11.2929L16.7929 2.79289ZM19.7929 4.20711C19.355 3.7692 18.645 3.7692 18.2071 4.2071L10 12.4142V14H11.5858L19.7929 5.79289C20.2308 5.35499 20.2308 4.64501 19.7929 4.20711ZM6 5C5.44772 5 5 5.44771 5 6V18C5 18.5523 5.44772 19 6 19H18C18.5523 19 19 18.5523 19 18V14C19 13.4477 19.4477 13 20 13C20.5523 13 21 13.4477 21 14V18C21 19.6569 19.6569 21 18 21H6C4.34315 21 3 19.6569 3 18V6C3 4.34314 4.34315 3 6 3H10C10.5523 3 11 3.44771 11 4C11 4.55228 10.5523 5 10 5H6Z" fill="currentColor"></path></svg>');function Nl(t,e){S(e,!1);var l=b(t,!0,Kl);y(t,l),I()}var Ol=(t,e)=>e.chat.reset(),Rl=L('<div class="logo-small svelte-13fsykf"><!></div>'),Ul=L('<div class="markdown-body selectable-text-deep"><!></div>'),Dl=L('<div class="file-uploads flex flex-wrap gap.5 text-sm svelte-13fsykf"><!></div>'),Yl=L('<div class="file-uploads flex flex-wrap gap.5 text-sm svelte-13fsykf"><!></div>'),Fl=L("<!> <!>",!0),Jl=L('<div class="errors-container flex-col gap.5 svelte-13fsykf"></div>'),Wl=L('<div class="container flex-col svelte-13fsykf"><div class="chats flex-col relative full scroll-y svelte-13fsykf"><div class="header flex justify-between items-center svelte-13fsykf"><div class="flex items-center gap.5"><button class="new btn btn-neutral svelte-13fsykf"><!></button></div> <div class="flex items-center gap.75"><!> <!></div></div> <!></div> <!> <!></div>');function $l(t,e){S(e,!0);const l={};Lt(l);const a=()=>Ze(x,"$config",l),o=()=>Ze(m,"$msgMapping",l),f=()=>Ze(C,"$rendered",l),{msgMapping:m,prompt:d,errors:v,rendered:C,config:x}=e.chat;let u=te(()=>a().agent_name??"Assistant");kt(()=>{C.set(e.chat.renderMessages(o(),a().functions,e.chat.generating))});var i=b(t,!0,Wl),_=h(i),n=h(_),s=h(n),r=h(s),w=h(r),c=g(g(s)),p=h(c),k=g(g(p)),M=g(g(n)),G=g(g(_)),H=te(()=>{var V;return(V=a().prompt)==null?void 0:V.allow_upload}),O=te(()=>{var V;return(V=a().prompt)==null?void 0:V.placeholder}),F=g(g(G));Ht(_,V=>e.chat.scroll.action(V)),r.__click=[Ol,e],Nl(w,{}),A(p,()=>!e.chat.connected,V=>{var z=P(V),j=T(z);nt(j,{style:"width: 1.5rem; height: 1.5rem;"}),E(V,z)},null),A(k,()=>a().logo_small,V=>{var z=b(V,!0,Rl),j=h(z);$(j,()=>a().logo_small,!1),y(V,z)},null),se(M,f,65,(V,z,j)=>{var U=P(V),X=T(U);Al(X,{get type(){return B(z).type},get agentName(){return Z(u)},children:(K,R)=>{var D=P(K),Q=T(D);A(Q,()=>B(z).type==="user",N=>{var Y=P(N),J=T(Y);il(J,{get contentText(){return B(z).contentText},get contentImages(){return B(z).contentImages},get contentBinaries(){return B(z).contentBinaries},get generating(){return e.chat.generating},get onsubmit(){return B(z).onsubmit}}),E(N,Y)},N=>{var Y=P(N),J=T(Y);dl(J,{regenerate:()=>e.chat.regenerateOnAgentResponse(B(j)),children:(ve,xe)=>{var ae=P(ve),ce=T(ae);se(ce,()=>B(z).parts,65,(Pe,Ve,ql)=>{var je=P(Pe),it=T(je);A(it,()=>B(Ve).type==="content",fe=>{var ge=b(fe,!0,Ul),Ee=h(ge);$(Ee,()=>B(Ve).markdownContent,!1),y(fe,ge)},fe=>{var ge=P(fe),Ee=T(ge);Zl(Ee,Vt(()=>B(Ve),{get generating(){return e.chat.generating}})),E(fe,ge)}),E(Pe,je)},null),E(ve,ae)}}),E(N,Y)}),E(K,D)}}),E(V,U)},null),Dt(G,{get text(){return d.text},get generating(){return e.chat.generating},get allowUpload(){return Z(H)},get placeholder(){return Z(O)},onchange:V=>d.text=V,onupload:()=>e.chat.upload(),onsubmit:()=>e.chat.sendMessage(),onstop:()=>e.chat.stopGenerating(),children:(V,z)=>{var j=ie(V,!0,Fl),U=T(j),X=g(g(U));A(U,()=>d.images.length>0,K=>{var R=b(K,!0,Dl),D=h(R);Ue(D,()=>d.images.length,Q=>{var N=P(Q),Y=T(N);se(Y,()=>d.images,65,(J,ve,xe)=>{var ae=P(J),ce=T(ae);jl(ce,{get image_url(){return B(ve).image_url.url},onremove:()=>e.chat.prompt.removeImage(B(xe))}),E(J,ae)},null),E(Q,N)}),y(K,R)},null),A(X,()=>d.files.length>0,K=>{var R=b(K,!0,Yl),D=h(R);Ue(D,()=>d.files.length,Q=>{var N=P(Q),Y=T(N);se(Y,()=>d.files,65,(J,ve,xe)=>{var ae=P(J),ce=T(ae);at(ce,{get name(){return B(ve).name},onremove:()=>e.chat.prompt.removeFile(B(xe))}),E(J,ae)},null),E(Q,N)}),y(K,R)},null),E(V,j)}}),A(F,()=>v.items.length>0,V=>{var z=b(V,!0,Jl);Tt(z,()=>v.items,79,(j,U)=>B(B(j)).text,(j,U,X)=>{let K=()=>B(B(U)).type,R=()=>B(B(U)).text;var D=P(j),Q=T(D);A(Q,()=>v.showType(K()),N=>{var Y=P(N),J=T(Y);Il(J,{get type(){return K()},get text(){return R()},onremove:()=>v.remove(R())}),E(N,Y)},null),E(j,D)},null),y(V,z)},null),y(t,i),I()}re(["click"]);export{$l as default};
