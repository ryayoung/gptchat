import{r as le,t as b,a as _,S as U,i as Y,s as I,e as w,b as c,c as y,l as q,d as Xe,n as F,f as M,g as X,o as xe,h as $e,j as ee,k as j,m as h,p as ne,q as B,u as A,v as $,w as se,x as re,y as ie,z as D,A as E,B as R,C as ce,D as Q,E as x,F as P,G as te,H as W,I as ue,J}from"./index-XAdcrhWE.js";import"https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/es/highlight.min.js";import"https://cdn.socket.io/4.7.2/socket.io.esm.min.js";function G(s){return(s==null?void 0:s.length)!==void 0?s:Array.from(s)}function et(s,e){b(s,1,1,()=>{e.delete(s.key)})}function tt(s,e,t,n,l,i,r,o,f,u,a,T){let v=s.length,m=i.length,p=v;const g={};for(;p--;)g[s[p].key]=p;const d=[],C=new Map,k=new Map,L=[];for(p=m;p--;){const H=T(l,i,p),K=t(H);let S=r.get(K);S?n&&L.push(()=>S.p(H,e)):(S=u(K,H),S.c()),C.set(K,d[p]=S),K in g&&k.set(K,Math.abs(p-g[K]))}const N=new Set,z=new Set;function V(H){_(H,1),H.m(o,a),r.set(H.key,H),a=H.first,m--}for(;v&&m;){const H=d[m-1],K=s[v-1],S=H.key,O=K.key;H===K?(a=H.first,v--,m--):C.has(O)?!r.has(S)||N.has(S)?V(H):z.has(O)?v--:k.get(S)>k.get(O)?(z.add(S),V(H)):(N.add(O),v--):(f(K,r),v--)}for(;v--;){const H=s[v];C.has(H.key)||f(H,r)}for(;m;)V(d[m-1]);return le(L),d}function lt(s){let e,t,n;return{c(){e=w("textarea"),c(e,"autocorrect","off"),c(e,"autocomplete","off"),c(e,"autocapitalize","off"),c(e,"spellcheck","false"),e.value=s[0],c(e,"placeholder",s[1]),c(e,"style",s[4]),c(e,"rows","1"),c(e,"class","svelte-rm3h0e")},m(l,i){y(l,e,i),s[12](e),t||(n=[q(e,"focus",function(){Xe(s[3])&&s[3].apply(this,arguments)}),q(e,"keydown",s[5]),q(e,"input",s[6])],t=!0)},p(l,[i]){s=l,i&1&&(e.value=s[0]),i&2&&c(e,"placeholder",s[1]),i&16&&c(e,"style",s[4])},i:F,o:F,d(l){l&&M(e),s[12](null),t=!1,le(n)}}}function nt(s,e,t){let n,l;const i=X();let{value:r}=e,{style:o}=e,{placeholder:f=""}=e,{submitKeyMode:u="enter"}=e,{maxHeight:a=0}=e,T;function v(k){T(k)&&(k.preventDefault(),i("submit"),$e().then(m))}let m;xe(()=>m());function p(){m(),i("customchange",d.value)}function g(){d==null||d.focus()}let d;function C(k){ee[k?"unshift":"push"](()=>{d=k,t(2,d),t(9,a)})}return s.$$set=k=>{"value"in k&&t(0,r=k.value),"style"in k&&t(7,o=k.style),"placeholder"in k&&t(1,f=k.placeholder),"submitKeyMode"in k&&t(8,u=k.submitKeyMode),"maxHeight"in k&&t(9,a=k.maxHeight)},s.$$.update=()=>{s.$$.dirty&512&&t(11,n=a?`max-height: ${a}px;`:""),s.$$.dirty&2176&&t(4,l=`${n} ${o}`),s.$$.dirty&256&&(u==="enter"?T=k=>k.key==="Enter"&&!k.shiftKey:T=k=>k.key==="Enter"&&(k.metaKey||k.ctrlKey)),s.$$.dirty&516&&(a?t(3,m=()=>{d&&(d.scrollHeight>a?(t(2,d.style.overflowY="scroll",d),t(2,d.style.height=a+"px",d)):(t(2,d.style.overflowY="hidden",d),t(2,d.style.height="auto",d),t(2,d.style.height=d.scrollHeight+"px",d)))}):t(3,m=()=>{d&&(t(2,d.style.overflowY="hidden",d),t(2,d.style.height="auto",d),t(2,d.style.height=d.scrollHeight+"px",d))}))},[r,f,d,m,l,v,p,o,u,a,g,n,C]}class Re extends U{constructor(e){super(),Y(this,e,nt,lt,I,{value:0,style:7,placeholder:1,submitKeyMode:8,maxHeight:9,focus:10})}get focus(){return this.$$.ctx[10]}}function st(s){let e,t;return{c(){e=j("svg"),t=j("path"),c(t,"d","M7 11L12 6L17 11M12 18V7"),c(t,"stroke","currentColor"),c(t,"stroke-width","2"),c(t,"stroke-linecap","round"),c(t,"stroke-linejoin","round"),c(e,"width","24"),c(e,"height","24"),c(e,"viewBox","0 0 24 24"),c(e,"fill","none"),c(e,"xmlns","http://www.w3.org/2000/svg")},m(n,l){y(n,e,l),h(e,t)},p:F,i:F,o:F,d(n){n&&M(e)}}}class rt extends U{constructor(e){super(),Y(this,e,null,st,I,{})}}function it(s){let e,t;return{c(){e=j("svg"),t=j("path"),c(t,"fill-rule","evenodd"),c(t,"clip-rule","evenodd"),c(t,"d","M9 7C9 4.23858 11.2386 2 14 2C16.7614 2 19 4.23858 19 7V15C19 18.866 15.866 22 12 22C8.13401 22 5 18.866 5 15V9C5 8.44772 5.44772 8 6 8C6.55228 8 7 8.44772 7 9V15C7 17.7614 9.23858 20 12 20C14.7614 20 17 17.7614 17 15V7C17 5.34315 15.6569 4 14 4C12.3431 4 11 5.34315 11 7V15C11 15.5523 11.4477 16 12 16C12.5523 16 13 15.5523 13 15V9C13 8.44772 13.4477 8 14 8C14.5523 8 15 8.44772 15 9V15C15 16.6569 13.6569 18 12 18C10.3431 18 9 16.6569 9 15V7Z"),c(t,"fill","currentColor"),c(e,"width","24"),c(e,"height","24"),c(e,"viewBox","0 0 24 24"),c(e,"fill","none"),c(e,"xmlns","http://www.w3.org/2000/svg")},m(n,l){y(n,e,l),h(e,t)},p:F,i:F,o:F,d(n){n&&M(e)}}}class ot extends U{constructor(e){super(),Y(this,e,null,it,I,{})}}function ft(s){let e,t,n,l,i;return t=new rt({}),{c(){e=w("button"),A(t.$$.fragment),c(e,"class","send-btn flex-center bottom-right svelte-1gfedl3"),ce(e,"dimmed",s[0]==="")},m(r,o){y(r,e,o),$(t,e,null),n=!0,l||(i=q(e,"click",s[11]),l=!0)},p(r,o){(!n||o&1)&&ce(e,"dimmed",r[0]==="")},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){b(t.$$.fragment,r),n=!1},d(r){r&&M(e),R(t),l=!1,i()}}}function ct(s){let e,t,n;return{c(){e=w("button"),e.innerHTML='<div class="square svelte-1gfedl3"></div>',c(e,"class","stop-btn bottom-right rounded svelte-1gfedl3")},m(l,i){y(l,e,i),t||(n=q(e,"click",s[10]),t=!0)},p:F,i:F,o:F,d(l){l&&M(e),t=!1,n()}}}function ut(s){let e,t,n,l,i,r,o,f,u,a,T,v,m;const p=s[5].default,g=ne(p,s,s[4],null);let d={value:s[0],placeholder:"Send a message...",maxHeight:200,style:"height: 3.25rem; padding: .875rem 3rem .875rem 3rem;"};l=new Re({props:d}),s[6](l),l.$on("customchange",s[7]),l.$on("submit",s[8]),o=new ot({});const C=[ct,ft],k=[];function L(N,z){return N[1]?0:1}return u=L(s),a=k[u]=C[u](s),{c(){e=w("div"),t=w("form"),g&&g.c(),n=B(),A(l.$$.fragment),i=B(),r=w("button"),A(o.$$.fragment),f=B(),a.c(),c(r,"class","upload-btn bottom-left svelte-1gfedl3"),c(t,"class","prompt flex-col relative w-full svelte-1gfedl3"),c(e,"class","prompt-container flex justify-center w-full")},m(N,z){y(N,e,z),h(e,t),g&&g.m(t,null),h(t,n),$(l,t,null),h(t,i),h(t,r),$(o,r,null),h(t,f),k[u].m(t,null),T=!0,v||(m=q(r,"click",s[9]),v=!0)},p(N,[z]){g&&g.p&&(!T||z&16)&&se(g,p,N,N[4],T?ie(p,N[4],z,null):re(N[4]),null);const V={};z&1&&(V.value=N[0]),l.$set(V);let H=u;u=L(N),u===H?k[u].p(N,z):(D(),b(k[H],1,1,()=>{k[H]=null}),E(),a=k[u],a?a.p(N,z):(a=k[u]=C[u](N),a.c()),_(a,1),a.m(t,null))},i(N){T||(_(g,N),_(l.$$.fragment,N),_(o.$$.fragment,N),_(a),T=!0)},o(N){b(g,N),b(l.$$.fragment,N),b(o.$$.fragment,N),b(a),T=!1},d(N){N&&M(e),g&&g.d(N),s[6](null),R(l),R(o),k[u].d(),v=!1,m()}}}function at(s,e,t){let{$$slots:n={},$$scope:l}=e;const i=X();let{text:r}=e,{generating:o}=e;setTimeout(()=>f==null?void 0:f.focus(),50);let f;function u(g){ee[g?"unshift":"push"](()=>{f=g,t(2,f)})}const a=g=>i("customchange",g.detail),T=()=>i("submit"),v=()=>i("upload"),m=()=>i("stop"),p=()=>i("submit");return s.$$set=g=>{"text"in g&&t(0,r=g.text),"generating"in g&&t(1,o=g.generating),"$$scope"in g&&t(4,l=g.$$scope)},[r,o,f,i,l,n,u,a,T,v,m,p]}class dt extends U{constructor(e){super(),Y(this,e,at,ut,I,{text:0,generating:1})}}function mt(s){let e,t;return{c(){e=j("svg"),t=j("path"),c(t,"fill-rule","evenodd"),c(t,"clip-rule","evenodd"),c(t,"d","M13.2929 4.29291C15.0641 2.52167 17.9359 2.52167 19.7071 4.2929C21.4783 6.06414 21.4783 8.93588 19.7071 10.7071L18.7073 11.7069L11.1603 19.2539C10.7182 19.696 10.1489 19.989 9.53219 20.0918L4.1644 20.9864C3.84584 21.0395 3.52125 20.9355 3.29289 20.7071C3.06453 20.4788 2.96051 20.1542 3.0136 19.8356L3.90824 14.4678C4.01103 13.8511 4.30396 13.2818 4.7461 12.8397L13.2929 4.29291ZM13 7.41422L6.16031 14.2539C6.01293 14.4013 5.91529 14.591 5.88102 14.7966L5.21655 18.7835L9.20339 18.119C9.40898 18.0847 9.59872 17.9871 9.7461 17.8397L16.5858 11L13 7.41422ZM18 9.5858L14.4142 6.00001L14.7071 5.70712C15.6973 4.71693 17.3027 4.71693 18.2929 5.70712C19.2831 6.69731 19.2831 8.30272 18.2929 9.29291L18 9.5858Z"),c(t,"fill","currentColor"),c(e,"class","icon-md"),c(e,"width","24"),c(e,"height","24"),c(e,"viewBox","0 0 24 24"),c(e,"fill","none"),c(e,"xmlns","http://www.w3.org/2000/svg")},m(n,l){y(n,e,l),h(e,t)},p:F,i:F,o:F,d(n){n&&M(e)}}}class gt extends U{constructor(e){super(),Y(this,e,null,mt,I,{})}}function _t(s){let e,t;return{c(){e=j("svg"),t=j("path"),c(t,"fill-rule","evenodd"),c(t,"clip-rule","evenodd"),c(t,"d","M8 8.707l3.646 3.647.708-.707L8.707 8l3.647-3.646-.707-.708L8 7.293 4.354 3.646l-.707.708L7.293 8l-3.646 3.646.707.708L8 8.707z"),c(e,"style",s[0]),c(e,"class","codicon-svg"),c(e,"viewBox","0 0 16 16"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"fill","currentColor")},m(n,l){y(n,e,l),h(e,t)},p(n,[l]){l&1&&c(e,"style",n[0])},i:F,o:F,d(n){n&&M(e)}}}function ht(s,e,t){let{style:n=""}=e;return s.$$set=l=>{"style"in l&&t(0,n=l.style)},[n]}class oe extends U{constructor(e){super(),Y(this,e,ht,_t,I,{style:0})}}function pt(s){let e,t;return{c(){e=j("svg"),t=j("path"),c(t,"fill-rule","evenodd"),c(t,"clip-rule","evenodd"),c(t,"d","M13.71 4.29l-3-3L10 1H4L3 2v12l1 1h9l1-1V5l-.29-.71zM13 14H4V2h5v4h4v8zm-3-9V2l3 3h-3z"),c(e,"style",s[0]),c(e,"class","codicon-svg"),c(e,"viewBox","0 0 16 16"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"fill","currentColor")},m(n,l){y(n,e,l),h(e,t)},p(n,[l]){l&1&&c(e,"style",n[0])},i:F,o:F,d(n){n&&M(e)}}}function vt(s,e,t){let{style:n=""}=e;return s.$$set=l=>{"style"in l&&t(0,n=l.style)},[n]}class bt extends U{constructor(e){super(),Y(this,e,vt,pt,I,{style:0})}}function ae(s){let e,t,n,l,i;return t=new oe({}),{c(){e=w("button"),A(t.$$.fragment),c(e,"class","svelte-eflf79")},m(r,o){y(r,e,o),$(t,e,null),n=!0,l||(i=q(e,"click",s[4]),l=!0)},p:F,i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){b(t.$$.fragment,r),n=!1},d(r){r&&M(e),R(t),l=!1,i()}}}function kt(s){let e,t,n,l,i,r,o,f;n=new bt({});let u=s[1]&&ae(s);return{c(){e=w("div"),t=w("div"),A(n.$$.fragment),l=B(),i=w("span"),r=Q(s[0]),o=B(),u&&u.c(),c(t,"class","icon svelte-eflf79"),c(i,"class","svelte-eflf79"),c(e,"class","file-item inline-flex items-center gap.5 relative set-visibility-on-hover text-sm svelte-eflf79"),c(e,"style",s[2])},m(a,T){y(a,e,T),h(e,t),$(n,t,null),h(e,l),h(e,i),h(i,r),h(e,o),u&&u.m(e,null),f=!0},p(a,[T]){(!f||T&1)&&x(r,a[0]),a[1]?u?(u.p(a,T),T&2&&_(u,1)):(u=ae(a),u.c(),_(u,1),u.m(e,null)):u&&(D(),b(u,1,1,()=>{u=null}),E()),(!f||T&4)&&c(e,"style",a[2])},i(a){f||(_(n.$$.fragment,a),_(u),f=!0)},o(a){b(n.$$.fragment,a),b(u),f=!1},d(a){a&&M(e),R(n),u&&u.d()}}}function wt(s,e,t){const n=X();let{name:l}=e,{removable:i=!1}=e,{style:r=""}=e;const o=()=>n("remove");return s.$$set=f=>{"name"in f&&t(0,l=f.name),"removable"in f&&t(1,i=f.removable),"style"in f&&t(2,r=f.style)},[l,i,r,n,o]}class Ke extends U{constructor(e){super(),Y(this,e,wt,kt,I,{name:0,removable:1,style:2})}}function de(s,e,t){const n=s.slice();return n[13]=e[t],n}function Ct(s){let e,t;return e=new Ke({props:{name:s[13].name,style:"margin: .5rem 0 1rem 0;"}}),{c(){A(e.$$.fragment)},m(n,l){$(e,n,l),t=!0},p(n,l){const i={};l&2&&(i.name=n[13].name),e.$set(i)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){R(e,n)}}}function yt(s){let e,t;return{c(){e=w("img"),W(e,"max-height","12rem"),W(e,"width","auto"),W(e,"height","auto"),ue(e.src,t=s[13].image_url.url)||c(e,"src",t),c(e,"alt","Uploaded"),c(e,"loading","lazy"),c(e,"decoding","async")},m(n,l){y(n,e,l)},p(n,l){l&2&&!ue(e.src,t=n[13].image_url.url)&&c(e,"src",t)},i:F,o:F,d(n){n&&M(e)}}}function me(s){let e,t,n,l;const i=[yt,Ct],r=[];function o(f,u){return f[13].type==="image_url"?0:f[13].type==="binary"?1:-1}return~(t=o(s))&&(n=r[t]=i[t](s)),{c(){e=w("div"),n&&n.c()},m(f,u){y(f,e,u),~t&&r[t].m(e,null),l=!0},p(f,u){let a=t;t=o(f),t===a?~t&&r[t].p(f,u):(n&&(D(),b(r[a],1,1,()=>{r[a]=null}),E()),~t?(n=r[t],n?n.p(f,u):(n=r[t]=i[t](f),n.c()),_(n,1),n.m(e,null)):n=null)},i(f){l||(_(n),l=!0)},o(f){b(n),l=!1},d(f){f&&M(e),~t&&r[t].d()}}}function Mt(s){let e,t,n,l,i,r,o,f,u,a,T={value:s[4],style:"min-height: 1.25rem; word-wrap: break-word; white-space: pre-wrap;",submitKeyMode:"ctrl-enter"};return e=new Re({props:T}),s[10](e),e.$on("customchange",s[11]),e.$on("submit",s[8]),{c(){A(e.$$.fragment),t=B(),n=w("div"),l=w("button"),i=w("div"),i.textContent="Save & Submit",r=B(),o=w("button"),o.innerHTML='<div class="flex-center">Cancel</div>',c(i,"class","flex-center"),c(l,"class","btn btn-primary"),l.disabled=s[2],c(o,"class","btn btn-neutral"),c(n,"class","editing-controls flex justify-center gap.5 svelte-1cz09sb")},m(v,m){$(e,v,m),y(v,t,m),y(v,n,m),h(n,l),h(l,i),h(n,r),h(n,o),f=!0,u||(a=[q(l,"click",s[8]),q(o,"click",s[7])],u=!0)},p(v,m){const p={};m&16&&(p.value=v[4]),e.$set(p),(!f||m&4)&&(l.disabled=v[2])},i(v){f||(_(e.$$.fragment,v),f=!0)},o(v){b(e.$$.fragment,v),f=!1},d(v){v&&(M(t),M(n)),s[10](null),R(e,v),u=!1,le(a)}}}function Tt(s){let e,t;return{c(){e=w("div"),t=Q(s[0]),c(e,"class","user-text flex-col items-start gap.75 selectable-text-deep svelte-1cz09sb")},m(n,l){y(n,e,l),h(e,t)},p(n,l){l&1&&x(t,n[0])},i:F,o:F,d(n){n&&M(e)}}}function ge(s){let e,t,n,l,i,r,o,f;return i=new gt({}),{c(){e=w("div"),t=w("div"),n=w("button"),l=w("div"),A(i.$$.fragment),c(l,"class","icon-wrapper flex items-center gap.375 text-xs"),c(n,"class","svelte-1cz09sb"),c(t,"class","buttons-container flex gap.25 svelte-1cz09sb"),c(e,"class","controls flex gap.75 svelte-1cz09sb")},m(u,a){y(u,e,a),h(e,t),h(t,n),h(n,l),$(i,l,null),r=!0,o||(f=q(n,"click",s[6]),o=!0)},p:F,i(u){r||(_(i.$$.fragment,u),r=!0)},o(u){b(i.$$.fragment,u),r=!1},d(u){u&&M(e),R(i),o=!1,f()}}}function Lt(s){let e,t,n,l,i,r,o,f=G(s[1]),u=[];for(let g=0;g<f.length;g+=1)u[g]=me(de(s,f,g));const a=g=>b(u[g],1,1,()=>{u[g]=null}),T=[Tt,Mt],v=[];function m(g,d){return g[3]?1:0}n=m(s),l=v[n]=T[n](s);let p=!s[3]&&ge(s);return{c(){e=w("div");for(let g=0;g<u.length;g+=1)u[g].c();t=B(),l.c(),i=B(),p&&p.c(),r=P(),c(e,"class","content-container flex-col svelte-1cz09sb")},m(g,d){y(g,e,d);for(let C=0;C<u.length;C+=1)u[C]&&u[C].m(e,null);h(e,t),v[n].m(e,null),y(g,i,d),p&&p.m(g,d),y(g,r,d),o=!0},p(g,[d]){if(d&2){f=G(g[1]);let k;for(k=0;k<f.length;k+=1){const L=de(g,f,k);u[k]?(u[k].p(L,d),_(u[k],1)):(u[k]=me(L),u[k].c(),_(u[k],1),u[k].m(e,t))}for(D(),k=f.length;k<u.length;k+=1)a(k);E()}let C=n;n=m(g),n===C?v[n].p(g,d):(D(),b(v[C],1,1,()=>{v[C]=null}),E(),l=v[n],l?l.p(g,d):(l=v[n]=T[n](g),l.c()),_(l,1),l.m(e,null)),g[3]?p&&(D(),b(p,1,1,()=>{p=null}),E()):p?(p.p(g,d),d&8&&_(p,1)):(p=ge(g),p.c(),_(p,1),p.m(r.parentNode,r))},i(g){if(!o){for(let d=0;d<f.length;d+=1)_(u[d]);_(l),_(p),o=!0}},o(g){u=u.filter(Boolean);for(let d=0;d<u.length;d+=1)b(u[d]);b(l),b(p),o=!1},d(g){g&&(M(e),M(i),M(r)),te(u,g),v[n].d(),p&&p.d(g)}}}function Ht(s,e,t){const n=X();let{id:l}=e,{contentText:i}=e,{contentFiles:r}=e,{generating:o}=e,f=!1,u="";function a(){t(4,u=i),t(3,f=!0),$e().then(()=>{m==null||m.focus()})}function T(){t(4,u=""),t(3,f=!1)}function v(){n("submit",{text:u,id:l}),T()}let m=null;function p(d){ee[d?"unshift":"push"](()=>{m=d,t(5,m)})}const g=d=>t(4,u=d.detail);return s.$$set=d=>{"id"in d&&t(9,l=d.id),"contentText"in d&&t(0,i=d.contentText),"contentFiles"in d&&t(1,r=d.contentFiles),"generating"in d&&t(2,o=d.generating)},[i,r,o,f,u,m,a,T,v,l,p,g]}class Vt extends U{constructor(e){super(),Y(this,e,Ht,Lt,I,{id:9,contentText:0,contentFiles:1,generating:2})}}function Ft(s){let e,t;return{c(){e=j("svg"),t=j("path"),c(t,"fill-rule","evenodd"),c(t,"clip-rule","evenodd"),c(t,"d","M4.5 2.5C5.05228 2.5 5.5 2.94772 5.5 3.5V5.07196C7.19872 3.47759 9.48483 2.5 12 2.5C17.2467 2.5 21.5 6.75329 21.5 12C21.5 17.2467 17.2467 21.5 12 21.5C7.1307 21.5 3.11828 17.8375 2.565 13.1164C2.50071 12.5679 2.89327 12.0711 3.4418 12.0068C3.99033 11.9425 4.48712 12.3351 4.5514 12.8836C4.98798 16.6089 8.15708 19.5 12 19.5C16.1421 19.5 19.5 16.1421 19.5 12C19.5 7.85786 16.1421 4.5 12 4.5C9.7796 4.5 7.7836 5.46469 6.40954 7H9C9.55228 7 10 7.44772 10 8C10 8.55228 9.55228 9 9 9H4.5C3.96064 9 3.52101 8.57299 3.50073 8.03859C3.49983 8.01771 3.49958 7.99677 3.5 7.9758V3.5C3.5 2.94772 3.94771 2.5 4.5 2.5Z"),c(t,"fill","currentColor"),c(e,"class","icon-md"),c(e,"width","24"),c(e,"height","24"),c(e,"viewBox","0 0 24 24"),c(e,"fill","none"),c(e,"xmlns","http://www.w3.org/2000/svg")},m(n,l){y(n,e,l),h(e,t)},p:F,i:F,o:F,d(n){n&&M(e)}}}class Zt extends U{constructor(e){super(),Y(this,e,null,Ft,I,{})}}function Nt(s){let e,t,n,l,i,r,o,f,u,a,T;const v=s[2].default,m=ne(v,s,s[1],null);return f=new Zt({}),{c(){e=w("div"),t=w("div"),m&&m.c(),n=B(),l=w("div"),i=w("div"),r=w("button"),o=w("div"),A(f.$$.fragment),c(t,"class","content-container flex-col svelte-1nno5e5"),c(o,"class","icon-wrapper flex items-center gap.375 text-xs"),c(r,"class","svelte-1nno5e5"),c(i,"class","buttons-container"),c(l,"class","controls flex gap.25 svelte-1nno5e5"),c(e,"class","sections-container")},m(p,g){y(p,e,g),h(e,t),m&&m.m(t,null),h(e,n),h(e,l),h(l,i),h(i,r),h(r,o),$(f,o,null),u=!0,a||(T=q(r,"click",s[3]),a=!0)},p(p,[g]){m&&m.p&&(!u||g&2)&&se(m,v,p,p[1],u?ie(v,p[1],g,null):re(p[1]),null)},i(p){u||(_(m,p),_(f.$$.fragment,p),u=!0)},o(p){b(m,p),b(f.$$.fragment,p),u=!1},d(p){p&&M(e),m&&m.d(p),R(f),a=!1,T()}}}function zt(s,e,t){let{$$slots:n={},$$scope:l}=e;const i=X(),r=()=>i("regenerate");return s.$$set=o=>{"$$scope"in o&&t(1,l=o.$$scope)},[i,l,n,r]}class Bt extends U{constructor(e){super(),Y(this,e,zt,Nt,I,{})}}function St(s){let e,t;return{c(){e=j("svg"),t=j("path"),c(t,"fill-rule","evenodd"),c(t,"clip-rule","evenodd"),c(t,"d","M7.66607 0.376042C8.01072 0.605806 8.10385 1.07146 7.87408 1.4161L3.54075 7.9161C3.40573 8.11863 3.18083 8.24304 2.93752 8.24979C2.69421 8.25654 2.46275 8.1448 2.31671 7.95008L0.150044 5.06119C-0.098484 4.72982 -0.0313267 4.25972 0.300044 4.01119C0.631415 3.76266 1.10152 3.82982 1.35004 4.16119L2.88068 6.20204L6.62601 0.584055C6.85577 0.239408 7.32142 0.146278 7.66607 0.376042Z"),c(t,"fill","currentColor"),c(e,"viewBox","0 0 8 9"),c(e,"width","8"),c(e,"height","9"),c(e,"fill","none"),c(e,"xmlns","http://www.w3.org/2000/svg")},m(n,l){y(n,e,l),h(e,t)},p:F,i:F,o:F,d(n){n&&M(e)}}}class jt extends U{constructor(e){super(),Y(this,e,null,St,I,{})}}function At(s){let e,t,n,l,i;return{c(){e=j("svg"),t=j("mask"),n=j("path"),l=j("path"),i=j("path"),c(n,"fill-rule","evenodd"),c(n,"clip-rule","evenodd"),c(n,"d","M1 6.5C1 7.05228 1.44772 7.5 2 7.5C2.55228 7.5 3 7.05228 3 6.5V1.5C3 0.947715 2.55228 0.5 2 0.5C1.44772 0.5 1 0.947715 1 1.5L1 6.5ZM0.75 10.25C0.75 10.9404 1.30964 11.5 2 11.5C2.69036 11.5 3.25 10.9404 3.25 10.25C3.25 9.55964 2.69036 9 2 9C1.30964 9 0.75 9.55964 0.75 10.25Z"),c(t,"id","path-1-inside-1_1975_4008"),c(t,"fill","currentColor"),c(l,"fill-rule","evenodd"),c(l,"clip-rule","evenodd"),c(l,"d","M1 6.5C1 7.05228 1.44772 7.5 2 7.5C2.55228 7.5 3 7.05228 3 6.5V1.5C3 0.947715 2.55228 0.5 2 0.5C1.44772 0.5 1 0.947715 1 1.5L1 6.5ZM0.75 10.25C0.75 10.9404 1.30964 11.5 2 11.5C2.69036 11.5 3.25 10.9404 3.25 10.25C3.25 9.55964 2.69036 9 2 9C1.30964 9 0.75 9.55964 0.75 10.25Z"),c(l,"fill","currentColor"),c(i,"d","M1 6.5H-0.25H1ZM1 1.5L-0.25 1.5L-0.25 1.5L1 1.5ZM2 6.25C2.13807 6.25 2.25 6.36193 2.25 6.5H-0.25C-0.25 7.74264 0.757359 8.75 2 8.75V6.25ZM1.75 6.5C1.75 6.36193 1.86193 6.25 2 6.25V8.75C3.24264 8.75 4.25 7.74264 4.25 6.5H1.75ZM1.75 1.5V6.5H4.25V1.5H1.75ZM2 1.75C1.86193 1.75 1.75 1.63807 1.75 1.5H4.25C4.25 0.257359 3.24264 -0.75 2 -0.75V1.75ZM2.25 1.5C2.25 1.63807 2.13807 1.75 2 1.75V-0.75C0.757359 -0.75 -0.25 0.257359 -0.25 1.5L2.25 1.5ZM2.25 6.5L2.25 1.5L-0.25 1.5L-0.25 6.5L2.25 6.5ZM2 10.25H-0.5C-0.5 11.6307 0.619288 12.75 2 12.75V10.25ZM2 10.25V12.75C3.38071 12.75 4.5 11.6307 4.5 10.25H2ZM2 10.25H2H4.5C4.5 8.86929 3.38071 7.75 2 7.75V10.25ZM2 10.25H2V7.75C0.619288 7.75 -0.5 8.86929 -0.5 10.25H2Z"),c(i,"fill","currentColor"),c(i,"mask","url(#path-1-inside-1_1975_4008)"),c(e,"viewBox","0 0 4 12"),c(e,"width","4"),c(e,"height","12"),c(e,"fill","none"),c(e,"xmlns","http://www.w3.org/2000/svg")},m(r,o){y(r,e,o),h(e,t),h(t,n),h(e,l),h(e,i)},p:F,i:F,o:F,d(r){r&&M(e)}}}class $t extends U{constructor(e){super(),Y(this,e,null,At,I,{})}}function Rt(s){let e,t,n;return{c(){e=j("svg"),t=j("path"),c(t,"d","M11.3346 7.83203L8.00131 11.1654L4.66797 7.83203"),c(t,"stroke","currentColor"),c(t,"stroke-width","2"),c(t,"stroke-linecap","round"),c(t,"stroke-linejoin","round"),c(e,"style",n=s[0]?"":"transform: rotate(270deg)"),c(e,"width","16"),c(e,"height","17"),c(e,"viewBox","0 0 16 17"),c(e,"fill","none"),c(e,"xmlns","http://www.w3.org/2000/svg")},m(l,i){y(l,e,i),h(e,t)},p(l,[i]){i&1&&n!==(n=l[0]?"":"transform: rotate(270deg)")&&c(e,"style",n)},i:F,o:F,d(l){l&&M(e)}}}function Kt(s,e,t){let{open:n=!1}=e;return s.$$set=l=>{"open"in l&&t(0,n=l.open)},[n]}class Dt extends U{constructor(e){super(),Y(this,e,Kt,Rt,I,{open:0})}}function Et(s){let e,t;return{c(){e=j("svg"),t=j("path"),c(t,"fill-rule","evenodd"),c(t,"clip-rule","evenodd"),c(t,"d","M13.917 7A6.002 6.002 0 0 0 2.083 7H1.071a7.002 7.002 0 0 1 13.858 0h-1.012z"),c(e,"style",s[0]),c(e,"class","codicon-svg loading"),c(e,"viewBox","0 0 16 16"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"fill","currentColor")},m(n,l){y(n,e,l),h(e,t)},p(n,[l]){l&1&&c(e,"style",n[0])},i:F,o:F,d(n){n&&M(e)}}}function It(s,e,t){let{style:n=""}=e;return s.$$set=l=>{"style"in l&&t(0,n=l.style)},[n]}class De extends U{constructor(e){super(),Y(this,e,It,Et,I,{style:0})}}function _e(s){let e,t,n,l,i,r,o,f,u,a,T,v,m,p,g;const d=[qt,Yt,Ut],C=[];function k(L,N){return L[0]==="error"?0:L[0]==="progress"?1:2}return l=k(s),i=C[l]=d[l](s),v=new Dt({props:{open:s[7]}}),{c(){e=w("div"),t=w("div"),n=w("div"),i.c(),o=B(),f=w("div"),u=w("button"),a=w("div"),T=B(),A(v.$$.fragment),c(n,"class",r="indicator "+s[0]+" flex-center full rounded svelte-6sxs2s"),c(t,"class","indicator-container relative svelte-6sxs2s"),c(a,"class","markdown-body function-status selectable-text-deep svelte-6sxs2s"),c(u,"class","label flex items-center gap.25 svelte-6sxs2s"),c(f,"class","label-container relative w-full svelte-6sxs2s"),c(e,"class","header flex items-center gap.625 svelte-6sxs2s")},m(L,N){y(L,e,N),h(e,t),h(t,n),C[l].m(n,null),h(e,o),h(e,f),h(f,u),h(u,a),a.innerHTML=s[1],h(u,T),$(v,u,null),m=!0,p||(g=q(u,"click",s[9]),p=!0)},p(L,N){let z=l;l=k(L),l!==z&&(D(),b(C[z],1,1,()=>{C[z]=null}),E(),i=C[l],i||(i=C[l]=d[l](L),i.c()),_(i,1),i.m(n,null)),(!m||N&1&&r!==(r="indicator "+L[0]+" flex-center full rounded svelte-6sxs2s"))&&c(n,"class",r),(!m||N&2)&&(a.innerHTML=L[1]);const V={};N&128&&(V.open=L[7]),v.$set(V)},i(L){m||(_(i),_(v.$$.fragment,L),m=!0)},o(L){b(i),b(v.$$.fragment,L),m=!1},d(L){L&&M(e),C[l].d(),R(v),p=!1,g()}}}function Ut(s){let e,t;return e=new jt({}),{c(){A(e.$$.fragment)},m(n,l){$(e,n,l),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){R(e,n)}}}function Yt(s){let e,t;return e=new De({props:{style:"height: 1.25rem; width: 1.25rem;"}}),{c(){A(e.$$.fragment)},m(n,l){$(e,n,l),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){R(e,n)}}}function qt(s){let e,t;return e=new $t({}),{c(){A(e.$$.fragment)},m(n,l){$(e,n,l),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){R(e,n)}}}function he(s){let e,t,n=s[2]&&pe(s),l=s[4]!==null&&ve(s);return{c(){e=w("div"),n&&n.c(),t=B(),l&&l.c(),c(e,"class","content overflow-hidden svelte-6sxs2s")},m(i,r){y(i,e,r),n&&n.m(e,null),h(e,t),l&&l.m(e,null)},p(i,r){i[2]?n?n.p(i,r):(n=pe(i),n.c(),n.m(e,t)):n&&(n.d(1),n=null),i[4]!==null?l?l.p(i,r):(l=ve(i),l.c(),l.m(e,null)):l&&(l.d(1),l=null)},d(i){i&&M(e),n&&n.d(),l&&l.d()}}}function pe(s){let e,t,n,l,i;return{c(){e=w("div"),t=B(),n=w("div"),l=B(),i=w("div"),c(e,"class","title args text-xs svelte-6sxs2s"),c(n,"class","horizontal-divider svelte-6sxs2s"),c(i,"class","markdown-body selectable-text-deep")},m(r,o){y(r,e,o),e.innerHTML=s[3],y(r,t,o),y(r,n,o),y(r,l,o),y(r,i,o),i.innerHTML=s[2]},p(r,o){o&8&&(e.innerHTML=r[3]),o&4&&(i.innerHTML=r[2])},d(r){r&&(M(e),M(t),M(n),M(l),M(i))}}}function ve(s){let e,t,n;function l(o,f){return o[6]==="text"?Gt:Pt}let i=l(s),r=i(s);return{c(){e=w("div"),t=B(),r.c(),n=P(),c(e,"class","horizontal-divider svelte-6sxs2s")},m(o,f){y(o,e,f),y(o,t,f),r.m(o,f),y(o,n,f)},p(o,f){i===(i=l(o))&&r?r.p(o,f):(r.d(1),r=i(o),r&&(r.c(),r.m(n.parentNode,n)))},d(o){o&&(M(e),M(t),M(n)),r.d(o)}}}function Pt(s){let e,t,n,l,i;function r(u,a){return u[6]==="html"?Ot:Jt}let o=r(s),f=o(s);return{c(){e=w("div"),t=B(),n=w("div"),l=B(),f.c(),i=P(),c(e,"class","title block-result text-xs svelte-6sxs2s"),c(n,"class","horizontal-divider svelte-6sxs2s")},m(u,a){y(u,e,a),e.innerHTML=s[5],y(u,t,a),y(u,n,a),y(u,l,a),f.m(u,a),y(u,i,a)},p(u,a){a&32&&(e.innerHTML=u[5]),o===(o=r(u))&&f?f.p(u,a):(f.d(1),f=o(u),f&&(f.c(),f.m(i.parentNode,i)))},d(u){u&&(M(e),M(t),M(n),M(l),M(i)),f.d(u)}}}function Gt(s){let e,t,n,l,i;return{c(){e=w("div"),t=w("div"),n=B(),l=w("pre"),i=Q(s[4]),c(t,"class","title text-result text-xs svelte-6sxs2s"),c(l,"class","result selectable-text"),c(e,"class","text-result-wrapper svelte-6sxs2s")},m(r,o){y(r,e,o),h(e,t),t.innerHTML=s[5],h(e,n),h(e,l),h(l,i)},p(r,o){o&32&&(t.innerHTML=r[5]),o&16&&x(i,r[4])},d(r){r&&M(e)}}}function Jt(s){let e;return{c(){e=w("div"),c(e,"class","markdown-body markdown-result selectable-text-deep svelte-6sxs2s")},m(t,n){y(t,e,n),e.innerHTML=s[4]},p(t,n){n&16&&(e.innerHTML=t[4])},d(t){t&&M(e)}}}function Ot(s){let e;return{c(){e=w("div"),c(e,"class","html-result svelte-6sxs2s")},m(t,n){y(t,e,n),e.innerHTML=s[4]},p(t,n){n&16&&(e.innerHTML=t[4])},d(t){t&&M(e)}}}function Wt(s){let e,t,n,l=s[1]!==null&&_e(s),i=(s[7]||s[1]===null)&&he(s);return{c(){l&&l.c(),e=B(),i&&i.c(),t=P()},m(r,o){l&&l.m(r,o),y(r,e,o),i&&i.m(r,o),y(r,t,o),n=!0},p(r,[o]){r[1]!==null?l?(l.p(r,o),o&2&&_(l,1)):(l=_e(r),l.c(),_(l,1),l.m(e.parentNode,e)):l&&(D(),b(l,1,1,()=>{l=null}),E()),r[7]||r[1]===null?i?i.p(r,o):(i=he(r),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null)},i(r){n||(_(l),n=!0)},o(r){b(l),n=!1},d(r){r&&(M(e),M(t)),l&&l.d(r),i&&i.d(r)}}}function Qt(s,e,t){let{progressMode:n}=e,{header:l}=e,{args:i}=e,{argsTitle:r}=e,{result:o}=e,{resultTitle:f}=e,{resultType:u}=e,{generating:a}=e,T=!0;const v=()=>t(7,T=!T);return s.$$set=m=>{"progressMode"in m&&t(0,n=m.progressMode),"header"in m&&t(1,l=m.header),"args"in m&&t(2,i=m.args),"argsTitle"in m&&t(3,r=m.argsTitle),"result"in m&&t(4,o=m.result),"resultTitle"in m&&t(5,f=m.resultTitle),"resultType"in m&&t(6,u=m.resultType),"generating"in m&&t(8,a=m.generating)},[n,l,i,r,o,f,u,T,a,v]}class Xt extends U{constructor(e){super(),Y(this,e,Qt,Wt,I,{progressMode:0,header:1,args:2,argsTitle:3,result:4,resultTitle:5,resultType:6,generating:8})}}function xt(s){let e,t,n,l,i,r,o,f=(s[0]==="user"?"You":s[1])+"",u,a,T,v,m,p;const g=s[3].default,d=ne(g,s,s[2],null);return{c(){e=w("div"),t=w("div"),n=w("div"),i=B(),r=w("div"),o=w("div"),u=Q(f),a=B(),T=w("div"),d&&d.c(),v=B(),m=w("div"),c(n,"class",l="avatar "+s[0]+" flex-center rounded overflow-hidden svelte-1nj1c9p"),c(o,"class","name svelte-1nj1c9p"),c(T,"class","sections-container"),c(r,"class","message-container flex-col relative w-full svelte-1nj1c9p"),c(m,"class","right-spacer svelte-1nj1c9p"),c(t,"class","chat flex gap.75 mx-auto svelte-1nj1c9p"),c(e,"class","chat-container w-full svelte-1nj1c9p")},m(C,k){y(C,e,k),h(e,t),h(t,n),h(t,i),h(t,r),h(r,o),h(o,u),h(r,a),h(r,T),d&&d.m(T,null),h(t,v),h(t,m),p=!0},p(C,[k]){(!p||k&1&&l!==(l="avatar "+C[0]+" flex-center rounded overflow-hidden svelte-1nj1c9p"))&&c(n,"class",l),(!p||k&3)&&f!==(f=(C[0]==="user"?"You":C[1])+"")&&x(u,f),d&&d.p&&(!p||k&4)&&se(d,g,C,C[2],p?ie(g,C[2],k,null):re(C[2]),null)},i(C){p||(_(d,C),p=!0)},o(C){b(d,C),p=!1},d(C){C&&M(e),d&&d.d(C)}}}function el(s,e,t){let{$$slots:n={},$$scope:l}=e,{type:i}=e,{agentName:r}=e;return s.$$set=o=>{"type"in o&&t(0,i=o.type),"agentName"in o&&t(1,r=o.agentName),"$$scope"in o&&t(2,l=o.$$scope)},[i,r,l,n]}class tl extends U{constructor(e){super(),Y(this,e,el,xt,I,{type:0,agentName:1})}}function ll(s){let e,t,n,l,i,r,o,f,u,a,T,v,m,p,g;return l=new oe({}),{c(){e=w("div"),t=w("div"),n=w("button"),A(l.$$.fragment),i=B(),r=w("div"),o=w("div"),f=Q(s[0]),u=Q(" Error"),a=B(),T=w("div"),v=Q(s[1]),c(n,"class","svelte-aes96c"),c(o,"class","header svelte-aes96c"),c(T,"class","text selectable-text svelte-aes96c"),c(r,"class","content flex-col gap.25"),c(t,"class","server-error flex items-start svelte-aes96c"),c(e,"class","background svelte-aes96c")},m(d,C){y(d,e,C),h(e,t),h(t,n),$(l,n,null),h(t,i),h(t,r),h(r,o),h(o,f),h(o,u),h(r,a),h(r,T),h(T,v),m=!0,p||(g=q(n,"click",s[3]),p=!0)},p(d,[C]){(!m||C&1)&&x(f,d[0]),(!m||C&2)&&x(v,d[1])},i(d){m||(_(l.$$.fragment,d),m=!0)},o(d){b(l.$$.fragment,d),m=!1},d(d){d&&M(e),R(l),p=!1,g()}}}function nl(s,e,t){const n=X();let{type:l}=e,{text:i}=e;const r=()=>n("remove");return s.$$set=o=>{"type"in o&&t(0,l=o.type),"text"in o&&t(1,i=o.text)},[l,i,n,r]}class sl extends U{constructor(e){super(),Y(this,e,nl,ll,I,{type:0,text:1})}}function be(s){let e,t,n,l,i;return t=new oe({}),{c(){e=w("button"),A(t.$$.fragment),c(e,"class","remove rounded svelte-1kzkvmr")},m(r,o){y(r,e,o),$(t,e,null),n=!0,l||(i=q(e,"click",s[3]),l=!0)},p:F,i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){b(t.$$.fragment,r),n=!1},d(r){r&&M(e),R(t),l=!1,i()}}}function rl(s){let e,t,n,l,i=s[1]&&be(s);return{c(){e=w("div"),t=w("span"),n=B(),i&&i.c(),c(t,"class","image flex-center full svelte-1kzkvmr"),W(t,"background-image","url("+s[0]+")"),c(e,"class","image-item relative overflow-hidden set-visibility-on-hover svelte-1kzkvmr")},m(r,o){y(r,e,o),h(e,t),h(e,n),i&&i.m(e,null),l=!0},p(r,[o]){(!l||o&1)&&W(t,"background-image","url("+r[0]+")"),r[1]?i?(i.p(r,o),o&2&&_(i,1)):(i=be(r),i.c(),_(i,1),i.m(e,null)):i&&(D(),b(i,1,1,()=>{i=null}),E())},i(r){l||(_(i),l=!0)},o(r){b(i),l=!1},d(r){r&&M(e),i&&i.d()}}}function il(s,e,t){const n=X();let{image_url:l}=e,{removable:i}=e;const r=()=>n("remove");return s.$$set=o=>{"image_url"in o&&t(0,l=o.image_url),"removable"in o&&t(1,i=o.removable)},[l,i,n,r]}class ol extends U{constructor(e){super(),Y(this,e,il,rl,I,{image_url:0,removable:1})}}function fl(s){let e,t;return{c(){e=j("svg"),t=j("path"),c(t,"fill-rule","evenodd"),c(t,"clip-rule","evenodd"),c(t,"d","M16.7929 2.79289C18.0118 1.57394 19.9882 1.57394 21.2071 2.79289C22.4261 4.01184 22.4261 5.98815 21.2071 7.20711L12.7071 15.7071C12.5196 15.8946 12.2652 16 12 16H9C8.44772 16 8 15.5523 8 15V12C8 11.7348 8.10536 11.4804 8.29289 11.2929L16.7929 2.79289ZM19.7929 4.20711C19.355 3.7692 18.645 3.7692 18.2071 4.2071L10 12.4142V14H11.5858L19.7929 5.79289C20.2308 5.35499 20.2308 4.64501 19.7929 4.20711ZM6 5C5.44772 5 5 5.44771 5 6V18C5 18.5523 5.44772 19 6 19H18C18.5523 19 19 18.5523 19 18V14C19 13.4477 19.4477 13 20 13C20.5523 13 21 13.4477 21 14V18C21 19.6569 19.6569 21 18 21H6C4.34315 21 3 19.6569 3 18V6C3 4.34314 4.34315 3 6 3H10C10.5523 3 11 3.44771 11 4C11 4.55228 10.5523 5 10 5H6Z"),c(t,"fill","currentColor"),c(e,"class","icon-md"),c(e,"width","24"),c(e,"height","24"),c(e,"viewBox","0 0 24 24"),c(e,"fill","none"),c(e,"xmlns","http://www.w3.org/2000/svg")},m(n,l){y(n,e,l),h(e,t)},p:F,i:F,o:F,d(n){n&&M(e)}}}class cl extends U{constructor(e){super(),Y(this,e,null,fl,I,{})}}function ke(s,e,t){const n=s.slice();return n[36]=e[t].type,n[37]=e[t].text,n}function we(s,e,t){const n=s.slice();return n[40]=e[t],n[42]=t,n}function Ce(s,e,t){const n=s.slice();return n[43]=e[t],n[42]=t,n}function ye(s,e,t){const n=s.slice();return n[45]=e[t],n[47]=t,n}function Me(s,e,t){const n=s.slice();return n[48]=e[t],n}function Te(s){let e,t;return e=new De({props:{style:"width: 1.5rem; height: 1.5rem;"}}),{c(){A(e.$$.fragment)},m(n,l){$(e,n,l),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){R(e,n)}}}function ul(s){let e,t;function n(){return s[25](s[47])}return e=new Bt({props:{$$slots:{default:[gl]},$$scope:{ctx:s}}}),e.$on("regenerate",n),{c(){A(e.$$.fragment)},m(l,i){$(e,l,i),t=!0},p(l,i){s=l;const r={};i[0]&99|i[1]&1048576&&(r.$$scope={dirty:i,ctx:s}),e.$set(r)},i(l){t||(_(e.$$.fragment,l),t=!0)},o(l){b(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function al(s){let e,t;return e=new Vt({props:{id:s[45].id,contentText:s[0].userContentToText(s[45].content),contentFiles:s[0].userContentToFiles(s[45].content),generating:s[6]}}),e.$on("submit",s[12]),{c(){A(e.$$.fragment)},m(n,l){$(e,n,l),t=!0},p(n,l){const i={};l[0]&32&&(i.id=n[45].id),l[0]&33&&(i.contentText=n[0].userContentToText(n[45].content)),l[0]&33&&(i.contentFiles=n[0].userContentToFiles(n[45].content)),l[0]&64&&(i.generating=n[6]),e.$set(i)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){R(e,n)}}}function dl(s){let e,t;return e=new Xt({props:{progressMode:s[0].getFunctionCallStatus(s[48].result,s[6]),header:s[0].renderFunctionHeader(s[48].name,s[1].functions),args:s[0].renderFunctionCallArgs(s[48].arguments,s[48].name,s[1].functions),argsTitle:s[0].getArgsTitle(s[48].name,s[1].functions),result:s[0].renderFunctionResult(s[48].result,s[48].name,s[1].functions),resultTitle:s[0].getResultTitle(s[48].name,s[1].functions),resultType:s[0].getFunctionResultType(s[48].name,s[1].functions),generating:s[6]}}),{c(){A(e.$$.fragment)},m(n,l){$(e,n,l),t=!0},p(n,l){const i={};l[0]&97&&(i.progressMode=n[0].getFunctionCallStatus(n[48].result,n[6])),l[0]&35&&(i.header=n[0].renderFunctionHeader(n[48].name,n[1].functions)),l[0]&35&&(i.args=n[0].renderFunctionCallArgs(n[48].arguments,n[48].name,n[1].functions)),l[0]&35&&(i.argsTitle=n[0].getArgsTitle(n[48].name,n[1].functions)),l[0]&35&&(i.result=n[0].renderFunctionResult(n[48].result,n[48].name,n[1].functions)),l[0]&35&&(i.resultTitle=n[0].getResultTitle(n[48].name,n[1].functions)),l[0]&35&&(i.resultType=n[0].getFunctionResultType(n[48].name,n[1].functions)),l[0]&64&&(i.generating=n[6]),e.$set(i)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){R(e,n)}}}function ml(s){let e,t=s[0].renderAssistantMarkdown(s[48].content)+"";return{c(){e=w("div"),c(e,"class","markdown-body selectable-text-deep")},m(n,l){y(n,e,l),e.innerHTML=t},p(n,l){l[0]&33&&t!==(t=n[0].renderAssistantMarkdown(n[48].content)+"")&&(e.innerHTML=t)},i:F,o:F,d(n){n&&M(e)}}}function Le(s){let e,t,n,l;const i=[ml,dl],r=[];function o(f,u){return f[48].type==="content"?0:1}return e=o(s),t=r[e]=i[e](s),{c(){t.c(),n=P()},m(f,u){r[e].m(f,u),y(f,n,u),l=!0},p(f,u){let a=e;e=o(f),e===a?r[e].p(f,u):(D(),b(r[a],1,1,()=>{r[a]=null}),E(),t=r[e],t?t.p(f,u):(t=r[e]=i[e](f),t.c()),_(t,1),t.m(n.parentNode,n))},i(f){l||(_(t),l=!0)},o(f){b(t),l=!1},d(f){f&&M(n),r[e].d(f)}}}function gl(s){let e,t,n=G(s[45].parts),l=[];for(let r=0;r<n.length;r+=1)l[r]=Le(Me(s,n,r));const i=r=>b(l[r],1,1,()=>{l[r]=null});return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=P()},m(r,o){for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(r,o);y(r,e,o),t=!0},p(r,o){if(o[0]&99){n=G(r[45].parts);let f;for(f=0;f<n.length;f+=1){const u=Me(r,n,f);l[f]?(l[f].p(u,o),_(l[f],1)):(l[f]=Le(u),l[f].c(),_(l[f],1),l[f].m(e.parentNode,e))}for(D(),f=n.length;f<l.length;f+=1)i(f);E()}},i(r){if(!t){for(let o=0;o<n.length;o+=1)_(l[o]);t=!0}},o(r){l=l.filter(Boolean);for(let o=0;o<l.length;o+=1)b(l[o]);t=!1},d(r){r&&M(e),te(l,r)}}}function _l(s){let e,t,n,l;const i=[al,ul],r=[];function o(f,u){return f[45].type==="user"?0:1}return e=o(s),t=r[e]=i[e](s),{c(){t.c(),n=P()},m(f,u){r[e].m(f,u),y(f,n,u),l=!0},p(f,u){let a=e;e=o(f),e===a?r[e].p(f,u):(D(),b(r[a],1,1,()=>{r[a]=null}),E(),t=r[e],t?t.p(f,u):(t=r[e]=i[e](f),t.c()),_(t,1),t.m(n.parentNode,n))},i(f){l||(_(t),l=!0)},o(f){b(t),l=!1},d(f){f&&M(n),r[e].d(f)}}}function He(s){let e,t;return e=new tl({props:{type:s[45].type,agentName:s[2],$$slots:{default:[_l]},$$scope:{ctx:s}}}),{c(){A(e.$$.fragment)},m(n,l){$(e,n,l),t=!0},p(n,l){const i={};l[0]&32&&(i.type=n[45].type),l[0]&4&&(i.agentName=n[2]),l[0]&99|l[1]&1048576&&(i.$$scope={dirty:l,ctx:n}),e.$set(i)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){R(e,n)}}}function Ve(s){let e,t=s[9].length,n,l=Ze(s);return{c(){e=w("div"),l.c(),c(e,"class","file-uploads flex flex-wrap gap.5 text-sm svelte-1h9ake9")},m(i,r){y(i,e,r),l.m(e,null),n=!0},p(i,r){r[0]&512&&I(t,t=i[9].length)?(D(),b(l,1,1,F),E(),l=Ze(i),l.c(),_(l,1),l.m(e,null)):l.p(i,r)},i(i){n||(_(l),n=!0)},o(i){b(l),n=!1},d(i){i&&M(e),l.d(i)}}}function Fe(s){let e,t;function n(){return s[28](s[42])}return e=new ol({props:{image_url:s[43].image_url.url,removable:!0}}),e.$on("remove",n),{c(){A(e.$$.fragment)},m(l,i){$(e,l,i),t=!0},p(l,i){s=l;const r={};i[0]&512&&(r.image_url=s[43].image_url.url),e.$set(r)},i(l){t||(_(e.$$.fragment,l),t=!0)},o(l){b(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Ze(s){let e,t,n=G(s[9]),l=[];for(let r=0;r<n.length;r+=1)l[r]=Fe(Ce(s,n,r));const i=r=>b(l[r],1,1,()=>{l[r]=null});return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=P()},m(r,o){for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(r,o);y(r,e,o),t=!0},p(r,o){if(o[0]&513){n=G(r[9]);let f;for(f=0;f<n.length;f+=1){const u=Ce(r,n,f);l[f]?(l[f].p(u,o),_(l[f],1)):(l[f]=Fe(u),l[f].c(),_(l[f],1),l[f].m(e.parentNode,e))}for(D(),f=n.length;f<l.length;f+=1)i(f);E()}},i(r){if(!t){for(let o=0;o<n.length;o+=1)_(l[o]);t=!0}},o(r){l=l.filter(Boolean);for(let o=0;o<l.length;o+=1)b(l[o]);t=!1},d(r){r&&M(e),te(l,r)}}}function Ne(s){let e,t=s[10].length,n,l=Be(s);return{c(){e=w("div"),l.c(),c(e,"class","file-uploads flex flex-wrap gap.5 text-sm svelte-1h9ake9")},m(i,r){y(i,e,r),l.m(e,null),n=!0},p(i,r){r[0]&1024&&I(t,t=i[10].length)?(D(),b(l,1,1,F),E(),l=Be(i),l.c(),_(l,1),l.m(e,null)):l.p(i,r)},i(i){n||(_(l),n=!0)},o(i){b(l),n=!1},d(i){i&&M(e),l.d(i)}}}function ze(s){let e,t;function n(){return s[29](s[42])}return e=new Ke({props:{name:s[40].name,removable:!0}}),e.$on("remove",n),{c(){A(e.$$.fragment)},m(l,i){$(e,l,i),t=!0},p(l,i){s=l;const r={};i[0]&1024&&(r.name=s[40].name),e.$set(r)},i(l){t||(_(e.$$.fragment,l),t=!0)},o(l){b(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Be(s){let e,t,n=G(s[10]),l=[];for(let r=0;r<n.length;r+=1)l[r]=ze(we(s,n,r));const i=r=>b(l[r],1,1,()=>{l[r]=null});return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=P()},m(r,o){for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(r,o);y(r,e,o),t=!0},p(r,o){if(o[0]&1025){n=G(r[10]);let f;for(f=0;f<n.length;f+=1){const u=we(r,n,f);l[f]?(l[f].p(u,o),_(l[f],1)):(l[f]=ze(u),l[f].c(),_(l[f],1),l[f].m(e.parentNode,e))}for(D(),f=n.length;f<l.length;f+=1)i(f);E()}},i(r){if(!t){for(let o=0;o<n.length;o+=1)_(l[o]);t=!0}},o(r){l=l.filter(Boolean);for(let o=0;o<l.length;o+=1)b(l[o]);t=!1},d(r){r&&M(e),te(l,r)}}}function hl(s){let e,t,n,l=s[9].length>0&&Ve(s),i=s[10].length>0&&Ne(s);return{c(){l&&l.c(),e=B(),i&&i.c(),t=P()},m(r,o){l&&l.m(r,o),y(r,e,o),i&&i.m(r,o),y(r,t,o),n=!0},p(r,o){r[9].length>0?l?(l.p(r,o),o[0]&512&&_(l,1)):(l=Ve(r),l.c(),_(l,1),l.m(e.parentNode,e)):l&&(D(),b(l,1,1,()=>{l=null}),E()),r[10].length>0?i?(i.p(r,o),o[0]&1024&&_(i,1)):(i=Ne(r),i.c(),_(i,1),i.m(t.parentNode,t)):i&&(D(),b(i,1,1,()=>{i=null}),E())},i(r){n||(_(l),_(i),n=!0)},o(r){b(l),b(i),n=!1},d(r){r&&(M(e),M(t)),l&&l.d(r),i&&i.d(r)}}}function Se(s){let e,t=[],n=new Map,l,i=G(s[11]);const r=o=>o[37];for(let o=0;o<i.length;o+=1){let f=ke(s,i,o),u=r(f);n.set(u,t[o]=Ae(u,f))}return{c(){e=w("div");for(let o=0;o<t.length;o+=1)t[o].c();c(e,"class","errors-container flex-col gap.5 svelte-1h9ake9")},m(o,f){y(o,e,f);for(let u=0;u<t.length;u+=1)t[u]&&t[u].m(e,null);l=!0},p(o,f){f[0]&133120&&(i=G(o[11]),D(),t=tt(t,f,r,1,o,i,n,e,et,Ae,null,ke),E())},i(o){if(!l){for(let f=0;f<i.length;f+=1)_(t[f]);l=!0}},o(o){for(let f=0;f<t.length;f+=1)b(t[f]);l=!1},d(o){o&&M(e);for(let f=0;f<t.length;f+=1)t[f].d()}}}function je(s){let e,t;function n(){return s[34](s[37])}return e=new sl({props:{type:s[36],text:s[37]}}),e.$on("remove",n),{c(){A(e.$$.fragment)},m(l,i){$(e,l,i),t=!0},p(l,i){s=l;const r={};i[0]&2048&&(r.type=s[36]),i[0]&2048&&(r.text=s[37]),e.$set(r)},i(l){t||(_(e.$$.fragment,l),t=!0)},o(l){b(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Ae(s,e){let t,n=e[17].showType(e[36]),l,i,r=n&&je(e);return{key:s,first:null,c(){t=P(),r&&r.c(),l=P(),this.first=t},m(o,f){y(o,t,f),r&&r.m(o,f),y(o,l,f),i=!0},p(o,f){e=o,f[0]&2048&&(n=e[17].showType(e[36])),n?r?(r.p(e,f),f[0]&2048&&_(r,1)):(r=je(e),r.c(),_(r,1),r.m(l.parentNode,l)):r&&(D(),b(r,1,1,()=>{r=null}),E())},i(o){i||(_(r),i=!0)},o(o){b(r),i=!1},d(o){o&&(M(t),M(l)),r&&r.d(o)}}}function pl(s){let e,t,n,l,i,r,o,f,u,a,T,v,m,p,g,d;r=new cl({});let C=!s[4]&&Te(),k=G(s[5]),L=[];for(let V=0;V<k.length;V+=1)L[V]=He(ye(s,k,V));const N=V=>b(L[V],1,1,()=>{L[V]=null});v=new dt({props:{text:s[8],generating:s[6],$$slots:{default:[hl]},$$scope:{ctx:s}}}),v.$on("customchange",s[30]),v.$on("upload",s[31]),v.$on("submit",s[32]),v.$on("stop",s[33]);let z=s[11].length>0&&Se(s);return{c(){e=w("div"),t=w("div"),n=w("div"),l=w("div"),i=w("button"),A(r.$$.fragment),o=B(),C&&C.c(),f=B();for(let V=0;V<L.length;V+=1)L[V].c();u=B(),a=w("div"),T=B(),A(v.$$.fragment),m=B(),z&&z.c(),c(i,"class","new btn btn-neutral svelte-1h9ake9"),c(l,"class","flex items-center gap.5"),c(n,"class","header flex justify-between items-center svelte-1h9ake9"),W(a,"width","100%"),W(a,"height","0px"),W(a,"visibility","hidden"),c(t,"class","chats flex-col relative full scroll-y svelte-1h9ake9"),c(e,"class","container flex-col svelte-1h9ake9")},m(V,H){y(V,e,H),h(e,t),h(t,n),h(n,l),h(l,i),$(r,i,null),h(n,o),C&&C.m(n,null),h(t,f);for(let K=0;K<L.length;K+=1)L[K]&&L[K].m(t,null);h(t,u),h(t,a),s[26](a),s[27](t),h(e,T),$(v,e,null),h(e,m),z&&z.m(e,null),p=!0,g||(d=[q(i,"click",s[24]),q(t,"scroll",s[23])],g=!0)},p(V,H){if(V[4]?C&&(D(),b(C,1,1,()=>{C=null}),E()):C?H[0]&16&&_(C,1):(C=Te(),C.c(),_(C,1),C.m(n,null)),H[0]&4199){k=G(V[5]);let S;for(S=0;S<k.length;S+=1){const O=ye(V,k,S);L[S]?(L[S].p(O,H),_(L[S],1)):(L[S]=He(O),L[S].c(),_(L[S],1),L[S].m(t,u))}for(D(),S=k.length;S<L.length;S+=1)N(S);E()}const K={};H[0]&256&&(K.text=V[8]),H[0]&64&&(K.generating=V[6]),H[0]&1537|H[1]&1048576&&(K.$$scope={dirty:H,ctx:V}),v.$set(K),V[11].length>0?z?(z.p(V,H),H[0]&2048&&_(z,1)):(z=Se(V),z.c(),_(z,1),z.m(e,null)):z&&(D(),b(z,1,1,()=>{z=null}),E())},i(V){if(!p){_(r.$$.fragment,V),_(C);for(let H=0;H<k.length;H+=1)_(L[H]);_(v.$$.fragment,V),_(z),p=!0}},o(V){b(r.$$.fragment,V),b(C),L=L.filter(Boolean);for(let H=0;H<L.length;H+=1)b(L[H]);b(v.$$.fragment,V),b(z),p=!1},d(V){V&&M(e),R(r),C&&C.d(),te(L,V),s[26](null),s[27](null),R(v),z&&z.d(),g=!1,le(d)}}}function vl(s,e,t){let n,l,i,r,o,f,u,a,T,v,{chat:m}=e;function p(Z){m.changeUserMessageAndSubmit(Z.detail.id,Z.detail.text)}const{text:g,files:d,images:C}=m.prompt;J(s,g,Z=>t(8,u=Z)),J(s,d,Z=>t(10,T=Z)),J(s,C,Z=>t(9,a=Z));const{connected:k,scroll:L,errors:N,rendered:z,generating:V,config:H}=m;J(s,k,Z=>t(4,i=Z)),J(s,N,Z=>t(11,v=Z)),J(s,z,Z=>t(5,r=Z)),J(s,V,Z=>t(6,o=Z)),J(s,H,Z=>t(1,n=Z));const{containerDiv:K,ghostDiv:S,handleUserScrollDebounced:O}=L;J(s,K,Z=>t(3,l=Z)),J(s,S,Z=>t(7,f=Z));let fe;setTimeout(()=>L.scroll("force"));const Ee=()=>m.reset(),Ie=Z=>m.regenerateOnAgentResponse(Z);function Ue(Z){ee[Z?"unshift":"push"](()=>{f=Z,S.set(f)})}function Ye(Z){ee[Z?"unshift":"push"](()=>{l=Z,K.set(l)})}const qe=Z=>m.prompt.removeImage(Z),Pe=Z=>m.prompt.removeFile(Z),Ge=Z=>g.set(Z.detail),Je=()=>m.upload(),Oe=()=>m.sendMessage(),We=()=>m.stopGenerating(),Qe=Z=>N.remove(Z);return s.$$set=Z=>{"chat"in Z&&t(0,m=Z.chat)},s.$$.update=()=>{var Z;s.$$.dirty[0]&2&&t(2,fe=((Z=n.agent)==null?void 0:Z.name)??"Assistant")},[m,n,fe,l,i,r,o,f,u,a,T,v,p,g,d,C,k,N,z,V,H,K,S,O,Ee,Ie,Ue,Ye,qe,Pe,Ge,Je,Oe,We,Qe]}class Cl extends U{constructor(e){super(),Y(this,e,vl,pl,I,{chat:0},null,[-1,-1])}}export{Cl as default};
