import{h as ut,r as de,d as Ce,a as Q,i as Ke,E as De,t as Ne,p as dt,S as Be,c as Oe,b as ye,l as je,g as Ue,s as Ye,m as ct,e as ft,f as ke,j as pe,k as Pe,n as gt,o as _t,q as me,u as ht,v as mt,w as Ae,x as wt,y as Ct,z as xt,A as yt,B as le,C as q,D as Je,F as _e,G as He,H as We,I as p,J as bt,K as P,L as H,M as N,N as M,O as $,P as I,Q as pt,R as Te,T as L,U as G,V as Ee,W as S,X as m,Y as Mt,Z as w,_ as ve,$ as be,a0 as V,a1 as E,a2 as X,a3 as ge,a4 as qe,a5 as re,a6 as j,a7 as z,a8 as Lt,a9 as te,aa as kt,ab as Me,ac as Ht,ad as Tt,ae as Ie,af as Fe}from"./index-DjbxPWSd.js";import"https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/es/highlight.min.js";import"https://cdn.socket.io/4.7.2/socket.io.esm.min.js";const Ve=-1,we=99999999,Ge=-2;function Vt(){}function Xe(t,e,l,r,u,s,_){const g=(l&me)!==0,v=_t(l,t);let x=null;ut(t,g);let C,d=null,a=null;v.r=n=>{const h=x,c=h.s;c.add(n),n.f(()=>{c.delete(n),c.size===0&&h.e!==null&&(h.d!==null&&(de(h.d),h.d=null),Ce(h.e),h.e=null)})};const o=()=>{const n={d:null,e:null,s:new Set,p:x},h=Q(()=>{const c=v.d;c!==null&&(de(c),v.d=null);let y=v.a;(v.f&me)!==0&&(y=ht(),v.a.appendChild(y)),s(y),n.d=v.d,v.d=null},v,!0);n.e=h,x=n},i=n=>{const h=n.f,c=(h&me)!==0,y=n.a;_(C,n,y,c,u,h,!0,d)},f=Q(()=>{const n=e();C=Ke(n)?n:n==null?[]:Array.from(n),r!==null?d=C.map(r):l&De||C.map(Vt);const h=C.length;if(s!==null){if(h===0){if(v.v.length!==0||a===null){i(v),o();return}}else if(v.v.length===0&&x!==null){const c=x,y=c.s;y.size===0?c.d!==null&&(de(c.d),c.d=null):Ne(y,"out")}}a!==null&&mt(a)},v,!1);a=Q(i,v,!0),dt(f,()=>{const n=v.f,h=v.a,c=(n&me)!==0;let y=x;for(;y!==null;){const T=y.d;T!==null&&de(T);const k=y.e;k!==null&&Ce(k),y=y.p}_([],v,h,c,u,n,!1,d),Ce(a)}),v.e=f}function At(t,e,l,r,u,s){Xe(t,e,l,r,u,s,zt)}function ce(t,e,l,r,u){Xe(t,e,l,null,r,u,Et)}function Et(t,e,l,r,u,s,_){var g=Be in t&&t[Be].i,v=e.v,x=e.s;g&&(s&=~pe);var C=v.length,d=t.length,a=Math.max(C,d),o=0,i,f;if(x.length!==0&&Qe(x),d===0)for(i=[],r&&C!==0&&Oe(l);o<a;)f=v[o++],ie(f,x,_,r);else{var n;if(i=Array(d),ye!==null)for(var h=ye[0];o<a;o++){n=g?je(t,o):t[o];var c=Ue(h);Ye(c),h=c.at(-1).nextSibling.nextSibling,f=ae(n,null,o,u,s),i[o]=f}else for(;o<a;o++)o>=C?(n=g?je(t,o):t[o],f=ae(n,null,o,u,s),i[o]=f,xe(f,l,r,null)):o>=d?(f=v[o],ie(f,x,_)):(n=t[o],f=v[o],i[o]=f,fe(f,n,o,s))}e.v=i}function zt(t,e,l,r,u,s,_,g){var v=e.v;const x=g!==null;var C=e.s,d=v.length,a=t.length,o,i;if(C.length!==0&&Qe(C),a===0)for(o=[],r&&d!==0&&Oe(l);d>0;)i=v[--d],ie(i,C,_,r);else{var f=d-1,n=a-1,h,c,y;if(o=Array(a),ye!==null)for(var T,k=ye[0];a>0;)y=n- --a,c=t[y],h=x?g[y]:c,T=Ue(k),Ye(T),k=(T.at(-1)||k).nextSibling.nextSibling,i=ae(c,h,y,u,s),o[y]=i;else if(d===0)for(;a>0;)y=n- --a,c=t[y],h=x?g[y]:c,i=ae(c,h,y,u,s),o[y]=i,xe(i,l,r,null);else{var A=(s&(pe|Ae))!==0,b=0,Z=null;c=t[n],h=x?g[n]:c;e:for(;;){for(;v[f].k===h;){if(i=v[f--],c=t[n],A&&fe(i,c,n,s),Z=Re(i),o[n]=i,b>--n||b>f)break e;h=x?g[n]:c}for(c=t[b],h=x?g[b]:c;b<=f&&b<=n&&v[b].k===h;)c=t[b],i=v[b],A&&fe(i,c,b,s),o[b]=i,++b,h=x?g[b]:t[b];break}if(b>f)for(;n>=b;)c=t[n],h=x?g[n]:c,i=ae(c,h,n,u,s),o[n--]=i,Z=xe(i,l,r,Z);else if(b>n){a=b;do(i=v[a++])!==null&&ie(i,C,_);while(a<=f)}else{var B=0,O=n-b+1,F=new Int32Array(O),U=new Map;for(a=0;a<O;++a)d=a+b,F[a]=Ve,c=t[d],h=x?g[d]:c,ct(U,h,d);for(a=b;a<=f;++a)d=ft(U,v[a].k),i=v[a],d!==void 0?(B=B<d?d:we,F[d-b]=a,o[d]=i):i!==null&&ie(i,C,_);B===we&&Zt(F);var Y=(s&wt)!==0,D;if(Y)for(var R=O;R-- >0;)n=R+b,d=F[R],B===we&&(i=o[n],c=t[n],fe(i,c,n,s));for(var K,J;O-- >0;)n=O+b,d=F[O],D=d===-1,c=t[n],D?(h=x?g[n]:c,i=ae(c,h,n,u,s)):(i=o[n],!Y&&A&&fe(i,c,n,s)),(D||B===we&&d!==Ge)&&(J=K===void 0?Z:Re(K),Z=xe(i,l,r,J)),o[n]=i,K=i}}}e.v=o}function Zt(t){for(var e=t.length,l=new Int32Array(e),r=new Int32Array(e),u=0,s=0,_,g,v,x;t[s]===Ve;++s);for(r[0]=s++;s<e;++s)if(g=t[s],g!==Ve)if(_=r[u],t[_]<g)l[s]=_,r[++u]=s;else{for(v=0,x=u;v<x;)_=v+x>>1,t[r[_]]<g?v=_+1:x=_;g<t[r[v]]&&(v>0&&(l[s]=r[v-1]),r[v]=s)}for(_=r[u];u-->=0;)t[_]=Ge,_=l[_]}function xe(t,e,l,r){var u=t.d;return r===null?l?ke(u,e,null):ke(u,e.parentNode,e):ke(u,null,r)}function Re(t){var e=t.d;return Ke(e)?e[0]:e}function Qe(t){var e=t.length;if(e>0){for(var l=0,r,u;l<e;l++)r=t[l],u=r.r,u!==null&&(r.r=null,ie(r,null,!1));t.length=0}}function fe(t,e,l,r){r&pe?Pe(t.v,e):gt(t.v)&&(t.v.o[t.v.p]=e);const u=t.s,s=(r&Ae)!==0,_=t.a;u!==null&&r&De&&_!==null&&_(t,u,l,s),s?Pe(t.i,l):t.i=l}function ie(t,e,l,r=!1){const u=t.s;if(l&&u!==null){for(let _ of u)_.r==="key"&&u.delete(_);if(u.size===0)t.s=null;else{Ne(u,"out"),e!==null&&e.push(t);return}}const s=t.d;!r&&s!==null&&de(s),Ce(t.e)}function ae(t,e,l,r,u){const _=(u&pe)===0?t:u&xt?le(t):yt(t),g=u&Ae?le(l):l,v=Ct(_,g,e),x=Q(C=>{r(null,C.v,C.i)},v,!0);return v.e=x,v}function St(t,e,l,r,u){H(e)(t)&&(t.preventDefault(),l.onsubmit(),r().then(H(u)))}var Bt=L('<textarea autocorrect="off" autocomplete="off" autocapitalize="off" spellcheck="false" rows="1" class="svelte-rm3h0e"></textarea>');function $e(t,e){I(e,!0);let l=q(e,"style",3,""),r=q(e,"placeholder",3,""),u=q(e,"submitKeyMode",3,"enter"),s=q(e,"maxHeight",3,0),_=N(()=>s()?`max-height: ${s()}px;`:""),g=N(()=>`${H(_)} ${l()}`),v=N(()=>u()==="enter"?k=>k.key==="Enter"&&!k.shiftKey:k=>k.key==="Enter"&&(k.metaKey||k.ctrlKey));function x(k){f&&(f.scrollHeight>k?(f.style.overflowY="scroll",f.style.height=k+"px"):(f.style.overflowY="hidden",f.style.height="auto",f.style.height=f.scrollHeight+"px"))}function C(){f&&(f.style.overflowY="hidden",f.style.height="auto",f.style.height=f.scrollHeight+"px")}let d=N(()=>s()?()=>x(s()):C);Je(()=>H(d)());function a(){H(d)(),e.onchange(f.value)}function o(){H(d)()}function i(){f==null||f.focus()}let f;var n=M(t,!0,Bt);_e(n,k=>f=k,f),pt(n);var h,c,y;Q(()=>{h!==(h=e.value)&&(n.value=h),c!==(c=r())&&Te(n,"placeholder",c),y!==(y=H(g))&&Te(n,"style",y)}),He("focus",n,o,!1),n.__keydown=[St,v,e,We,d],He("input",n,a,!1),p(t,n),bt(e,"focus",i);var T={get focus(){return i}};return P(T),T}$(["keydown"]);var jt=G('<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M7 11L12 6L17 11M12 18V7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>');function Pt(t,e){I(e,!1);var l=M(t,!0,jt);p(t,l),P()}var It=G('<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 7C9 4.23858 11.2386 2 14 2C16.7614 2 19 4.23858 19 7V15C19 18.866 15.866 22 12 22C8.13401 22 5 18.866 5 15V9C5 8.44772 5.44772 8 6 8C6.55228 8 7 8.44772 7 9V15C7 17.7614 9.23858 20 12 20C14.7614 20 17 17.7614 17 15V7C17 5.34315 15.6569 4 14 4C12.3431 4 11 5.34315 11 7V15C11 15.5523 11.4477 16 12 16C12.5523 16 13 15.5523 13 15V9C13 8.44772 13.4477 8 14 8C14.5523 8 15 8.44772 15 9V15C15 16.6569 13.6569 18 12 18C10.3431 18 9 16.6569 9 15V7Z" fill="currentColor"></path></svg>');function Ft(t,e){I(e,!1);var l=M(t,!0,It);p(t,l),P()}var Rt=L('<button class="stop-btn  bottom-right rounded svelte-1gfedl3" type="button"><div class="square svelte-1gfedl3"></div></button>'),Kt=L('<button class="send-btn  flex-center bottom-right svelte-1gfedl3" type="button"><!></button>'),Dt=L('<div class="prompt-container  flex justify-center w-full"><form class="prompt  flex-col relative w-full svelte-1gfedl3"><!> <!> <button class="upload-btn  bottom-left svelte-1gfedl3" type="button"><!></button> <!></form></div>');function Nt(t,e){I(e,!0),setTimeout(()=>l==null?void 0:l.focus(),50);let l;var r=M(t,!0,Dt),u=w(r),s=w(u);Ee(()=>e.children,s);var _=m(m(s)),g=m(m(_)),v=w(g),x=m(m(g));_e($e(_,{get value(){return e.text},get onchange(){return e.onchange},get onsubmit(){return e.onsubmit},placeholder:"Send a message...",maxHeight:200,style:"height: 3.25rem; padding: .875rem 3rem .875rem 3rem;"}),C=>l=C,l),g.__click=function(...C){const d=e.onupload;return d==null?void 0:d.apply(this,C)},Ft(v,{}),S(x,()=>e.generating,C=>{var d=M(C,!0,Rt);d.__click=function(...a){const o=e.onstop;return o==null?void 0:o.apply(this,a)},p(C,d)},C=>{var d=M(C,!0,Kt),a=w(d);Mt(d,"dimmed",()=>e.text===""),d.__click=function(...o){const i=e.onsubmit;return i==null?void 0:i.apply(this,o)},Pt(a,{}),p(C,d)}),p(t,r),P()}$(["click"]);var Ot=G('<svg class="icon-md" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M13.2929 4.29291C15.0641 2.52167 17.9359 2.52167 19.7071 4.2929C21.4783 6.06414 21.4783 8.93588 19.7071 10.7071L18.7073 11.7069L11.1603 19.2539C10.7182 19.696 10.1489 19.989 9.53219 20.0918L4.1644 20.9864C3.84584 21.0395 3.52125 20.9355 3.29289 20.7071C3.06453 20.4788 2.96051 20.1542 3.0136 19.8356L3.90824 14.4678C4.01103 13.8511 4.30396 13.2818 4.7461 12.8397L13.2929 4.29291ZM13 7.41422L6.16031 14.2539C6.01293 14.4013 5.91529 14.591 5.88102 14.7966L5.21655 18.7835L9.20339 18.119C9.40898 18.0847 9.59872 17.9871 9.7461 17.8397L16.5858 11L13 7.41422ZM18 9.5858L14.4142 6.00001L14.7071 5.70712C15.6973 4.71693 17.3027 4.71693 18.2929 5.70712C19.2831 6.69731 19.2831 8.30272 18.2929 9.29291L18 9.5858Z" fill="currentColor"></path></svg>');function Ut(t,e){I(e,!1);var l=M(t,!0,Ot);p(t,l),P()}var Yt=G('<svg class="codicon-svg" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path fill-rule="evenodd" clip-rule="evenodd" d="M8 8.707l3.646 3.647.708-.707L8.707 8l3.647-3.646-.707-.708L8 7.293 4.354 3.646l-.707.708L7.293 8l-3.646 3.646.707.708L8 8.707z"></path></svg>');function ze(t,e){I(e,!0);let l=q(e,"style",3,"");var r=M(t,!0,Yt);ve(r,"style",l),p(t,r),P()}var Jt=G('<svg class="codicon-svg" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path fill-rule="evenodd" clip-rule="evenodd" d="M13.71 4.29l-3-3L10 1H4L3 2v12l1 1h9l1-1V5l-.29-.71zM13 14H4V2h5v4h4v8zm-3-9V2l3 3h-3z"></path></svg>');function Wt(t,e){I(e,!0);let l=q(e,"style",3,"");var r=M(t,!0,Jt);ve(r,"style",l),p(t,r),P()}var qt=L('<button class="svelte-eflf79"><!></button>'),Gt=L('<div class="file-item  inline-flex items-center gap.5 relative set-visibility-on-hover text-sm svelte-eflf79"><div class="icon svelte-eflf79"><!></div> <span class="svelte-eflf79"> </span> <!></div>');function et(t,e){I(e,!0);let l=q(e,"onremove",3,null),r=q(e,"style",3,"");var u=M(t,!0,Gt),s=w(u),_=w(s),g=m(m(s)),v=w(g),x=m(m(g)),C;Q(()=>{C!==(C=r())&&Te(u,"style",C),be(v,e.name)}),Wt(_,{}),S(x,()=>l()!==null,d=>{var a=M(d,!0,qt),o=w(a);a.__click=function(...i){const f=l();return f==null?void 0:f.apply(this,i)},ze(o,{}),p(d,a)},null),p(t,u),P()}$(["click"]);var Xt=L('<img style="max-height: 12rem; width: auto; height: auto;" alt="Uploaded" loading="lazy" decoding="async">'),Qt=L("<div><!></div>"),$t=L('<div class="user-text  flex-col items-start gap.75 selectable-text-deep svelte-1cz09sb"> </div>'),el=L('<!> <div class="editing-controls  flex justify-center gap.5 svelte-1cz09sb"><button class="btn btn-primary"><div class="flex-center">Save & Submit</div></button> <button class="btn btn-neutral"><div class="flex-center">Cancel</div></button></div>',!0),tl=L('<div class="controls  flex gap.75 svelte-1cz09sb"><div class="buttons-container  flex gap.25 svelte-1cz09sb"><button class="svelte-1cz09sb"><div class="icon-wrapper  flex items-center gap.375 text-xs"><!></div></button></div></div>'),ll=L('<div class="content-container  flex-col svelte-1cz09sb"><!> <!></div> <!>',!0);function rl(t,e){I(e,!0);let l=le(!1),r=le("");function u(){X(r,ge(e.contentText)),X(l,!0),We().then(()=>{g==null||g.focus()})}function s(){X(r,""),X(l,!1)}function _(){e.onsubmit(H(r)),s()}let g=null;var v=re(t,!0,ll),x=z(v),C=w(x),d=m(m(C)),a=m(m(x));ce(C,()=>e.contentFiles,65,(o,i,f)=>{var n=M(o,!0,Qt),h=w(n);S(h,()=>V(i).type==="image_url",c=>{var y=M(c,!0,Xt);ve(y,"src",()=>V(i).image_url.url),p(c,y)},c=>{var y=j(c),T=z(y);S(T,()=>V(i).type==="binary",k=>{var A=j(k),b=z(A);et(b,{get name(){return V(i).name},style:"margin: .5rem 0 1rem 0;"}),E(k,A)},null),E(c,y)}),p(o,n)},null),S(d,()=>!H(l),o=>{var i=M(o,!0,$t),f=w(i);qe(f,()=>e.contentText),p(o,i)},o=>{var i=re(o,!0,el),f=z(i),n=m(m(f)),h=w(n),c=m(m(h)),y;Q(()=>{y!==(y=e.generating)&&(h.disabled=y)}),_e($e(f,{get value(){return H(r)},onchange:T=>X(r,ge(T)),style:"min-height: 1.25rem; word-wrap: break-word; white-space: pre-wrap;",onsubmit:_,submitKeyMode:"ctrl-enter"}),T=>g=T,g),h.__click=_,c.__click=s,E(o,i)}),S(a,()=>!H(l),o=>{var i=M(o,!0,tl),f=w(i),n=w(f),h=w(n),c=w(h);n.__click=u,Ut(c,{}),p(o,i)},null),E(t,v),P()}$(["click"]);var nl=G('<svg class="icon-md" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.5 2.5C5.05228 2.5 5.5 2.94772 5.5 3.5V5.07196C7.19872 3.47759 9.48483 2.5 12 2.5C17.2467 2.5 21.5 6.75329 21.5 12C21.5 17.2467 17.2467 21.5 12 21.5C7.1307 21.5 3.11828 17.8375 2.565 13.1164C2.50071 12.5679 2.89327 12.0711 3.4418 12.0068C3.99033 11.9425 4.48712 12.3351 4.5514 12.8836C4.98798 16.6089 8.15708 19.5 12 19.5C16.1421 19.5 19.5 16.1421 19.5 12C19.5 7.85786 16.1421 4.5 12 4.5C9.7796 4.5 7.7836 5.46469 6.40954 7H9C9.55228 7 10 7.44772 10 8C10 8.55228 9.55228 9 9 9H4.5C3.96064 9 3.52101 8.57299 3.50073 8.03859C3.49983 8.01771 3.49958 7.99677 3.5 7.9758V3.5C3.5 2.94772 3.94771 2.5 4.5 2.5Z" fill="currentColor"></path></svg>');function al(t,e){I(e,!1);var l=M(t,!0,nl);p(t,l),P()}var il=L('<div class="sections-container"><div class="content-container  flex-col svelte-1nno5e5"><!></div> <div class="controls  flex gap.25 svelte-1nno5e5"><div class="buttons-container"><button class="svelte-1nno5e5"><div class="icon-wrapper  flex items-center gap.375 text-xs"><!></div></button></div></div></div>');function vl(t,e){I(e,!0);var l=M(t,!0,il),r=w(l),u=w(r);Ee(()=>e.children,u);var s=m(m(r)),_=w(s),g=w(_),v=w(g),x=w(v);g.__click=function(...C){const d=e.regenerate;return d==null?void 0:d.apply(this,C)},al(x,{}),p(t,l),P()}$(["click"]);var sl=G('<svg viewBox="0 0 8 9" width="8" height="9" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M7.66607 0.376042C8.01072 0.605806 8.10385 1.07146 7.87408 1.4161L3.54075 7.9161C3.40573 8.11863 3.18083 8.24304 2.93752 8.24979C2.69421 8.25654 2.46275 8.1448 2.31671 7.95008L0.150044 5.06119C-0.098484 4.72982 -0.0313267 4.25972 0.300044 4.01119C0.631415 3.76266 1.10152 3.82982 1.35004 4.16119L2.88068 6.20204L6.62601 0.584055C6.85577 0.239408 7.32142 0.146278 7.66607 0.376042Z" fill="currentColor"></path></svg>');function ol(t,e){I(e,!1);var l=M(t,!0,sl);p(t,l),P()}var ul=G('<svg viewBox="0 0 4 12" width="4" height="12" fill="none" xmlns="http://www.w3.org/2000/svg"><mask id="path-1-inside-1_1975_4008" fill="currentColor"><path fill-rule="evenodd" clip-rule="evenodd" d="M1 6.5C1 7.05228 1.44772 7.5 2 7.5C2.55228 7.5 3 7.05228 3 6.5V1.5C3 0.947715 2.55228 0.5 2 0.5C1.44772 0.5 1 0.947715 1 1.5L1 6.5ZM0.75 10.25C0.75 10.9404 1.30964 11.5 2 11.5C2.69036 11.5 3.25 10.9404 3.25 10.25C3.25 9.55964 2.69036 9 2 9C1.30964 9 0.75 9.55964 0.75 10.25Z"></path></mask><path fill-rule="evenodd" clip-rule="evenodd" d="M1 6.5C1 7.05228 1.44772 7.5 2 7.5C2.55228 7.5 3 7.05228 3 6.5V1.5C3 0.947715 2.55228 0.5 2 0.5C1.44772 0.5 1 0.947715 1 1.5L1 6.5ZM0.75 10.25C0.75 10.9404 1.30964 11.5 2 11.5C2.69036 11.5 3.25 10.9404 3.25 10.25C3.25 9.55964 2.69036 9 2 9C1.30964 9 0.75 9.55964 0.75 10.25Z" fill="currentColor"></path><path d="M1 6.5H-0.25H1ZM1 1.5L-0.25 1.5L-0.25 1.5L1 1.5ZM2 6.25C2.13807 6.25 2.25 6.36193 2.25 6.5H-0.25C-0.25 7.74264 0.757359 8.75 2 8.75V6.25ZM1.75 6.5C1.75 6.36193 1.86193 6.25 2 6.25V8.75C3.24264 8.75 4.25 7.74264 4.25 6.5H1.75ZM1.75 1.5V6.5H4.25V1.5H1.75ZM2 1.75C1.86193 1.75 1.75 1.63807 1.75 1.5H4.25C4.25 0.257359 3.24264 -0.75 2 -0.75V1.75ZM2.25 1.5C2.25 1.63807 2.13807 1.75 2 1.75V-0.75C0.757359 -0.75 -0.25 0.257359 -0.25 1.5L2.25 1.5ZM2.25 6.5L2.25 1.5L-0.25 1.5L-0.25 6.5L2.25 6.5ZM2 10.25H-0.5C-0.5 11.6307 0.619288 12.75 2 12.75V10.25ZM2 10.25V12.75C3.38071 12.75 4.5 11.6307 4.5 10.25H2ZM2 10.25H2H4.5C4.5 8.86929 3.38071 7.75 2 7.75V10.25ZM2 10.25H2V7.75C0.619288 7.75 -0.5 8.86929 -0.5 10.25H2Z" fill="currentColor" mask="url(#path-1-inside-1_1975_4008)"></path></svg>');function dl(t,e){I(e,!1);var l=M(t,!0,ul);p(t,l),P()}var cl=G('<svg width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M11.3346 7.83203L8.00131 11.1654L4.66797 7.83203" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>');function fl(t,e){I(e,!0);let l=q(e,"open",3,!1);var r=M(t,!0,cl);ve(r,"style",()=>l()?"":"transform: rotate(270deg)"),p(t,r),P()}var gl=G('<svg class="codicon-svg loading" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path fill-rule="evenodd" clip-rule="evenodd" d="M13.917 7A6.002 6.002 0 0 0 2.083 7H1.071a7.002 7.002 0 0 1 13.858 0h-1.012z"></path></svg>');function tt(t,e){I(e,!0);let l=q(e,"style",3,"");var r=M(t,!0,gl);ve(r,"style",l),p(t,r),P()}var _l=L("<div><div></div></div>");function hl(t,e){I(e,!0);const l="https://cdn.plot.ly/plotly-2.27.0.min.js";function r(a){try{return JSON.parse(a)}catch{return null}}async function u(){return new Promise((a,o)=>{if(window.Plotly)a(window.Plotly);else{const i=document.createElement("script");i.src=l,i.onload=()=>a(window.Plotly),document.head.appendChild(i)}})}function s(a){return a?(a.layout=a.layout??{},a.layout.modebar=a.layout.modebar??{},a.config=a.config??{},a.layout.height=400,a.layout.plot_bgcolor="transparent",a.layout.paper_bgcolor="transparent",a.layout.modebar.color="$a9a9a9",a.layout.modebar.activecolor="$007bff",a.layout.modebar.bgcolor="transparent",a.config.displaylogo=!1,a.config.modeBarButtonsToRemove=["zoomIn2d","zoomOut2d","resetScale2d","lasso2d"],a.config.responsive=!0,a):null}let _=le(null),g=le(null),v=N(()=>s(r(e.chart_json))),x=le(!1);setTimeout(async()=>{X(_,ge(await u()))}),Je(()=>{H(_)&&H(g)&&H(v)&&(H(_).newPlot(H(g),H(v)),H(x)||X(x,!0))});var C=M(t,!0,_l),d=w(C);_e(d,a=>X(g,ge(a)),g),Lt(C,"visibility",()=>H(x)?"":"invisible"),p(t,C),P()}var ml=(t,e)=>X(e,!H(e)),wl=L('<div class="header  flex items-center gap.625 svelte-1ws0rln"><div class="indicator-container  relative svelte-1ws0rln"><div><!></div></div> <div class="label-container  relative w-full svelte-1ws0rln"><button class="label  flex items-center gap.25 svelte-1ws0rln"><div class="markdown-body function-status selectable-text-deep svelte-1ws0rln"><!></div> <!></button></div></div>'),Cl=L('<div class="title args  text-xs svelte-1ws0rln"><!></div> <div class="horizontal-divider svelte-1ws0rln"></div> <div class="markdown-body args selectable-text-deep"><!></div>',!0),xl=L('<div class="text-result-wrapper svelte-1ws0rln"><div class="title text-result  text-xs svelte-1ws0rln"><!></div> <pre class="result selectable-text"> </pre></div>'),yl=L('<div class="html-result selectable-text-deep svelte-1ws0rln"><!></div>'),bl=L('<div class="plotly-result selectable-text-deep"><!></div>'),pl=L('<div class="markdown-body markdown-result selectable-text-deep svelte-1ws0rln"><!></div>'),Ml=L('<div class="title block-result  text-xs svelte-1ws0rln"><!></div> <div class="horizontal-divider svelte-1ws0rln"></div> <!>',!0),Ll=L('<div class="horizontal-divider svelte-1ws0rln"></div> <!>',!0),kl=L('<div class="content  overflow-hidden svelte-1ws0rln"><!> <!></div>'),Hl=L("<!> <!>",!0);function Tl(t,e){I(e,!0);let l=le(ge((e.generating,!0)));var r=re(t,!0,Hl),u=z(r),s=m(m(u));S(u,()=>e.header!==null,_=>{var g=M(_,!0,wl),v=w(g),x=w(v),C=w(x),d=m(m(v)),a=w(d),o=w(a),i=w(o);te(i,()=>e.header,!1);var f=m(m(o));kt(x,()=>`indicator ${Me(e.progressMode)}  flex-center full rounded svelte-1ws0rln`),S(C,()=>e.progressMode==="error",n=>{var h=j(n),c=z(h);dl(c,{}),E(n,h)},n=>{var h=j(n),c=z(h);S(c,()=>e.progressMode==="progress",y=>{var T=j(y),k=z(T);tt(k,{style:"height: 1.25rem; width: 1.25rem;"}),E(y,T)},y=>{var T=j(y),k=z(T);ol(k,{}),E(y,T)}),E(n,h)}),a.__click=[ml,l],fl(f,{get open(){return H(l)}}),p(_,g)},null),S(s,()=>H(l)||e.header===null,_=>{var g=M(_,!0,kl),v=w(g),x=m(m(v));S(v,()=>e.args,C=>{var d=re(C,!0,Cl),a=z(d),o=w(a);te(o,()=>e.argsTitle,!1);var i=m(m(a)),f=m(m(i)),n=w(f);te(n,()=>e.args,!1),E(C,d)},null),S(x,()=>e.result!==null,C=>{var d=re(C,!0,Ll),a=z(d),o=m(m(a));S(o,()=>e.resultType==="text",i=>{var f=M(i,!0,xl),n=w(f),h=w(n);te(h,()=>e.resultTitle,!1);var c=m(m(n)),y=w(c);qe(y,()=>e.result),p(i,f)},i=>{var f=re(i,!0,Ml),n=z(f),h=w(n);te(h,()=>e.resultTitle,!1);var c=m(m(n)),y=m(m(c));S(y,()=>e.resultType==="html",T=>{var k=M(T,!0,yl),A=w(k);te(A,()=>e.result,!1),p(T,k)},T=>{var k=j(T),A=z(k);S(A,()=>e.resultType==="plotly",b=>{var Z=M(b,!0,bl),B=w(Z);hl(B,{get chart_json(){return e.result}}),p(b,Z)},b=>{var Z=M(b,!0,pl),B=w(Z);te(B,()=>e.result,!1),p(b,Z)}),E(T,k)}),E(i,f)}),E(C,d)},null),p(_,g)},null),E(t,r),P()}$(["click"]);var Vl=L('<div class="chat-container  w-full svelte-1nj1c9p"><div class="chat  flex gap.75 mx-auto svelte-1nj1c9p"><div></div> <div class="message-container  flex-col relative w-full svelte-1nj1c9p"><div class="name svelte-1nj1c9p"> </div> <div class="sections-container"><!></div></div> <div class="right-spacer svelte-1nj1c9p"></div></div></div>');function Al(t,e){I(e,!0);var l=M(t,!0,Vl),r=w(l),u=w(r),s=m(m(u)),_=w(s),g=w(_),v=m(m(_)),x=w(v);Ee(()=>e.children,x),Q(()=>{Ht(u,`avatar ${Me(e.type)}  flex-center rounded overflow-hidden svelte-1nj1c9p`),be(g,e.type==="user"?"You":e.agentName)}),p(t,l),P()}var El=L('<div class="background svelte-5i1np0"><div class="error flex items-start svelte-5i1np0"><button class="svelte-5i1np0"><!></button> <div class="content flex-col gap.25"><div class="header svelte-5i1np0"> </div> <div class="text selectable-text svelte-5i1np0"> </div></div></div></div>');function zl(t,e){I(e,!0);var l=M(t,!0,El),r=w(l),u=w(r),s=w(u),_=m(m(u)),g=w(_),v=w(g),x=m(m(g)),C=w(x);Q(()=>{be(v,`${Me(e.type)} Error`),be(C,e.text)}),u.__click=function(...d){const a=e.onremove;return a==null?void 0:a.apply(this,d)},ze(s,{}),p(t,l),P()}$(["click"]);var Zl=L('<button class="remove  rounded svelte-1kzkvmr"><!></button>'),Sl=L('<div class="image-item  relative overflow-hidden set-visibility-on-hover svelte-1kzkvmr"><span class="image  flex-center full svelte-1kzkvmr"></span> <!></div>');function Bl(t,e){I(e,!0);let l=q(e,"onremove",3,null);var r=M(t,!0,Sl),u=w(r),s=m(m(u));ve(u,"style",()=>`background-image: url(${Me(e.image_url)});`),S(s,()=>l()!==null,_=>{var g=M(_,!0,Zl),v=w(g);g.__click=function(...x){const C=l();return C==null?void 0:C.apply(this,x)},ze(v,{}),p(_,g)},null),p(t,r),P()}$(["click"]);var jl=G('<svg class="icon-md" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M16.7929 2.79289C18.0118 1.57394 19.9882 1.57394 21.2071 2.79289C22.4261 4.01184 22.4261 5.98815 21.2071 7.20711L12.7071 15.7071C12.5196 15.8946 12.2652 16 12 16H9C8.44772 16 8 15.5523 8 15V12C8 11.7348 8.10536 11.4804 8.29289 11.2929L16.7929 2.79289ZM19.7929 4.20711C19.355 3.7692 18.645 3.7692 18.2071 4.2071L10 12.4142V14H11.5858L19.7929 5.79289C20.2308 5.35499 20.2308 4.64501 19.7929 4.20711ZM6 5C5.44772 5 5 5.44771 5 6V18C5 18.5523 5.44772 19 6 19H18C18.5523 19 19 18.5523 19 18V14C19 13.4477 19.4477 13 20 13C20.5523 13 21 13.4477 21 14V18C21 19.6569 19.6569 21 18 21H6C4.34315 21 3 19.6569 3 18V6C3 4.34314 4.34315 3 6 3H10C10.5523 3 11 3.44771 11 4C11 4.55228 10.5523 5 10 5H6Z" fill="currentColor"></path></svg>');function Pl(t,e){I(e,!1);var l=M(t,!0,jl);p(t,l),P()}var Il=(t,e)=>e.chat.reset(),Fl=L('<div class="markdown-body selectable-text-deep"><!></div>'),Rl=L('<div class="file-uploads flex flex-wrap gap.5 text-sm svelte-1h9ake9"><!></div>'),Kl=L('<div class="file-uploads flex flex-wrap gap.5 text-sm svelte-1h9ake9"><!></div>'),Dl=L("<!> <!>",!0),Nl=L('<div class="errors-container  flex-col gap.5 svelte-1h9ake9"></div>'),Ol=L('<div class="container  flex-col svelte-1h9ake9"><div class="chats  flex-col relative full scroll-y svelte-1h9ake9"><div class="header  flex justify-between items-center svelte-1h9ake9"><div class="flex items-center gap.5"><button class="new  btn btn-neutral svelte-1h9ake9"><!></button></div> <!></div> <!></div> <!> <!></div>');function ql(t,e){I(e,!0);const l={};Tt(l);const r=()=>Fe(x,"$config",l),u=()=>Fe(v,"$rendered",l),{prompt:s,scroll:_,errors:g,rendered:v,config:x}=e.chat;let C=N(()=>r().agent_name??"Assistant");setTimeout(()=>_.scroll("force"));var d=M(t,!0,Ol);const a=(A,b)=>{let Z=()=>b().id,B=()=>b().content,O=()=>b().generating;var F=j(A),U=z(F),Y=N(()=>e.chat.userContentToText(B())),D=N(()=>e.chat.userContentToFiles(B()));rl(U,{get contentText(){return H(Y)},get contentFiles(){return H(D)},get generating(){return O()},onsubmit:R=>e.chat.changeUserMessageAndSubmit(Z(),R)}),E(A,F)};var o=w(d);_e(o,A=>_.containerDiv=A);var i=w(o),f=w(i),n=w(f),h=w(n),c=m(m(f)),y=m(m(i)),T=m(m(o)),k=m(m(T));He("scroll",o,_.handleUserScrollDebounced,!1),n.__click=[Il,e],Pl(h,{}),S(c,()=>!e.chat.connected,A=>{var b=j(A),Z=z(b);tt(Z,{style:"width: 1.5rem; height: 1.5rem;"}),E(A,b)},null),ce(y,u,65,(A,b,Z)=>{var B=j(A),O=z(B);Al(O,{get type(){return V(b).type},get agentName(){return H(C)},children:(F,U)=>{var Y=j(F),D=z(Y);S(D,()=>V(b).type==="user",R=>{var K=j(R),J=z(K);a(J,()=>V(b)),E(R,K)},R=>{var K=j(R),J=z(K);vl(J,{regenerate:()=>e.chat.regenerateOnAgentResponse(V(Z)),children:(ne,he)=>{var ee=j(ne),se=z(ee);ce(se,()=>V(b).parts,65,(Ze,W,Ul)=>{var Se=j(Ze),lt=z(Se);S(lt,()=>V(W).type==="content",oe=>{var ue=M(oe,!0,Fl),Le=w(ue);te(Le,()=>e.chat.renderAssistantMarkdown(V(W).content),!1),p(oe,ue)},oe=>{var ue=j(oe),Le=z(ue),rt=N(()=>e.chat.getFunctionCallStatus(V(W).result,e.chat.generating)),nt=N(()=>e.chat.renderFunctionHeader(V(W).name,r().functions)),at=N(()=>e.chat.renderFunctionCallArgs(V(W).arguments,V(W).name,r().functions)),it=N(()=>e.chat.getArgsTitle(V(W).name,r().functions)),vt=N(()=>e.chat.renderFunctionResult(V(W).result,V(W).name,r().functions)),st=N(()=>e.chat.getResultTitle(V(W).name,r().functions)),ot=N(()=>e.chat.getFunctionResultType(V(W).name,r().functions));Tl(Le,{get progressMode(){return H(rt)},get header(){return H(nt)},get args(){return H(at)},get argsTitle(){return H(it)},get result(){return H(vt)},get resultTitle(){return H(st)},get resultType(){return H(ot)},get generating(){return e.chat.generating}}),E(oe,ue)}),E(Ze,Se)},null),E(ne,ee)}}),E(R,K)}),E(F,Y)}}),E(A,B)},null),Nt(T,{get text(){return s.text},get generating(){return e.chat.generating},onchange:A=>s.text=A,onupload:()=>e.chat.upload(),onsubmit:()=>e.chat.sendMessage(),onstop:()=>e.chat.stopGenerating(),children:(A,b)=>{var Z=re(A,!0,Dl),B=z(Z),O=m(m(B));S(B,()=>s.images.length>0,F=>{var U=M(F,!0,Rl),Y=w(U);Ie(Y,()=>s.images.length,D=>{var R=j(D),K=z(R);ce(K,()=>s.images,65,(J,ne,he)=>{var ee=j(J),se=z(ee);Bl(se,{get image_url(){return V(ne).image_url.url},onremove:()=>e.chat.prompt.removeImage(V(he))}),E(J,ee)},null),E(D,R)}),p(F,U)},null),S(O,()=>s.files.length>0,F=>{var U=M(F,!0,Kl),Y=w(U);Ie(Y,()=>s.files.length,D=>{var R=j(D),K=z(R);ce(K,()=>s.files,65,(J,ne,he)=>{var ee=j(J),se=z(ee);et(se,{get name(){return V(ne).name},onremove:()=>e.chat.prompt.removeFile(V(he))}),E(J,ee)},null),E(D,R)}),p(F,U)},null),E(A,Z)}}),S(k,()=>g.items.length>0,A=>{var b=M(A,!0,Nl);At(b,()=>g.items,79,(Z,B)=>V(V(Z)).text,(Z,B,O)=>{let F=()=>V(V(B)).type,U=()=>V(V(B)).text;var Y=j(Z),D=z(Y);S(D,()=>g.showType(F()),R=>{var K=j(R),J=z(K);zl(J,{get type(){return F()},get text(){return U()},onremove:()=>g.remove(U())}),E(R,K)},null),E(Z,Y)},null),p(A,b)},null),p(t,d),P()}$(["click"]);export{ql as default};
