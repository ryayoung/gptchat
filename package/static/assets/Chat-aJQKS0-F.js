import{r as le,t as k,a as _,S as U,i as Y,s as D,e as w,b as f,c as L,l as q,d as We,n as $,f as H,g as X,o as Qe,h as ze,j as ee,k as A,m as p,p as ne,q as z,u as R,v as N,w as re,x as ie,y as se,z as E,A as I,B as K,C as ce,D as Q,E as x,F as J,G as te,H as W,I as fe,J as G}from"./index-V7QiBJNZ.js";import"https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/es/highlight.min.js";import"https://cdn.socket.io/4.7.2/socket.io.esm.min.js";function P(r){return(r==null?void 0:r.length)!==void 0?r:Array.from(r)}function Xe(r,e){k(r,1,1,()=>{e.delete(r.key)})}function xe(r,e,t,n,l,s,i,c,o,u,m,T){let g=r.length,v=s.length,h=g;const d={};for(;h--;)d[r[h].key]=h;const a=[],y=new Map,b=new Map,j=[];for(h=v;h--;){const M=T(l,s,h),S=t(M);let B=i.get(S);B?n&&j.push(()=>B.p(M,e)):(B=u(S,M),B.c()),y.set(S,a[h]=B),S in d&&b.set(S,Math.abs(h-d[S]))}const Z=new Set,V=new Set;function C(M){_(M,1),M.m(c,m),i.set(M.key,M),m=M.first,v--}for(;g&&v;){const M=a[v-1],S=r[g-1],B=M.key,O=S.key;M===S?(m=M.first,g--,v--):y.has(O)?!i.has(B)||Z.has(B)?C(M):V.has(O)?g--:b.get(B)>b.get(O)?(V.add(B),C(M)):(Z.add(O),g--):(o(S,i),g--)}for(;g--;){const M=r[g];y.has(M.key)||o(M,i)}for(;v;)C(a[v-1]);return le(j),a}function et(r){let e,t,n;return{c(){e=w("textarea"),f(e,"autocorrect","off"),f(e,"autocomplete","off"),f(e,"autocapitalize","off"),f(e,"spellcheck","false"),e.value=r[0],f(e,"placeholder",r[1]),f(e,"style",r[4]),f(e,"rows","1"),f(e,"class","svelte-rm3h0e")},m(l,s){L(l,e,s),r[12](e),t||(n=[q(e,"focus",function(){We(r[3])&&r[3].apply(this,arguments)}),q(e,"keydown",r[5]),q(e,"input",r[6])],t=!0)},p(l,[s]){r=l,s&1&&(e.value=r[0]),s&2&&f(e,"placeholder",r[1]),s&16&&f(e,"style",r[4])},i:$,o:$,d(l){l&&H(e),r[12](null),t=!1,le(n)}}}function tt(r,e,t){let n,l;const s=X();let{value:i}=e,{style:c}=e,{placeholder:o=""}=e,{submitKeyMode:u="enter"}=e,{maxHeight:m=0}=e,T;function g(b){T(b)&&(b.preventDefault(),s("submit"),ze().then(v))}let v;Qe(()=>v());function h(){v(),s("customchange",a.value)}function d(){a==null||a.focus()}let a;function y(b){ee[b?"unshift":"push"](()=>{a=b,t(2,a),t(9,m)})}return r.$$set=b=>{"value"in b&&t(0,i=b.value),"style"in b&&t(7,c=b.style),"placeholder"in b&&t(1,o=b.placeholder),"submitKeyMode"in b&&t(8,u=b.submitKeyMode),"maxHeight"in b&&t(9,m=b.maxHeight)},r.$$.update=()=>{r.$$.dirty&512&&t(11,n=m?`max-height: ${m}px;`:""),r.$$.dirty&2176&&t(4,l=`${n} ${c}`),r.$$.dirty&256&&(u==="enter"?T=b=>b.key==="Enter"&&!b.shiftKey:T=b=>b.key==="Enter"&&(b.metaKey||b.ctrlKey)),r.$$.dirty&516&&(m?t(3,v=()=>{a&&(a.scrollHeight>m?(t(2,a.style.overflowY="scroll",a),t(2,a.style.height=m+"px",a)):(t(2,a.style.overflowY="hidden",a),t(2,a.style.height="auto",a),t(2,a.style.height=a.scrollHeight+"px",a)))}):t(3,v=()=>{a&&(t(2,a.style.overflowY="hidden",a),t(2,a.style.height="auto",a),t(2,a.style.height=a.scrollHeight+"px",a))}))},[i,o,a,v,l,g,h,c,u,m,d,n,y]}class Ae extends U{constructor(e){super(),Y(this,e,tt,et,D,{value:0,style:7,placeholder:1,submitKeyMode:8,maxHeight:9,focus:10})}get focus(){return this.$$.ctx[10]}}function lt(r){let e,t;return{c(){e=A("svg"),t=A("path"),f(t,"d","M7 11L12 6L17 11M12 18V7"),f(t,"stroke","currentColor"),f(t,"stroke-width","2"),f(t,"stroke-linecap","round"),f(t,"stroke-linejoin","round"),f(e,"width","24"),f(e,"height","24"),f(e,"viewBox","0 0 24 24"),f(e,"fill","none"),f(e,"xmlns","http://www.w3.org/2000/svg")},m(n,l){L(n,e,l),p(e,t)},p:$,i:$,o:$,d(n){n&&H(e)}}}class nt extends U{constructor(e){super(),Y(this,e,null,lt,D,{})}}function rt(r){let e,t;return{c(){e=A("svg"),t=A("path"),f(t,"fill-rule","evenodd"),f(t,"clip-rule","evenodd"),f(t,"d","M9 7C9 4.23858 11.2386 2 14 2C16.7614 2 19 4.23858 19 7V15C19 18.866 15.866 22 12 22C8.13401 22 5 18.866 5 15V9C5 8.44772 5.44772 8 6 8C6.55228 8 7 8.44772 7 9V15C7 17.7614 9.23858 20 12 20C14.7614 20 17 17.7614 17 15V7C17 5.34315 15.6569 4 14 4C12.3431 4 11 5.34315 11 7V15C11 15.5523 11.4477 16 12 16C12.5523 16 13 15.5523 13 15V9C13 8.44772 13.4477 8 14 8C14.5523 8 15 8.44772 15 9V15C15 16.6569 13.6569 18 12 18C10.3431 18 9 16.6569 9 15V7Z"),f(t,"fill","currentColor"),f(e,"width","24"),f(e,"height","24"),f(e,"viewBox","0 0 24 24"),f(e,"fill","none"),f(e,"xmlns","http://www.w3.org/2000/svg")},m(n,l){L(n,e,l),p(e,t)},p:$,i:$,o:$,d(n){n&&H(e)}}}class it extends U{constructor(e){super(),Y(this,e,null,rt,D,{})}}function st(r){let e,t,n,l,s;return t=new nt({}),{c(){e=w("button"),R(t.$$.fragment),f(e,"class","send-btn flex-center bottom-right svelte-1gfedl3"),ce(e,"dimmed",r[0]==="")},m(i,c){L(i,e,c),N(t,e,null),n=!0,l||(s=q(e,"click",r[11]),l=!0)},p(i,c){(!n||c&1)&&ce(e,"dimmed",i[0]==="")},i(i){n||(_(t.$$.fragment,i),n=!0)},o(i){k(t.$$.fragment,i),n=!1},d(i){i&&H(e),K(t),l=!1,s()}}}function ot(r){let e,t,n;return{c(){e=w("button"),e.innerHTML='<div class="square svelte-1gfedl3"></div>',f(e,"class","stop-btn bottom-right rounded svelte-1gfedl3")},m(l,s){L(l,e,s),t||(n=q(e,"click",r[10]),t=!0)},p:$,i:$,o:$,d(l){l&&H(e),t=!1,n()}}}function ct(r){let e,t,n,l,s,i,c,o,u,m,T,g,v;const h=r[5].default,d=ne(h,r,r[4],null);let a={value:r[0],placeholder:"Send a message...",maxHeight:200,style:"height: 3.25rem; padding: .875rem 3rem .875rem 3rem;"};l=new Ae({props:a}),r[6](l),l.$on("customchange",r[7]),l.$on("submit",r[8]),c=new it({});const y=[ot,st],b=[];function j(Z,V){return Z[1]?0:1}return u=j(r),m=b[u]=y[u](r),{c(){e=w("div"),t=w("form"),d&&d.c(),n=z(),R(l.$$.fragment),s=z(),i=w("button"),R(c.$$.fragment),o=z(),m.c(),f(i,"class","upload-btn bottom-left svelte-1gfedl3"),f(t,"class","prompt flex-col relative w-full svelte-1gfedl3"),f(e,"class","prompt-container flex justify-center w-full")},m(Z,V){L(Z,e,V),p(e,t),d&&d.m(t,null),p(t,n),N(l,t,null),p(t,s),p(t,i),N(c,i,null),p(t,o),b[u].m(t,null),T=!0,g||(v=q(i,"click",r[9]),g=!0)},p(Z,[V]){d&&d.p&&(!T||V&16)&&re(d,h,Z,Z[4],T?se(h,Z[4],V,null):ie(Z[4]),null);const C={};V&1&&(C.value=Z[0]),l.$set(C);let M=u;u=j(Z),u===M?b[u].p(Z,V):(E(),k(b[M],1,1,()=>{b[M]=null}),I(),m=b[u],m?m.p(Z,V):(m=b[u]=y[u](Z),m.c()),_(m,1),m.m(t,null))},i(Z){T||(_(d,Z),_(l.$$.fragment,Z),_(c.$$.fragment,Z),_(m),T=!0)},o(Z){k(d,Z),k(l.$$.fragment,Z),k(c.$$.fragment,Z),k(m),T=!1},d(Z){Z&&H(e),d&&d.d(Z),r[6](null),K(l),K(c),b[u].d(),g=!1,v()}}}function ft(r,e,t){let{$$slots:n={},$$scope:l}=e;const s=X();let{text:i}=e,{generating:c}=e;setTimeout(()=>o==null?void 0:o.focus(),50);let o;function u(d){ee[d?"unshift":"push"](()=>{o=d,t(2,o)})}const m=d=>s("customchange",d.detail),T=()=>s("submit"),g=()=>s("upload"),v=()=>s("stop"),h=()=>s("submit");return r.$$set=d=>{"text"in d&&t(0,i=d.text),"generating"in d&&t(1,c=d.generating),"$$scope"in d&&t(4,l=d.$$scope)},[i,c,o,s,l,n,u,m,T,g,v,h]}class ut extends U{constructor(e){super(),Y(this,e,ft,ct,D,{text:0,generating:1})}}function at(r){let e,t;return{c(){e=A("svg"),t=A("path"),f(t,"fill-rule","evenodd"),f(t,"clip-rule","evenodd"),f(t,"d","M13.2929 4.29291C15.0641 2.52167 17.9359 2.52167 19.7071 4.2929C21.4783 6.06414 21.4783 8.93588 19.7071 10.7071L18.7073 11.7069L11.1603 19.2539C10.7182 19.696 10.1489 19.989 9.53219 20.0918L4.1644 20.9864C3.84584 21.0395 3.52125 20.9355 3.29289 20.7071C3.06453 20.4788 2.96051 20.1542 3.0136 19.8356L3.90824 14.4678C4.01103 13.8511 4.30396 13.2818 4.7461 12.8397L13.2929 4.29291ZM13 7.41422L6.16031 14.2539C6.01293 14.4013 5.91529 14.591 5.88102 14.7966L5.21655 18.7835L9.20339 18.119C9.40898 18.0847 9.59872 17.9871 9.7461 17.8397L16.5858 11L13 7.41422ZM18 9.5858L14.4142 6.00001L14.7071 5.70712C15.6973 4.71693 17.3027 4.71693 18.2929 5.70712C19.2831 6.69731 19.2831 8.30272 18.2929 9.29291L18 9.5858Z"),f(t,"fill","currentColor"),f(e,"class","icon-md"),f(e,"width","24"),f(e,"height","24"),f(e,"viewBox","0 0 24 24"),f(e,"fill","none"),f(e,"xmlns","http://www.w3.org/2000/svg")},m(n,l){L(n,e,l),p(e,t)},p:$,i:$,o:$,d(n){n&&H(e)}}}class dt extends U{constructor(e){super(),Y(this,e,null,at,D,{})}}function mt(r){let e,t;return{c(){e=A("svg"),t=A("path"),f(t,"fill-rule","evenodd"),f(t,"clip-rule","evenodd"),f(t,"d","M8 8.707l3.646 3.647.708-.707L8.707 8l3.647-3.646-.707-.708L8 7.293 4.354 3.646l-.707.708L7.293 8l-3.646 3.646.707.708L8 8.707z"),f(e,"style",r[0]),f(e,"class","codicon-svg"),f(e,"viewBox","0 0 16 16"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"fill","currentColor")},m(n,l){L(n,e,l),p(e,t)},p(n,[l]){l&1&&f(e,"style",n[0])},i:$,o:$,d(n){n&&H(e)}}}function gt(r,e,t){let{style:n=""}=e;return r.$$set=l=>{"style"in l&&t(0,n=l.style)},[n]}class oe extends U{constructor(e){super(),Y(this,e,gt,mt,D,{style:0})}}function _t(r){let e,t;return{c(){e=A("svg"),t=A("path"),f(t,"fill-rule","evenodd"),f(t,"clip-rule","evenodd"),f(t,"d","M13.71 4.29l-3-3L10 1H4L3 2v12l1 1h9l1-1V5l-.29-.71zM13 14H4V2h5v4h4v8zm-3-9V2l3 3h-3z"),f(e,"style",r[0]),f(e,"class","codicon-svg"),f(e,"viewBox","0 0 16 16"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"fill","currentColor")},m(n,l){L(n,e,l),p(e,t)},p(n,[l]){l&1&&f(e,"style",n[0])},i:$,o:$,d(n){n&&H(e)}}}function ht(r,e,t){let{style:n=""}=e;return r.$$set=l=>{"style"in l&&t(0,n=l.style)},[n]}class pt extends U{constructor(e){super(),Y(this,e,ht,_t,D,{style:0})}}function ue(r){let e,t,n,l,s;return t=new oe({}),{c(){e=w("button"),R(t.$$.fragment),f(e,"class","svelte-eflf79")},m(i,c){L(i,e,c),N(t,e,null),n=!0,l||(s=q(e,"click",r[4]),l=!0)},p:$,i(i){n||(_(t.$$.fragment,i),n=!0)},o(i){k(t.$$.fragment,i),n=!1},d(i){i&&H(e),K(t),l=!1,s()}}}function vt(r){let e,t,n,l,s,i,c,o;n=new pt({});let u=r[1]&&ue(r);return{c(){e=w("div"),t=w("div"),R(n.$$.fragment),l=z(),s=w("span"),i=Q(r[0]),c=z(),u&&u.c(),f(t,"class","icon svelte-eflf79"),f(s,"class","svelte-eflf79"),f(e,"class","file-item inline-flex items-center gap.5 relative set-visibility-on-hover text-sm svelte-eflf79"),f(e,"style",r[2])},m(m,T){L(m,e,T),p(e,t),N(n,t,null),p(e,l),p(e,s),p(s,i),p(e,c),u&&u.m(e,null),o=!0},p(m,[T]){(!o||T&1)&&x(i,m[0]),m[1]?u?(u.p(m,T),T&2&&_(u,1)):(u=ue(m),u.c(),_(u,1),u.m(e,null)):u&&(E(),k(u,1,1,()=>{u=null}),I()),(!o||T&4)&&f(e,"style",m[2])},i(m){o||(_(n.$$.fragment,m),_(u),o=!0)},o(m){k(n.$$.fragment,m),k(u),o=!1},d(m){m&&H(e),K(n),u&&u.d()}}}function bt(r,e,t){const n=X();let{name:l}=e,{removable:s=!1}=e,{style:i=""}=e;const c=()=>n("remove");return r.$$set=o=>{"name"in o&&t(0,l=o.name),"removable"in o&&t(1,s=o.removable),"style"in o&&t(2,i=o.style)},[l,s,i,n,c]}class Re extends U{constructor(e){super(),Y(this,e,bt,vt,D,{name:0,removable:1,style:2})}}function ae(r,e,t){const n=r.slice();return n[13]=e[t],n}function kt(r){let e,t;return e=new Re({props:{name:r[13].name,style:"margin: .5rem 0 1rem 0;"}}),{c(){R(e.$$.fragment)},m(n,l){N(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.name=n[13].name),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function wt(r){let e,t;return{c(){e=w("img"),W(e,"max-height","12rem"),W(e,"width","auto"),W(e,"height","auto"),fe(e.src,t=r[13].image_url.url)||f(e,"src",t),f(e,"alt","Uploaded"),f(e,"loading","lazy"),f(e,"decoding","async")},m(n,l){L(n,e,l)},p(n,l){l&2&&!fe(e.src,t=n[13].image_url.url)&&f(e,"src",t)},i:$,o:$,d(n){n&&H(e)}}}function de(r){let e,t,n,l;const s=[wt,kt],i=[];function c(o,u){return o[13].type==="image_url"?0:o[13].type==="binary"?1:-1}return~(t=c(r))&&(n=i[t]=s[t](r)),{c(){e=w("div"),n&&n.c()},m(o,u){L(o,e,u),~t&&i[t].m(e,null),l=!0},p(o,u){let m=t;t=c(o),t===m?~t&&i[t].p(o,u):(n&&(E(),k(i[m],1,1,()=>{i[m]=null}),I()),~t?(n=i[t],n?n.p(o,u):(n=i[t]=s[t](o),n.c()),_(n,1),n.m(e,null)):n=null)},i(o){l||(_(n),l=!0)},o(o){k(n),l=!1},d(o){o&&H(e),~t&&i[t].d()}}}function Ct(r){let e,t,n,l,s,i,c,o,u,m,T={value:r[4],style:"min-height: 1.25rem; word-wrap: break-word; white-space: pre-wrap;",submitKeyMode:"ctrl-enter"};return e=new Ae({props:T}),r[10](e),e.$on("customchange",r[11]),e.$on("submit",r[8]),{c(){R(e.$$.fragment),t=z(),n=w("div"),l=w("button"),s=w("div"),s.textContent="Save & Submit",i=z(),c=w("button"),c.innerHTML='<div class="flex-center">Cancel</div>',f(s,"class","flex-center"),f(l,"class","btn btn-primary"),l.disabled=r[2],f(c,"class","btn btn-neutral"),f(n,"class","editing-controls flex justify-center gap.5 svelte-1cz09sb")},m(g,v){N(e,g,v),L(g,t,v),L(g,n,v),p(n,l),p(l,s),p(n,i),p(n,c),o=!0,u||(m=[q(l,"click",r[8]),q(c,"click",r[7])],u=!0)},p(g,v){const h={};v&16&&(h.value=g[4]),e.$set(h),(!o||v&4)&&(l.disabled=g[2])},i(g){o||(_(e.$$.fragment,g),o=!0)},o(g){k(e.$$.fragment,g),o=!1},d(g){g&&(H(t),H(n)),r[10](null),K(e,g),u=!1,le(m)}}}function yt(r){let e,t;return{c(){e=w("div"),t=Q(r[0]),f(e,"class","user-text flex-col items-start gap.75 selectable-text-deep svelte-1cz09sb")},m(n,l){L(n,e,l),p(e,t)},p(n,l){l&1&&x(t,n[0])},i:$,o:$,d(n){n&&H(e)}}}function me(r){let e,t,n,l,s,i,c,o;return s=new dt({}),{c(){e=w("div"),t=w("div"),n=w("button"),l=w("div"),R(s.$$.fragment),f(l,"class","icon-wrapper flex items-center gap.375 text-xs"),f(n,"class","svelte-1cz09sb"),f(t,"class","buttons-container flex gap.25 svelte-1cz09sb"),f(e,"class","controls flex gap.75 svelte-1cz09sb")},m(u,m){L(u,e,m),p(e,t),p(t,n),p(n,l),N(s,l,null),i=!0,c||(o=q(n,"click",r[6]),c=!0)},p:$,i(u){i||(_(s.$$.fragment,u),i=!0)},o(u){k(s.$$.fragment,u),i=!1},d(u){u&&H(e),K(s),c=!1,o()}}}function Mt(r){let e,t,n,l,s,i,c,o=P(r[1]),u=[];for(let d=0;d<o.length;d+=1)u[d]=de(ae(r,o,d));const m=d=>k(u[d],1,1,()=>{u[d]=null}),T=[yt,Ct],g=[];function v(d,a){return d[3]?1:0}n=v(r),l=g[n]=T[n](r);let h=!r[3]&&me(r);return{c(){e=w("div");for(let d=0;d<u.length;d+=1)u[d].c();t=z(),l.c(),s=z(),h&&h.c(),i=J(),f(e,"class","content-container flex-col svelte-1cz09sb")},m(d,a){L(d,e,a);for(let y=0;y<u.length;y+=1)u[y]&&u[y].m(e,null);p(e,t),g[n].m(e,null),L(d,s,a),h&&h.m(d,a),L(d,i,a),c=!0},p(d,[a]){if(a&2){o=P(d[1]);let b;for(b=0;b<o.length;b+=1){const j=ae(d,o,b);u[b]?(u[b].p(j,a),_(u[b],1)):(u[b]=de(j),u[b].c(),_(u[b],1),u[b].m(e,t))}for(E(),b=o.length;b<u.length;b+=1)m(b);I()}let y=n;n=v(d),n===y?g[n].p(d,a):(E(),k(g[y],1,1,()=>{g[y]=null}),I(),l=g[n],l?l.p(d,a):(l=g[n]=T[n](d),l.c()),_(l,1),l.m(e,null)),d[3]?h&&(E(),k(h,1,1,()=>{h=null}),I()):h?(h.p(d,a),a&8&&_(h,1)):(h=me(d),h.c(),_(h,1),h.m(i.parentNode,i))},i(d){if(!c){for(let a=0;a<o.length;a+=1)_(u[a]);_(l),_(h),c=!0}},o(d){u=u.filter(Boolean);for(let a=0;a<u.length;a+=1)k(u[a]);k(l),k(h),c=!1},d(d){d&&(H(e),H(s),H(i)),te(u,d),g[n].d(),h&&h.d(d)}}}function Lt(r,e,t){const n=X();let{id:l}=e,{contentText:s}=e,{contentFiles:i}=e,{generating:c}=e,o=!1,u="";function m(){t(4,u=s),t(3,o=!0),ze().then(()=>{v==null||v.focus()})}function T(){t(4,u=""),t(3,o=!1)}function g(){n("submit",{text:u,id:l}),T()}let v=null;function h(a){ee[a?"unshift":"push"](()=>{v=a,t(5,v)})}const d=a=>t(4,u=a.detail);return r.$$set=a=>{"id"in a&&t(9,l=a.id),"contentText"in a&&t(0,s=a.contentText),"contentFiles"in a&&t(1,i=a.contentFiles),"generating"in a&&t(2,c=a.generating)},[s,i,c,o,u,v,m,T,g,l,h,d]}class Ht extends U{constructor(e){super(),Y(this,e,Lt,Mt,D,{id:9,contentText:0,contentFiles:1,generating:2})}}function Tt(r){let e,t;return{c(){e=A("svg"),t=A("path"),f(t,"fill-rule","evenodd"),f(t,"clip-rule","evenodd"),f(t,"d","M4.5 2.5C5.05228 2.5 5.5 2.94772 5.5 3.5V5.07196C7.19872 3.47759 9.48483 2.5 12 2.5C17.2467 2.5 21.5 6.75329 21.5 12C21.5 17.2467 17.2467 21.5 12 21.5C7.1307 21.5 3.11828 17.8375 2.565 13.1164C2.50071 12.5679 2.89327 12.0711 3.4418 12.0068C3.99033 11.9425 4.48712 12.3351 4.5514 12.8836C4.98798 16.6089 8.15708 19.5 12 19.5C16.1421 19.5 19.5 16.1421 19.5 12C19.5 7.85786 16.1421 4.5 12 4.5C9.7796 4.5 7.7836 5.46469 6.40954 7H9C9.55228 7 10 7.44772 10 8C10 8.55228 9.55228 9 9 9H4.5C3.96064 9 3.52101 8.57299 3.50073 8.03859C3.49983 8.01771 3.49958 7.99677 3.5 7.9758V3.5C3.5 2.94772 3.94771 2.5 4.5 2.5Z"),f(t,"fill","currentColor"),f(e,"class","icon-md"),f(e,"width","24"),f(e,"height","24"),f(e,"viewBox","0 0 24 24"),f(e,"fill","none"),f(e,"xmlns","http://www.w3.org/2000/svg")},m(n,l){L(n,e,l),p(e,t)},p:$,i:$,o:$,d(n){n&&H(e)}}}class Vt extends U{constructor(e){super(),Y(this,e,null,Tt,D,{})}}function $t(r){let e,t,n,l,s,i,c,o,u,m,T;const g=r[2].default,v=ne(g,r,r[1],null);return o=new Vt({}),{c(){e=w("div"),t=w("div"),v&&v.c(),n=z(),l=w("div"),s=w("div"),i=w("button"),c=w("div"),R(o.$$.fragment),f(t,"class","content-container flex-col svelte-1nno5e5"),f(c,"class","icon-wrapper flex items-center gap.375 text-xs"),f(i,"class","svelte-1nno5e5"),f(s,"class","buttons-container"),f(l,"class","controls flex gap.25 svelte-1nno5e5"),f(e,"class","sections-container")},m(h,d){L(h,e,d),p(e,t),v&&v.m(t,null),p(e,n),p(e,l),p(l,s),p(s,i),p(i,c),N(o,c,null),u=!0,m||(T=q(i,"click",r[3]),m=!0)},p(h,[d]){v&&v.p&&(!u||d&2)&&re(v,g,h,h[1],u?se(g,h[1],d,null):ie(h[1]),null)},i(h){u||(_(v,h),_(o.$$.fragment,h),u=!0)},o(h){k(v,h),k(o.$$.fragment,h),u=!1},d(h){h&&H(e),v&&v.d(h),K(o),m=!1,T()}}}function jt(r,e,t){let{$$slots:n={},$$scope:l}=e;const s=X(),i=()=>s("regenerate");return r.$$set=c=>{"$$scope"in c&&t(1,l=c.$$scope)},[s,l,n,i]}class Ft extends U{constructor(e){super(),Y(this,e,jt,$t,D,{})}}function Zt(r){let e,t;return{c(){e=A("svg"),t=A("path"),f(t,"fill-rule","evenodd"),f(t,"clip-rule","evenodd"),f(t,"d","M7.66607 0.376042C8.01072 0.605806 8.10385 1.07146 7.87408 1.4161L3.54075 7.9161C3.40573 8.11863 3.18083 8.24304 2.93752 8.24979C2.69421 8.25654 2.46275 8.1448 2.31671 7.95008L0.150044 5.06119C-0.098484 4.72982 -0.0313267 4.25972 0.300044 4.01119C0.631415 3.76266 1.10152 3.82982 1.35004 4.16119L2.88068 6.20204L6.62601 0.584055C6.85577 0.239408 7.32142 0.146278 7.66607 0.376042Z"),f(t,"fill","currentColor"),f(e,"viewBox","0 0 8 9"),f(e,"width","8"),f(e,"height","9"),f(e,"fill","none"),f(e,"xmlns","http://www.w3.org/2000/svg")},m(n,l){L(n,e,l),p(e,t)},p:$,i:$,o:$,d(n){n&&H(e)}}}class Bt extends U{constructor(e){super(),Y(this,e,null,Zt,D,{})}}function St(r){let e,t,n,l,s;return{c(){e=A("svg"),t=A("mask"),n=A("path"),l=A("path"),s=A("path"),f(n,"fill-rule","evenodd"),f(n,"clip-rule","evenodd"),f(n,"d","M1 6.5C1 7.05228 1.44772 7.5 2 7.5C2.55228 7.5 3 7.05228 3 6.5V1.5C3 0.947715 2.55228 0.5 2 0.5C1.44772 0.5 1 0.947715 1 1.5L1 6.5ZM0.75 10.25C0.75 10.9404 1.30964 11.5 2 11.5C2.69036 11.5 3.25 10.9404 3.25 10.25C3.25 9.55964 2.69036 9 2 9C1.30964 9 0.75 9.55964 0.75 10.25Z"),f(t,"id","path-1-inside-1_1975_4008"),f(t,"fill","currentColor"),f(l,"fill-rule","evenodd"),f(l,"clip-rule","evenodd"),f(l,"d","M1 6.5C1 7.05228 1.44772 7.5 2 7.5C2.55228 7.5 3 7.05228 3 6.5V1.5C3 0.947715 2.55228 0.5 2 0.5C1.44772 0.5 1 0.947715 1 1.5L1 6.5ZM0.75 10.25C0.75 10.9404 1.30964 11.5 2 11.5C2.69036 11.5 3.25 10.9404 3.25 10.25C3.25 9.55964 2.69036 9 2 9C1.30964 9 0.75 9.55964 0.75 10.25Z"),f(l,"fill","currentColor"),f(s,"d","M1 6.5H-0.25H1ZM1 1.5L-0.25 1.5L-0.25 1.5L1 1.5ZM2 6.25C2.13807 6.25 2.25 6.36193 2.25 6.5H-0.25C-0.25 7.74264 0.757359 8.75 2 8.75V6.25ZM1.75 6.5C1.75 6.36193 1.86193 6.25 2 6.25V8.75C3.24264 8.75 4.25 7.74264 4.25 6.5H1.75ZM1.75 1.5V6.5H4.25V1.5H1.75ZM2 1.75C1.86193 1.75 1.75 1.63807 1.75 1.5H4.25C4.25 0.257359 3.24264 -0.75 2 -0.75V1.75ZM2.25 1.5C2.25 1.63807 2.13807 1.75 2 1.75V-0.75C0.757359 -0.75 -0.25 0.257359 -0.25 1.5L2.25 1.5ZM2.25 6.5L2.25 1.5L-0.25 1.5L-0.25 6.5L2.25 6.5ZM2 10.25H-0.5C-0.5 11.6307 0.619288 12.75 2 12.75V10.25ZM2 10.25V12.75C3.38071 12.75 4.5 11.6307 4.5 10.25H2ZM2 10.25H2H4.5C4.5 8.86929 3.38071 7.75 2 7.75V10.25ZM2 10.25H2V7.75C0.619288 7.75 -0.5 8.86929 -0.5 10.25H2Z"),f(s,"fill","currentColor"),f(s,"mask","url(#path-1-inside-1_1975_4008)"),f(e,"viewBox","0 0 4 12"),f(e,"width","4"),f(e,"height","12"),f(e,"fill","none"),f(e,"xmlns","http://www.w3.org/2000/svg")},m(i,c){L(i,e,c),p(e,t),p(t,n),p(e,l),p(e,s)},p:$,i:$,o:$,d(i){i&&H(e)}}}class zt extends U{constructor(e){super(),Y(this,e,null,St,D,{})}}function At(r){let e,t,n;return{c(){e=A("svg"),t=A("path"),f(t,"d","M11.3346 7.83203L8.00131 11.1654L4.66797 7.83203"),f(t,"stroke","currentColor"),f(t,"stroke-width","2"),f(t,"stroke-linecap","round"),f(t,"stroke-linejoin","round"),f(e,"style",n=r[0]?"":"transform: rotate(270deg)"),f(e,"width","16"),f(e,"height","17"),f(e,"viewBox","0 0 16 17"),f(e,"fill","none"),f(e,"xmlns","http://www.w3.org/2000/svg")},m(l,s){L(l,e,s),p(e,t)},p(l,[s]){s&1&&n!==(n=l[0]?"":"transform: rotate(270deg)")&&f(e,"style",n)},i:$,o:$,d(l){l&&H(e)}}}function Rt(r,e,t){let{open:n=!1}=e;return r.$$set=l=>{"open"in l&&t(0,n=l.open)},[n]}class Nt extends U{constructor(e){super(),Y(this,e,Rt,At,D,{open:0})}}function Kt(r){let e,t;return{c(){e=A("svg"),t=A("path"),f(t,"fill-rule","evenodd"),f(t,"clip-rule","evenodd"),f(t,"d","M13.917 7A6.002 6.002 0 0 0 2.083 7H1.071a7.002 7.002 0 0 1 13.858 0h-1.012z"),f(e,"style",r[0]),f(e,"class","codicon-svg loading"),f(e,"viewBox","0 0 16 16"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"fill","currentColor")},m(n,l){L(n,e,l),p(e,t)},p(n,[l]){l&1&&f(e,"style",n[0])},i:$,o:$,d(n){n&&H(e)}}}function Dt(r,e,t){let{style:n=""}=e;return r.$$set=l=>{"style"in l&&t(0,n=l.style)},[n]}class Ne extends U{constructor(e){super(),Y(this,e,Dt,Kt,D,{style:0})}}function Et(r){let e,t;return e=new Bt({}),{c(){R(e.$$.fragment)},m(n,l){N(e,n,l),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function It(r){let e,t;return e=new Ne({props:{style:"height: 1.25rem; width: 1.25rem;"}}),{c(){R(e.$$.fragment)},m(n,l){N(e,n,l),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function Ut(r){let e,t;return e=new zt({}),{c(){R(e.$$.fragment)},m(n,l){N(e,n,l),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function ge(r){let e,t,n=r[2]&&_e(r),l=r[3]&&he(r);return{c(){e=w("div"),n&&n.c(),t=z(),l&&l.c(),f(e,"class","content overflow-hidden svelte-1w2bpej")},m(s,i){L(s,e,i),n&&n.m(e,null),p(e,t),l&&l.m(e,null)},p(s,i){s[2]?n?n.p(s,i):(n=_e(s),n.c(),n.m(e,t)):n&&(n.d(1),n=null),s[3]?l?l.p(s,i):(l=he(s),l.c(),l.m(e,null)):l&&(l.d(1),l=null)},d(s){s&&H(e),n&&n.d(),l&&l.d()}}}function _e(r){let e,t,n;return{c(){e=w("div"),e.textContent="Arguments",t=z(),n=w("div"),f(e,"class","header text-xs svelte-1w2bpej"),f(n,"class","markdown-body arguments selectable-text-deep svelte-1w2bpej")},m(l,s){L(l,e,s),L(l,t,s),L(l,n,s),n.innerHTML=r[2]},p(l,s){s&4&&(n.innerHTML=l[2])},d(l){l&&(H(e),H(t),H(n))}}}function he(r){let e,t,n;function l(c,o){if(c[4]==="text")return qt;if(c[4]==="markdown")return Yt}let s=l(r),i=s&&s(r);return{c(){e=w("div"),t=w("div"),t.textContent="Result",n=z(),i&&i.c(),f(t,"class","title text-xs svelte-1w2bpej"),f(e,"class","footer svelte-1w2bpej")},m(c,o){L(c,e,o),p(e,t),p(e,n),i&&i.m(e,null)},p(c,o){s===(s=l(c))&&i?i.p(c,o):(i&&i.d(1),i=s&&s(c),i&&(i.c(),i.m(e,null)))},d(c){c&&H(e),i&&i.d()}}}function Yt(r){let e,t=r[5](r[3])+"";return{c(){e=w("div"),f(e,"class","markdown-body selectable-text-deep")},m(n,l){L(n,e,l),e.innerHTML=t},p(n,l){l&40&&t!==(t=n[5](n[3])+"")&&(e.innerHTML=t)},d(n){n&&H(e)}}}function qt(r){let e,t;return{c(){e=w("pre"),t=Q(r[3]),f(e,"class","result selectable-text")},m(n,l){L(n,e,l),p(e,t)},p(n,l){l&8&&x(t,n[3])},d(n){n&&H(e)}}}function Pt(r){let e,t,n,l,s,i,c,o,u,m,T,g,v,h,d,a,y;const b=[Ut,It,Et],j=[];function Z(C,M){return C[0]==="error"?0:C[0]==="progress"?1:2}l=Z(r),s=j[l]=b[l](r),g=new Nt({props:{open:r[6]}});let V=r[6]&&ge(r);return{c(){e=w("div"),t=w("div"),n=w("div"),s.c(),c=z(),o=w("div"),u=w("button"),m=w("div"),T=z(),R(g.$$.fragment),v=z(),V&&V.c(),h=J(),f(n,"class",i="indicator "+r[0]+" flex-center full rounded svelte-1w2bpej"),f(t,"class","indicator-container relative svelte-1w2bpej"),f(m,"class","markdown-body function-status selectable-text-deep svelte-1w2bpej"),f(u,"class","label flex items-center gap.25 svelte-1w2bpej"),f(o,"class","label-container relative w-full svelte-1w2bpej"),f(e,"class","tab flex items-center gap.625 svelte-1w2bpej")},m(C,M){L(C,e,M),p(e,t),p(t,n),j[l].m(n,null),p(e,c),p(e,o),p(o,u),p(u,m),m.innerHTML=r[1],p(u,T),N(g,u,null),L(C,v,M),V&&V.m(C,M),L(C,h,M),d=!0,a||(y=q(u,"click",r[8]),a=!0)},p(C,[M]){let S=l;l=Z(C),l!==S&&(E(),k(j[S],1,1,()=>{j[S]=null}),I(),s=j[l],s||(s=j[l]=b[l](C),s.c()),_(s,1),s.m(n,null)),(!d||M&1&&i!==(i="indicator "+C[0]+" flex-center full rounded svelte-1w2bpej"))&&f(n,"class",i),(!d||M&2)&&(m.innerHTML=C[1]);const B={};M&64&&(B.open=C[6]),g.$set(B),C[6]?V?V.p(C,M):(V=ge(C),V.c(),V.m(h.parentNode,h)):V&&(V.d(1),V=null)},i(C){d||(_(s),_(g.$$.fragment,C),d=!0)},o(C){k(s),k(g.$$.fragment,C),d=!1},d(C){C&&(H(e),H(v),H(h)),j[l].d(),K(g),V&&V.d(C),a=!1,y()}}}function Gt(r,e,t){let{progressMode:n}=e,{title:l}=e,{args:s}=e,{result:i}=e,{generating:c}=e,{resultType:o}=e,{markdownRenderer:u}=e,m=!0;const T=()=>t(6,m=!m);return r.$$set=g=>{"progressMode"in g&&t(0,n=g.progressMode),"title"in g&&t(1,l=g.title),"args"in g&&t(2,s=g.args),"result"in g&&t(3,i=g.result),"generating"in g&&t(7,c=g.generating),"resultType"in g&&t(4,o=g.resultType),"markdownRenderer"in g&&t(5,u=g.markdownRenderer)},[n,l,s,i,o,u,m,c,T]}class Jt extends U{constructor(e){super(),Y(this,e,Gt,Pt,D,{progressMode:0,title:1,args:2,result:3,generating:7,resultType:4,markdownRenderer:5})}}function Ot(r){let e,t,n,l,s,i,c,o=r[0]==="user"?"You":"Assistant",u,m,T,g,v,h;const d=r[2].default,a=ne(d,r,r[1],null);return{c(){e=w("div"),t=w("div"),n=w("div"),s=z(),i=w("div"),c=w("div"),u=Q(o),m=z(),T=w("div"),a&&a.c(),g=z(),v=w("div"),f(n,"class",l="avatar "+r[0]+" flex-center rounded overflow-hidden svelte-1nj1c9p"),f(c,"class","name svelte-1nj1c9p"),f(T,"class","sections-container"),f(i,"class","message-container flex-col relative w-full svelte-1nj1c9p"),f(v,"class","right-spacer svelte-1nj1c9p"),f(t,"class","chat flex gap.75 mx-auto svelte-1nj1c9p"),f(e,"class","chat-container w-full svelte-1nj1c9p")},m(y,b){L(y,e,b),p(e,t),p(t,n),p(t,s),p(t,i),p(i,c),p(c,u),p(i,m),p(i,T),a&&a.m(T,null),p(t,g),p(t,v),h=!0},p(y,[b]){(!h||b&1&&l!==(l="avatar "+y[0]+" flex-center rounded overflow-hidden svelte-1nj1c9p"))&&f(n,"class",l),(!h||b&1)&&o!==(o=y[0]==="user"?"You":"Assistant")&&x(u,o),a&&a.p&&(!h||b&2)&&re(a,d,y,y[1],h?se(d,y[1],b,null):ie(y[1]),null)},i(y){h||(_(a,y),h=!0)},o(y){k(a,y),h=!1},d(y){y&&H(e),a&&a.d(y)}}}function Wt(r,e,t){let{$$slots:n={},$$scope:l}=e,{type:s}=e;return r.$$set=i=>{"type"in i&&t(0,s=i.type),"$$scope"in i&&t(1,l=i.$$scope)},[s,l,n]}class Qt extends U{constructor(e){super(),Y(this,e,Wt,Ot,D,{type:0})}}function Xt(r){let e,t,n,l,s,i,c,o,u,m,T,g,v,h,d;return l=new oe({}),{c(){e=w("div"),t=w("div"),n=w("button"),R(l.$$.fragment),s=z(),i=w("div"),c=w("div"),o=Q(r[0]),u=Q(" Error"),m=z(),T=w("div"),g=Q(r[1]),f(n,"class","svelte-aes96c"),f(c,"class","header svelte-aes96c"),f(T,"class","text selectable-text svelte-aes96c"),f(i,"class","content flex-col gap.25"),f(t,"class","server-error flex items-start svelte-aes96c"),f(e,"class","background svelte-aes96c")},m(a,y){L(a,e,y),p(e,t),p(t,n),N(l,n,null),p(t,s),p(t,i),p(i,c),p(c,o),p(c,u),p(i,m),p(i,T),p(T,g),v=!0,h||(d=q(n,"click",r[3]),h=!0)},p(a,[y]){(!v||y&1)&&x(o,a[0]),(!v||y&2)&&x(g,a[1])},i(a){v||(_(l.$$.fragment,a),v=!0)},o(a){k(l.$$.fragment,a),v=!1},d(a){a&&H(e),K(l),h=!1,d()}}}function xt(r,e,t){const n=X();let{type:l}=e,{text:s}=e;const i=()=>n("remove");return r.$$set=c=>{"type"in c&&t(0,l=c.type),"text"in c&&t(1,s=c.text)},[l,s,n,i]}class el extends U{constructor(e){super(),Y(this,e,xt,Xt,D,{type:0,text:1})}}function pe(r){let e,t,n,l,s;return t=new oe({}),{c(){e=w("button"),R(t.$$.fragment),f(e,"class","remove rounded svelte-1kzkvmr")},m(i,c){L(i,e,c),N(t,e,null),n=!0,l||(s=q(e,"click",r[3]),l=!0)},p:$,i(i){n||(_(t.$$.fragment,i),n=!0)},o(i){k(t.$$.fragment,i),n=!1},d(i){i&&H(e),K(t),l=!1,s()}}}function tl(r){let e,t,n,l,s=r[1]&&pe(r);return{c(){e=w("div"),t=w("span"),n=z(),s&&s.c(),f(t,"class","image flex-center full svelte-1kzkvmr"),W(t,"background-image","url("+r[0]+")"),f(e,"class","image-item relative overflow-hidden set-visibility-on-hover svelte-1kzkvmr")},m(i,c){L(i,e,c),p(e,t),p(e,n),s&&s.m(e,null),l=!0},p(i,[c]){(!l||c&1)&&W(t,"background-image","url("+i[0]+")"),i[1]?s?(s.p(i,c),c&2&&_(s,1)):(s=pe(i),s.c(),_(s,1),s.m(e,null)):s&&(E(),k(s,1,1,()=>{s=null}),I())},i(i){l||(_(s),l=!0)},o(i){k(s),l=!1},d(i){i&&H(e),s&&s.d()}}}function ll(r,e,t){const n=X();let{image_url:l}=e,{removable:s}=e;const i=()=>n("remove");return r.$$set=c=>{"image_url"in c&&t(0,l=c.image_url),"removable"in c&&t(1,s=c.removable)},[l,s,n,i]}class nl extends U{constructor(e){super(),Y(this,e,ll,tl,D,{image_url:0,removable:1})}}function rl(r){let e,t;return{c(){e=A("svg"),t=A("path"),f(t,"fill-rule","evenodd"),f(t,"clip-rule","evenodd"),f(t,"d","M16.7929 2.79289C18.0118 1.57394 19.9882 1.57394 21.2071 2.79289C22.4261 4.01184 22.4261 5.98815 21.2071 7.20711L12.7071 15.7071C12.5196 15.8946 12.2652 16 12 16H9C8.44772 16 8 15.5523 8 15V12C8 11.7348 8.10536 11.4804 8.29289 11.2929L16.7929 2.79289ZM19.7929 4.20711C19.355 3.7692 18.645 3.7692 18.2071 4.2071L10 12.4142V14H11.5858L19.7929 5.79289C20.2308 5.35499 20.2308 4.64501 19.7929 4.20711ZM6 5C5.44772 5 5 5.44771 5 6V18C5 18.5523 5.44772 19 6 19H18C18.5523 19 19 18.5523 19 18V14C19 13.4477 19.4477 13 20 13C20.5523 13 21 13.4477 21 14V18C21 19.6569 19.6569 21 18 21H6C4.34315 21 3 19.6569 3 18V6C3 4.34314 4.34315 3 6 3H10C10.5523 3 11 3.44771 11 4C11 4.55228 10.5523 5 10 5H6Z"),f(t,"fill","currentColor"),f(e,"class","icon-md"),f(e,"width","24"),f(e,"height","24"),f(e,"viewBox","0 0 24 24"),f(e,"fill","none"),f(e,"xmlns","http://www.w3.org/2000/svg")},m(n,l){L(n,e,l),p(e,t)},p:$,i:$,o:$,d(n){n&&H(e)}}}class il extends U{constructor(e){super(),Y(this,e,null,rl,D,{})}}function ve(r,e,t){const n=r.slice();return n[35]=e[t].type,n[36]=e[t].text,n}function be(r,e,t){const n=r.slice();return n[39]=e[t],n[41]=t,n}function ke(r,e,t){const n=r.slice();return n[42]=e[t],n[41]=t,n}function we(r,e,t){const n=r.slice();return n[44]=e[t],n[46]=t,n}function Ce(r,e,t){const n=r.slice();return n[47]=e[t],n}function ye(r){let e,t;return e=new Ne({props:{style:"width: 1.5rem; height: 1.5rem;"}}),{c(){R(e.$$.fragment)},m(n,l){N(e,n,l),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function sl(r){let e,t;function n(){return r[24](r[46])}return e=new Ft({props:{$$slots:{default:[ul]},$$scope:{ctx:r}}}),e.$on("regenerate",n),{c(){R(e.$$.fragment)},m(l,s){N(e,l,s),t=!0},p(l,s){r=l;const i={};s[0]&57|s[1]&524288&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(l){t||(_(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function ol(r){let e,t;return e=new Ht({props:{id:r[44].id,contentText:r[0].userContentToText(r[44].content),contentFiles:r[0].userContentToFiles(r[44].content),generating:r[4]}}),e.$on("submit",r[11]),{c(){R(e.$$.fragment)},m(n,l){N(e,n,l),t=!0},p(n,l){const s={};l[0]&8&&(s.id=n[44].id),l[0]&9&&(s.contentText=n[0].userContentToText(n[44].content)),l[0]&9&&(s.contentFiles=n[0].userContentToFiles(n[44].content)),l[0]&16&&(s.generating=n[4]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function cl(r){let e,t;return e=new Jt({props:{progressMode:r[0].getFunctionCallStatus(r[47].result,r[4]),title:r[0].renderFunctionTitle(r[47].name,r[5].functions),args:r[0].renderFunctionCallArgs(r[47].arguments),result:r[47].result,generating:r[4],resultType:r[0].getFunctionResultType(r[47].name,r[5].functions),markdownRenderer:r[0].renderFunctionCallMarkdown}}),{c(){R(e.$$.fragment)},m(n,l){N(e,n,l),t=!0},p(n,l){const s={};l[0]&25&&(s.progressMode=n[0].getFunctionCallStatus(n[47].result,n[4])),l[0]&41&&(s.title=n[0].renderFunctionTitle(n[47].name,n[5].functions)),l[0]&9&&(s.args=n[0].renderFunctionCallArgs(n[47].arguments)),l[0]&8&&(s.result=n[47].result),l[0]&16&&(s.generating=n[4]),l[0]&41&&(s.resultType=n[0].getFunctionResultType(n[47].name,n[5].functions)),l[0]&1&&(s.markdownRenderer=n[0].renderFunctionCallMarkdown),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function fl(r){let e,t=r[0].renderAssistantMarkdown(r[47].content)+"";return{c(){e=w("div"),f(e,"class","markdown-body selectable-text-deep")},m(n,l){L(n,e,l),e.innerHTML=t},p(n,l){l[0]&9&&t!==(t=n[0].renderAssistantMarkdown(n[47].content)+"")&&(e.innerHTML=t)},i:$,o:$,d(n){n&&H(e)}}}function Me(r){let e,t,n,l;const s=[fl,cl],i=[];function c(o,u){return o[47].type==="content"?0:1}return e=c(r),t=i[e]=s[e](r),{c(){t.c(),n=J()},m(o,u){i[e].m(o,u),L(o,n,u),l=!0},p(o,u){let m=e;e=c(o),e===m?i[e].p(o,u):(E(),k(i[m],1,1,()=>{i[m]=null}),I(),t=i[e],t?t.p(o,u):(t=i[e]=s[e](o),t.c()),_(t,1),t.m(n.parentNode,n))},i(o){l||(_(t),l=!0)},o(o){k(t),l=!1},d(o){o&&H(n),i[e].d(o)}}}function ul(r){let e,t,n=P(r[44].parts),l=[];for(let i=0;i<n.length;i+=1)l[i]=Me(Ce(r,n,i));const s=i=>k(l[i],1,1,()=>{l[i]=null});return{c(){for(let i=0;i<l.length;i+=1)l[i].c();e=J()},m(i,c){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(i,c);L(i,e,c),t=!0},p(i,c){if(c[0]&57){n=P(i[44].parts);let o;for(o=0;o<n.length;o+=1){const u=Ce(i,n,o);l[o]?(l[o].p(u,c),_(l[o],1)):(l[o]=Me(u),l[o].c(),_(l[o],1),l[o].m(e.parentNode,e))}for(E(),o=n.length;o<l.length;o+=1)s(o);I()}},i(i){if(!t){for(let c=0;c<n.length;c+=1)_(l[c]);t=!0}},o(i){l=l.filter(Boolean);for(let c=0;c<l.length;c+=1)k(l[c]);t=!1},d(i){i&&H(e),te(l,i)}}}function al(r){let e,t,n,l;const s=[ol,sl],i=[];function c(o,u){return o[44].type==="user"?0:1}return e=c(r),t=i[e]=s[e](r),{c(){t.c(),n=J()},m(o,u){i[e].m(o,u),L(o,n,u),l=!0},p(o,u){let m=e;e=c(o),e===m?i[e].p(o,u):(E(),k(i[m],1,1,()=>{i[m]=null}),I(),t=i[e],t?t.p(o,u):(t=i[e]=s[e](o),t.c()),_(t,1),t.m(n.parentNode,n))},i(o){l||(_(t),l=!0)},o(o){k(t),l=!1},d(o){o&&H(n),i[e].d(o)}}}function Le(r){let e,t;return e=new Qt({props:{type:r[44].type,$$slots:{default:[al]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},m(n,l){N(e,n,l),t=!0},p(n,l){const s={};l[0]&8&&(s.type=n[44].type),l[0]&57|l[1]&524288&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function He(r){let e,t=r[8].length,n,l=Ve(r);return{c(){e=w("div"),l.c(),f(e,"class","file-uploads flex flex-wrap gap.5 text-sm svelte-1h9ake9")},m(s,i){L(s,e,i),l.m(e,null),n=!0},p(s,i){i[0]&256&&D(t,t=s[8].length)?(E(),k(l,1,1,$),I(),l=Ve(s),l.c(),_(l,1),l.m(e,null)):l.p(s,i)},i(s){n||(_(l),n=!0)},o(s){k(l),n=!1},d(s){s&&H(e),l.d(s)}}}function Te(r){let e,t;function n(){return r[27](r[41])}return e=new nl({props:{image_url:r[42].image_url.url,removable:!0}}),e.$on("remove",n),{c(){R(e.$$.fragment)},m(l,s){N(e,l,s),t=!0},p(l,s){r=l;const i={};s[0]&256&&(i.image_url=r[42].image_url.url),e.$set(i)},i(l){t||(_(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function Ve(r){let e,t,n=P(r[8]),l=[];for(let i=0;i<n.length;i+=1)l[i]=Te(ke(r,n,i));const s=i=>k(l[i],1,1,()=>{l[i]=null});return{c(){for(let i=0;i<l.length;i+=1)l[i].c();e=J()},m(i,c){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(i,c);L(i,e,c),t=!0},p(i,c){if(c[0]&257){n=P(i[8]);let o;for(o=0;o<n.length;o+=1){const u=ke(i,n,o);l[o]?(l[o].p(u,c),_(l[o],1)):(l[o]=Te(u),l[o].c(),_(l[o],1),l[o].m(e.parentNode,e))}for(E(),o=n.length;o<l.length;o+=1)s(o);I()}},i(i){if(!t){for(let c=0;c<n.length;c+=1)_(l[c]);t=!0}},o(i){l=l.filter(Boolean);for(let c=0;c<l.length;c+=1)k(l[c]);t=!1},d(i){i&&H(e),te(l,i)}}}function $e(r){let e,t=r[9].length,n,l=Fe(r);return{c(){e=w("div"),l.c(),f(e,"class","file-uploads flex flex-wrap gap.5 text-sm svelte-1h9ake9")},m(s,i){L(s,e,i),l.m(e,null),n=!0},p(s,i){i[0]&512&&D(t,t=s[9].length)?(E(),k(l,1,1,$),I(),l=Fe(s),l.c(),_(l,1),l.m(e,null)):l.p(s,i)},i(s){n||(_(l),n=!0)},o(s){k(l),n=!1},d(s){s&&H(e),l.d(s)}}}function je(r){let e,t;function n(){return r[28](r[41])}return e=new Re({props:{name:r[39].name,removable:!0}}),e.$on("remove",n),{c(){R(e.$$.fragment)},m(l,s){N(e,l,s),t=!0},p(l,s){r=l;const i={};s[0]&512&&(i.name=r[39].name),e.$set(i)},i(l){t||(_(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function Fe(r){let e,t,n=P(r[9]),l=[];for(let i=0;i<n.length;i+=1)l[i]=je(be(r,n,i));const s=i=>k(l[i],1,1,()=>{l[i]=null});return{c(){for(let i=0;i<l.length;i+=1)l[i].c();e=J()},m(i,c){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(i,c);L(i,e,c),t=!0},p(i,c){if(c[0]&513){n=P(i[9]);let o;for(o=0;o<n.length;o+=1){const u=be(i,n,o);l[o]?(l[o].p(u,c),_(l[o],1)):(l[o]=je(u),l[o].c(),_(l[o],1),l[o].m(e.parentNode,e))}for(E(),o=n.length;o<l.length;o+=1)s(o);I()}},i(i){if(!t){for(let c=0;c<n.length;c+=1)_(l[c]);t=!0}},o(i){l=l.filter(Boolean);for(let c=0;c<l.length;c+=1)k(l[c]);t=!1},d(i){i&&H(e),te(l,i)}}}function dl(r){let e,t,n,l=r[8].length>0&&He(r),s=r[9].length>0&&$e(r);return{c(){l&&l.c(),e=z(),s&&s.c(),t=J()},m(i,c){l&&l.m(i,c),L(i,e,c),s&&s.m(i,c),L(i,t,c),n=!0},p(i,c){i[8].length>0?l?(l.p(i,c),c[0]&256&&_(l,1)):(l=He(i),l.c(),_(l,1),l.m(e.parentNode,e)):l&&(E(),k(l,1,1,()=>{l=null}),I()),i[9].length>0?s?(s.p(i,c),c[0]&512&&_(s,1)):(s=$e(i),s.c(),_(s,1),s.m(t.parentNode,t)):s&&(E(),k(s,1,1,()=>{s=null}),I())},i(i){n||(_(l),_(s),n=!0)},o(i){k(l),k(s),n=!1},d(i){i&&(H(e),H(t)),l&&l.d(i),s&&s.d(i)}}}function Ze(r){let e,t=[],n=new Map,l,s=P(r[10]);const i=c=>c[36];for(let c=0;c<s.length;c+=1){let o=ve(r,s,c),u=i(o);n.set(u,t[c]=Se(u,o))}return{c(){e=w("div");for(let c=0;c<t.length;c+=1)t[c].c();f(e,"class","errors-container flex-col gap.5 svelte-1h9ake9")},m(c,o){L(c,e,o);for(let u=0;u<t.length;u+=1)t[u]&&t[u].m(e,null);l=!0},p(c,o){o[0]&66560&&(s=P(c[10]),E(),t=xe(t,o,i,1,c,s,n,e,Xe,Se,null,ve),I())},i(c){if(!l){for(let o=0;o<s.length;o+=1)_(t[o]);l=!0}},o(c){for(let o=0;o<t.length;o+=1)k(t[o]);l=!1},d(c){c&&H(e);for(let o=0;o<t.length;o+=1)t[o].d()}}}function Be(r){let e,t;function n(){return r[33](r[36])}return e=new el({props:{type:r[35],text:r[36]}}),e.$on("remove",n),{c(){R(e.$$.fragment)},m(l,s){N(e,l,s),t=!0},p(l,s){r=l;const i={};s[0]&1024&&(i.type=r[35]),s[0]&1024&&(i.text=r[36]),e.$set(i)},i(l){t||(_(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function Se(r,e){let t,n=e[16].showType(e[35]),l,s,i=n&&Be(e);return{key:r,first:null,c(){t=J(),i&&i.c(),l=J(),this.first=t},m(c,o){L(c,t,o),i&&i.m(c,o),L(c,l,o),s=!0},p(c,o){e=c,o[0]&1024&&(n=e[16].showType(e[35])),n?i?(i.p(e,o),o[0]&1024&&_(i,1)):(i=Be(e),i.c(),_(i,1),i.m(l.parentNode,l)):i&&(E(),k(i,1,1,()=>{i=null}),I())},i(c){s||(_(i),s=!0)},o(c){k(i),s=!1},d(c){c&&(H(t),H(l)),i&&i.d(c)}}}function ml(r){let e,t,n,l,s,i,c,o,u,m,T,g,v,h,d,a;i=new il({});let y=!r[2]&&ye(),b=P(r[3]),j=[];for(let C=0;C<b.length;C+=1)j[C]=Le(we(r,b,C));const Z=C=>k(j[C],1,1,()=>{j[C]=null});g=new ut({props:{text:r[7],generating:r[4],$$slots:{default:[dl]},$$scope:{ctx:r}}}),g.$on("customchange",r[29]),g.$on("upload",r[30]),g.$on("submit",r[31]),g.$on("stop",r[32]);let V=r[10].length>0&&Ze(r);return{c(){e=w("div"),t=w("div"),n=w("div"),l=w("div"),s=w("button"),R(i.$$.fragment),c=z(),y&&y.c(),o=z();for(let C=0;C<j.length;C+=1)j[C].c();u=z(),m=w("div"),T=z(),R(g.$$.fragment),v=z(),V&&V.c(),f(s,"class","new btn btn-neutral svelte-1h9ake9"),f(l,"class","flex items-center gap.5"),f(n,"class","header flex justify-between items-center svelte-1h9ake9"),W(m,"width","100%"),W(m,"height","0px"),W(m,"visibility","hidden"),f(t,"class","chats flex-col relative full scroll-y svelte-1h9ake9"),f(e,"class","container flex-col svelte-1h9ake9")},m(C,M){L(C,e,M),p(e,t),p(t,n),p(n,l),p(l,s),N(i,s,null),p(n,c),y&&y.m(n,null),p(t,o);for(let S=0;S<j.length;S+=1)j[S]&&j[S].m(t,null);p(t,u),p(t,m),r[25](m),r[26](t),p(e,T),N(g,e,null),p(e,v),V&&V.m(e,null),h=!0,d||(a=[q(s,"click",r[23]),q(t,"scroll",r[22])],d=!0)},p(C,M){if(C[2]?y&&(E(),k(y,1,1,()=>{y=null}),I()):y?M[0]&4&&_(y,1):(y=ye(),y.c(),_(y,1),y.m(n,null)),M[0]&2105){b=P(C[3]);let B;for(B=0;B<b.length;B+=1){const O=we(C,b,B);j[B]?(j[B].p(O,M),_(j[B],1)):(j[B]=Le(O),j[B].c(),_(j[B],1),j[B].m(t,u))}for(E(),B=b.length;B<j.length;B+=1)Z(B);I()}const S={};M[0]&128&&(S.text=C[7]),M[0]&16&&(S.generating=C[4]),M[0]&769|M[1]&524288&&(S.$$scope={dirty:M,ctx:C}),g.$set(S),C[10].length>0?V?(V.p(C,M),M[0]&1024&&_(V,1)):(V=Ze(C),V.c(),_(V,1),V.m(e,null)):V&&(E(),k(V,1,1,()=>{V=null}),I())},i(C){if(!h){_(i.$$.fragment,C),_(y);for(let M=0;M<b.length;M+=1)_(j[M]);_(g.$$.fragment,C),_(V),h=!0}},o(C){k(i.$$.fragment,C),k(y),j=j.filter(Boolean);for(let M=0;M<j.length;M+=1)k(j[M]);k(g.$$.fragment,C),k(V),h=!1},d(C){C&&H(e),K(i),y&&y.d(),te(j,C),r[25](null),r[26](null),K(g),V&&V.d(),d=!1,le(a)}}}function gl(r,e,t){let n,l,s,i,c,o,u,m,T,g,{chat:v}=e;function h(F){v.changeUserMessageAndSubmit(F.detail.id,F.detail.text)}const{text:d,files:a,images:y}=v.prompt;G(r,d,F=>t(7,u=F)),G(r,a,F=>t(9,T=F)),G(r,y,F=>t(8,m=F));const{connected:b,scroll:j,errors:Z,rendered:V,generating:C,config:M}=v;G(r,b,F=>t(2,l=F)),G(r,Z,F=>t(10,g=F)),G(r,V,F=>t(3,s=F)),G(r,C,F=>t(4,i=F)),G(r,M,F=>t(5,c=F));const{containerDiv:S,ghostDiv:B,handleUserScrollDebounced:O}=j;G(r,S,F=>t(1,n=F)),G(r,B,F=>t(6,o=F)),setTimeout(()=>j.scroll("force"));const Ke=()=>v.reset(),De=F=>v.regenerateOnAgentResponse(F);function Ee(F){ee[F?"unshift":"push"](()=>{o=F,B.set(o)})}function Ie(F){ee[F?"unshift":"push"](()=>{n=F,S.set(n)})}const Ue=F=>v.prompt.removeImage(F),Ye=F=>v.prompt.removeFile(F),qe=F=>d.set(F.detail),Pe=()=>v.upload(),Ge=()=>v.sendMessage(),Je=()=>v.stopGenerating(),Oe=F=>Z.remove(F);return r.$$set=F=>{"chat"in F&&t(0,v=F.chat)},[v,n,l,s,i,c,o,u,m,T,g,h,d,a,y,b,Z,V,C,M,S,B,O,Ke,De,Ee,Ie,Ue,Ye,qe,Pe,Ge,Je,Oe]}class vl extends U{constructor(e){super(),Y(this,e,gl,ml,D,{chat:0},null,[-1,-1])}}export{vl as default};
